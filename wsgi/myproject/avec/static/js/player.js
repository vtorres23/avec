!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.app=e()}}(function(){var e;return function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){t.exports=e("./src/index")},{"./src/index":20}],2:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t,i,r,l){if(!d(e))return e;var h=a(t)&&(g(t)||m(t)),u=h?void 0:v(t);return c(u||t,function(a,d){if(u&&(d=a,a=t[d]),n(a))r||(r=[]),l||(l=[]),s(e,t,d,o,i,r,l);else{var c=e[d],p=i?i(c,a,d,e,t):void 0,g=void 0===p;g&&(p=a),void 0===p&&(!h||d in e)||!g&&(p===p?p===c:c!==c)||(e[d]=p)}}),e}function s(e,t,i,n,o,s,r){for(var l=s.length,d=t[i];l--;)if(s[l]==d)return void(e[i]=r[l]);var c=e[i],u=o?o(c,d,i,e,t):void 0,v=void 0===u;v&&(u=d,a(d)&&(g(d)||m(d))?u=g(c)?c:a(c)?h(c):[]:f(d)||p(d)?u=p(c)?b(c):f(c)?c:{}:v=!1),s.push(d),r.push(u),v?e[i]=n(u,d,o,s,r):(u===u?u!==c:c===c)&&(e[i]=u)}function r(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&l(w(e))}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var h=e("lodash._arraycopy"),c=e("lodash._arrayeach"),u=e("lodash._createassigner"),p=e("lodash.isarguments"),g=e("lodash.isarray"),f=e("lodash.isplainobject"),m=e("lodash.istypedarray"),v=e("lodash.keys"),b=e("lodash.toplainobject"),y=9007199254740991,w=r("length"),T=u(o);t.exports=T},{"lodash._arraycopy":3,"lodash._arrayeach":4,"lodash._createassigner":5,"lodash.isarguments":10,"lodash.isarray":11,"lodash.isplainobject":12,"lodash.istypedarray":14,"lodash.keys":15,"lodash.toplainobject":17}],3:[function(e,t,i){function n(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}t.exports=n},{}],4:[function(e,t,i){function n(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}t.exports=n},{}],5:[function(e,t,i){function n(e){return r(function(t,i){var n=-1,r=null==t?0:i.length,a=r>2?i[r-2]:void 0,l=r>2?i[2]:void 0,d=r>1?i[r-1]:void 0;for("function"==typeof a?(a=o(a,d,5),r-=2):(a="function"==typeof d?d:void 0,r-=a?1:0),l&&s(i[0],i[1],l)&&(a=3>r?void 0:a,r=1);++n<r;){var h=i[n];h&&e(t,h,a)}return t})}var o=e("lodash._bindcallback"),s=e("lodash._isiterateecall"),r=e("lodash.restparam");t.exports=n},{"lodash._bindcallback":6,"lodash._isiterateecall":7,"lodash.restparam":8}],6:[function(e,t,i){function n(e,t,i){if("function"!=typeof e)return o;if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)};case 5:return function(i,n,o,s,r){return e.call(t,i,n,o,s,r)}}return function(){return e.apply(t,arguments)}}function o(e){return e}t.exports=n},{}],7:[function(e,t,i){function n(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(c(e))}function s(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?h:t,e>-1&&e%1==0&&t>e}function r(e,t,i){if(!l(i))return!1;var n=typeof t;if("number"==n?o(i)&&s(t,i.length):"string"==n&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&h>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var d=/^\d+$/,h=9007199254740991,c=n("length");t.exports=r},{}],8:[function(e,t,i){function n(e,t){if("function"!=typeof e)throw new TypeError(o);return t=s(void 0===t?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,o=s(i.length-t,0),r=Array(o);++n<o;)r[n]=i[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,i[0],r);case 2:return e.call(this,i[0],i[1],r)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=i[n];return a[t]=r,e.apply(this,a)}}var o="Expected a function",s=Math.max;t.exports=n},{}],9:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){var i=null==e?void 0:e[t];return a(i)?i:void 0}function s(e){return r(e)&&p.call(e)==l}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:s(e)?g.test(c.call(e)):n(e)&&d.test(e)}var l="[object Function]",d=/^\[object .+?Constructor\]$/,h=Object.prototype,c=Function.prototype.toString,u=h.hasOwnProperty,p=h.toString,g=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},{}],10:[function(e,t,i){(function(e){function i(e){return function(t){return null==t?void 0:t[e]}}function n(e){return s(e)&&f.call(e,"callee")&&(!v.call(e,"callee")||m.call(e)==c)}function o(e){return null!=e&&!("function"==typeof e&&r(e))&&a(b(e))}function s(e){return d(e)&&o(e)}function r(e){var t=l(e)?m.call(e):"";return t==u||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&h>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){return!!e&&"object"==typeof e}var h=9007199254740991,c="[object Arguments]",u="[object Function]",p="[object GeneratorFunction]",g=e.Object.prototype,f=g.hasOwnProperty,m=g.toString,v=g.propertyIsEnumerable,b=i("length");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){var i=null==e?void 0:e[t];return l(i)?i:void 0}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function r(e){return a(e)&&f.call(e)==h}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return null==e?!1:r(e)?m.test(p.call(e)):n(e)&&c.test(e)}var d="[object Array]",h="[object Function]",c=/^\[object .+?Constructor\]$/,u=Object.prototype,p=Function.prototype.toString,g=u.hasOwnProperty,f=u.toString,m=RegExp("^"+p.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=o(Array,"isArray"),b=9007199254740991,y=v||function(e){return n(e)&&s(e.length)&&f.call(e)==d};t.exports=y},{}],12:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){return r(e,t,l)}function s(e){var t;if(!n(e)||u.call(e)!=d||a(e)||!c.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return o(e,function(e,t){i=t}),void 0===i||c.call(e,i)}var r=e("lodash._basefor"),a=e("lodash.isarguments"),l=e("lodash.keysin"),d="[object Object]",h=Object.prototype,c=h.hasOwnProperty,u=h.toString;t.exports=s},{"lodash._basefor":13,"lodash.isarguments":10,"lodash.keysin":16}],13:[function(e,t,i){function n(e){return function(t,i,n){for(var o=-1,s=Object(t),r=n(t),a=r.length;a--;){var l=r[e?a:++o];if(i(s[l],l,s)===!1)break}return t}}var o=n();t.exports=o},{}],14:[function(e,t,i){(function(e){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&s>=e}function n(e){return!!e&&"object"==typeof e}function o(e){return n(e)&&i(e.length)&&!!M[z.call(e)]}var s=9007199254740991,r="[object Arguments]",a="[object Array]",l="[object Boolean]",d="[object Date]",h="[object Error]",c="[object Function]",u="[object Map]",p="[object Number]",g="[object Object]",f="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",$="[object Uint8Array]",P="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",M={};M[w]=M[T]=M[x]=M[k]=M[S]=M[$]=M[P]=M[j]=M[C]=!0,M[r]=M[a]=M[y]=M[l]=M[d]=M[h]=M[c]=M[u]=M[p]=M[g]=M[f]=M[m]=M[v]=M[b]=!1;var I=e.Object.prototype,z=I.toString;t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){function n(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&r(b(e))}function s(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){for(var t=d(e),i=t.length,n=i&&e.length,o=!!n&&r(n)&&(u(e)||c(e)),a=-1,l=[];++a<i;){var h=t[a];(o&&s(h,n)||f.call(e,h))&&l.push(h)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&r(t)&&(u(e)||c(e))&&t||0;for(var i=e.constructor,n=-1,o="function"==typeof i&&i.prototype===e,a=Array(t),d=t>0;++n<t;)a[n]=n+"";for(var h in e)d&&s(h,t)||"constructor"==h&&(o||!f.call(e,h))||a.push(h);return a}var h=e("lodash._getnative"),c=e("lodash.isarguments"),u=e("lodash.isarray"),p=/^\d+$/,g=Object.prototype,f=g.hasOwnProperty,m=h(Object,"keys"),v=9007199254740991,b=n("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):l(e)?m(e):[]}:a;t.exports=y},{"lodash._getnative":9,"lodash.isarguments":10,"lodash.isarray":11}],16:[function(e,t,i){function n(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&t>e}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(l(e)||a(e))&&t||0;for(var i=e.constructor,r=-1,d="function"==typeof i&&i.prototype===e,h=Array(t),u=t>0;++r<t;)h[r]=r+"";for(var p in e)u&&n(p,t)||"constructor"==p&&(d||!c.call(e,p))||h.push(p);return h}var a=e("lodash.isarguments"),l=e("lodash.isarray"),d=/^\d+$/,h=Object.prototype,c=h.hasOwnProperty,u=9007199254740991;t.exports=r},{"lodash.isarguments":10,"lodash.isarray":11}],17:[function(e,t,i){function n(e){return o(e,s(e))}var o=e("lodash._basecopy"),s=e("lodash.keysin");t.exports=n},{"lodash._basecopy":18,"lodash.keysin":16}],18:[function(e,t,i){function n(e,t,i){i||(i={});for(var n=-1,o=t.length;++n<o;){var s=t[n];i[s]=e[s]}return i}t.exports=n},{}],19:[function(t,i,n){(function(){function t(e){function t(t,i,n,o,s,r){for(;s>=0&&r>s;s+=e){var a=o?o[s]:s;n=i(n,t[a],a,t)}return n}return function(i,n,o,s){n=x(n,s,4);var r=!M(i)&&T.keys(i),a=(r||i).length,l=e>0?0:a-1;return arguments.length<3&&(o=i[r?r[l]:l],l+=e),t(i,n,o,r,l,a)}}function o(e){return function(t,i,n){i=k(i,n);for(var o=C(t),s=e>0?0:o-1;s>=0&&o>s;s+=e)if(i(t[s],s,t))return s;return-1}}function s(e,t,i){return function(n,o,s){var r=0,a=C(n);if("number"==typeof s)e>0?r=s>=0?s:Math.max(s+a,r):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return s=i(n,o),n[s]===o?s:-1;if(o!==o)return s=t(p.call(n,r,a),T.isNaN),s>=0?s+r:-1;for(s=e>0?r:a-1;s>=0&&a>s;s+=e)if(n[s]===o)return s;return-1}}function r(e,t){var i=O.length,n=e.constructor,o=T.isFunction(n)&&n.prototype||h,s="constructor";for(T.has(e,s)&&!T.contains(t,s)&&t.push(s);i--;)s=O[i],s in e&&e[s]!==o[s]&&!T.contains(t,s)&&t.push(s)}var a=this,l=a._,d=Array.prototype,h=Object.prototype,c=Function.prototype,u=d.push,p=d.slice,g=h.toString,f=h.hasOwnProperty,m=Array.isArray,v=Object.keys,b=c.bind,y=Object.create,w=function(){},T=function(e){return e instanceof T?e:this instanceof T?void(this._wrapped=e):new T(e)};"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=T),n._=T):a._=T,T.VERSION="1.8.3";var x=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}},k=function(e,t,i){return null==e?T.identity:T.isFunction(e)?x(e,t,i):T.isObject(e)?T.matcher(e):T.property(e)};T.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var o=1;n>o;o++)for(var s=arguments[o],r=e(s),a=r.length,l=0;a>l;l++){var d=r[l];t&&void 0!==i[d]||(i[d]=s[d])}return i}},$=function(e){if(!T.isObject(e))return{};if(y)return y(e);w.prototype=e;var t=new w;return w.prototype=null,t},P=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,C=P("length"),M=function(e){var t=C(e);return"number"==typeof t&&t>=0&&j>=t};T.each=T.forEach=function(e,t,i){t=x(t,i);var n,o;if(M(e))for(n=0,o=e.length;o>n;n++)t(e[n],n,e);else{var s=T.keys(e);for(n=0,o=s.length;o>n;n++)t(e[s[n]],s[n],e)}return e},T.map=T.collect=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,s=Array(o),r=0;o>r;r++){var a=n?n[r]:r;s[r]=t(e[a],a,e)}return s},T.reduce=T.foldl=T.inject=t(1),T.reduceRight=T.foldr=t(-1),T.find=T.detect=function(e,t,i){var n;return n=M(e)?T.findIndex(e,t,i):T.findKey(e,t,i),void 0!==n&&-1!==n?e[n]:void 0},T.filter=T.select=function(e,t,i){var n=[];return t=k(t,i),T.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n},T.reject=function(e,t,i){return T.filter(e,T.negate(k(t)),i)},T.every=T.all=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,s=0;o>s;s++){var r=n?n[s]:s;if(!t(e[r],r,e))return!1}return!0},T.some=T.any=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,s=0;o>s;s++){var r=n?n[s]:s;if(t(e[r],r,e))return!0}return!1},T.contains=T.includes=T.include=function(e,t,i,n){return M(e)||(e=T.values(e)),("number"!=typeof i||n)&&(i=0),T.indexOf(e,t,i)>=0},T.invoke=function(e,t){var i=p.call(arguments,2),n=T.isFunction(t);return T.map(e,function(e){var o=n?t:e[t];return null==o?o:o.apply(e,i)})},T.pluck=function(e,t){return T.map(e,T.property(t))},T.where=function(e,t){return T.filter(e,T.matcher(t))},T.findWhere=function(e,t){return T.find(e,T.matcher(t))},T.max=function(e,t,i){var n,o,s=-(1/0),r=-(1/0);if(null==t&&null!=e){e=M(e)?e:T.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],n>s&&(s=n)}else t=k(t,i),T.each(e,function(e,i,n){o=t(e,i,n),(o>r||o===-(1/0)&&s===-(1/0))&&(s=e,r=o)});return s},T.min=function(e,t,i){var n,o,s=1/0,r=1/0;if(null==t&&null!=e){e=M(e)?e:T.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],s>n&&(s=n)}else t=k(t,i),T.each(e,function(e,i,n){o=t(e,i,n),(r>o||o===1/0&&s===1/0)&&(s=e,r=o)});return s},T.shuffle=function(e){for(var t,i=M(e)?e:T.values(e),n=i.length,o=Array(n),s=0;n>s;s++)t=T.random(0,s),t!==s&&(o[s]=o[t]),o[t]=i[s];return o},T.sample=function(e,t,i){return null==t||i?(M(e)||(e=T.values(e)),e[T.random(e.length-1)]):T.shuffle(e).slice(0,Math.max(0,t))},T.sortBy=function(e,t,i){return t=k(t,i),T.pluck(T.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,i,n){var o={};return i=k(i,n),T.each(t,function(n,s){var r=i(n,s,t);e(o,n,r)}),o}};T.groupBy=I(function(e,t,i){T.has(e,i)?e[i].push(t):e[i]=[t]}),T.indexBy=I(function(e,t,i){e[i]=t}),T.countBy=I(function(e,t,i){T.has(e,i)?e[i]++:e[i]=1}),T.toArray=function(e){return e?T.isArray(e)?p.call(e):M(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:M(e)?e.length:T.keys(e).length},T.partition=function(e,t,i){t=k(t,i);var n=[],o=[];return T.each(e,function(e,i,s){(t(e,i,s)?n:o).push(e)}),[n,o]},T.first=T.head=T.take=function(e,t,i){return null!=e?null==t||i?e[0]:T.initial(e,e.length-t):void 0},T.initial=function(e,t,i){return p.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},T.last=function(e,t,i){return null!=e?null==t||i?e[e.length-1]:T.rest(e,Math.max(0,e.length-t)):void 0},T.rest=T.tail=T.drop=function(e,t,i){return p.call(e,null==t||i?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var z=function(e,t,i,n){for(var o=[],s=0,r=n||0,a=C(e);a>r;r++){var l=e[r];if(M(l)&&(T.isArray(l)||T.isArguments(l))){t||(l=z(l,t,i));var d=0,h=l.length;for(o.length+=h;h>d;)o[s++]=l[d++]}else i||(o[s++]=l)}return o};T.flatten=function(e,t){return z(e,t,!1)},T.without=function(e){return T.difference(e,p.call(arguments,1))},T.uniq=T.unique=function(e,t,i,n){T.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=k(i,n));for(var o=[],s=[],r=0,a=C(e);a>r;r++){var l=e[r],d=i?i(l,r,e):l;t?(r&&s===d||o.push(l),s=d):i?T.contains(s,d)||(s.push(d),o.push(l)):T.contains(o,l)||o.push(l)}return o},T.union=function(){return T.uniq(z(arguments,!0,!0))},T.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=C(e);o>n;n++){var s=e[n];if(!T.contains(t,s)){for(var r=1;i>r&&T.contains(arguments[r],s);r++);r===i&&t.push(s)}}return t},T.difference=function(e){var t=z(arguments,!0,!0,1);return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(e){for(var t=e&&T.max(e,C).length||0,i=Array(t),n=0;t>n;n++)i[n]=T.pluck(e,n);return i},T.object=function(e,t){for(var i={},n=0,o=C(e);o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},T.findIndex=o(1),T.findLastIndex=o(-1),T.sortedIndex=function(e,t,i,n){i=k(i,n,1);for(var o=i(t),s=0,r=C(e);r>s;){var a=Math.floor((s+r)/2);i(e[a])<o?s=a+1:r=a}return s},T.indexOf=s(1,T.findIndex,T.sortedIndex),T.lastIndexOf=s(-1,T.findLastIndex),T.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;n>s;s++,e+=i)o[s]=e;return o};var _=function(e,t,i,n,o){if(!(n instanceof t))return e.apply(i,o);var s=$(e.prototype),r=e.apply(s,o);return T.isObject(r)?r:s};T.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,p.call(arguments,1));if(!T.isFunction(e))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2),n=function(){return _(e,n,t,this,i.concat(p.call(arguments)))};return n},T.partial=function(e){var t=p.call(arguments,1),i=function(){for(var n=0,o=t.length,s=Array(o),r=0;o>r;r++)s[r]=t[r]===T?arguments[n++]:t[r];for(;n<arguments.length;)s.push(arguments[n++]);return _(e,i,this,this,s)};return i},T.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=T.bind(e[i],e);return e},T.memoize=function(e,t){var i=function(n){var o=i.cache,s=""+(t?t.apply(this,arguments):n);return T.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},T.delay=function(e,t){var i=p.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},T.defer=T.partial(T.delay,T,1),T.throttle=function(e,t,i){var n,o,s,r=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:T.now(),r=null,s=e.apply(n,o),r||(n=o=null)};return function(){var d=T.now();a||i.leading!==!1||(a=d);var h=t-(d-a);return n=this,o=arguments,0>=h||h>t?(r&&(clearTimeout(r),r=null),a=d,s=e.apply(n,o),r||(n=o=null)):r||i.trailing===!1||(r=setTimeout(l,h)),s}},T.debounce=function(e,t,i){var n,o,s,r,a,l=function(){var d=T.now()-r;t>d&&d>=0?n=setTimeout(l,t-d):(n=null,i||(a=e.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,r=T.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(a=e.apply(s,o),s=o=null),a}},T.wrap=function(e,t){return T.partial(t,e)},T.negate=function(e){return function(){return!e.apply(this,arguments)}},T.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},T.once=T.partial(T.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(e){if(!T.isObject(e))return[];if(v)return v(e);var t=[];for(var i in e)T.has(e,i)&&t.push(i);return A&&r(e,t),t},T.allKeys=function(e){if(!T.isObject(e))return[];var t=[];for(var i in e)t.push(i);return A&&r(e,t),t},T.values=function(e){for(var t=T.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},T.mapObject=function(e,t,i){t=k(t,i);for(var n,o=T.keys(e),s=o.length,r={},a=0;s>a;a++)n=o[a],r[n]=t(e[n],n,e);return r},T.pairs=function(e){for(var t=T.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},T.invert=function(e){for(var t={},i=T.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},T.functions=T.methods=function(e){var t=[];for(var i in e)T.isFunction(e[i])&&t.push(i);return t.sort()},T.extend=S(T.allKeys),T.extendOwn=T.assign=S(T.keys),T.findKey=function(e,t,i){t=k(t,i);for(var n,o=T.keys(e),s=0,r=o.length;r>s;s++)if(n=o[s],t(e[n],n,e))return n},T.pick=function(e,t,i){var n,o,s={},r=e;if(null==r)return s;T.isFunction(t)?(o=T.allKeys(r),n=x(t,i)):(o=z(arguments,!1,!1,1),n=function(e,t,i){return t in i},r=Object(r));for(var a=0,l=o.length;l>a;a++){var d=o[a],h=r[d];n(h,d,r)&&(s[d]=h)}return s},T.omit=function(e,t,i){if(T.isFunction(t))t=T.negate(t);else{var n=T.map(z(arguments,!1,!1,1),String);t=function(e,t){return!T.contains(n,t)}}return T.pick(e,t,i)},T.defaults=S(T.allKeys,!0),T.create=function(e,t){var i=$(e);return t&&T.extendOwn(i,t),i},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e},T.isMatch=function(e,t){var i=T.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),s=0;n>s;s++){var r=i[s];if(t[r]!==o[r]||!(r in o))return!1}return!0};var R=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var o=g.call(e);if(o!==g.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var r=e.constructor,a=t.constructor;if(r!==a&&!(T.isFunction(r)&&r instanceof r&&T.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),s){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!R(e[l],t[l],i,n))return!1}else{var d,h=T.keys(e);if(l=h.length,T.keys(t).length!==l)return!1;for(;l--;)if(d=h[l],!T.has(t,d)||!R(e[d],t[d],i,n))return!1}return i.pop(),n.pop(),!0};T.isEqual=function(e,t){return R(e,t)},T.isEmpty=function(e){return null==e?!0:M(e)&&(T.isArray(e)||T.isString(e)||T.isArguments(e))?0===e.length:0===T.keys(e).length},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=m||function(e){return"[object Array]"===g.call(e)},T.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){T["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return T.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(T.isFunction=function(e){return"function"==typeof e||!1}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!==+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===g.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return null!=e&&f.call(e,t)},T.noConflict=function(){return a._=l,this},T.identity=function(e){return e},T.constant=function(e){return function(){return e}},T.noop=function(){},T.property=P,T.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},T.matcher=T.matches=function(e){return e=T.extendOwn({},e),function(t){return T.isMatch(t,e)}},T.times=function(e,t,i){var n=Array(Math.max(0,e));t=x(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},T.now=Date.now||function(){return(new Date).getTime()};var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=T.invert(E),F=function(e){var t=function(t){return e[t]},i="(?:"+T.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};T.escape=F(E),T.unescape=F(L),T.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),T.isFunction(n)?n.call(e):n};var V=0;T.uniqueId=function(e){var t=++V+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,N=function(e){return"\\"+B[e]};T.template=function(e,t,i){!t&&i&&(t=i),t=T.defaults({},t,T.templateSettings);var n=RegExp([(t.escape||D).source,(t.interpolate||D).source,(t.evaluate||D).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,r,a){return s+=e.slice(o,a).replace(W,N),o=a+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var r=new Function(t.variable||"obj","_",s)}catch(a){throw a.source=s,a}var l=function(e){return r.call(this,e,T)},d=t.variable||"obj";return l.source="function("+d+"){\n"+s+"}",l},T.chain=function(e){var t=T(e);return t._chain=!0,t};var H=function(e,t){return e._chain?T(t).chain():t};T.mixin=function(e){T.each(T.functions(e),function(t){var i=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),H(this,i.apply(T,e))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=d[e];T.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],H(this,i)}}),T.each(["concat","join","slice"],function(e){var t=d[e];T.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},"function"==typeof e&&e.amd&&e("underscore",[],function(){return T})}).call(this)},{}],20:[function(e,t,i){function n(e){var t={},i=c.keyPathSeparator;for(var o in e){var s=e[o];if(!s||s.constructor!==Object&&s.constructor!==Array||a.isEmpty(s))t[o]=s;else{var r=n(s);for(var l in r){var d=r[l];t[o+i+l]=d}}}return t}function o(e,t,i){for(var n=c.keyPathSeparator,o=t?t.split(n):[],s=e,r=0,l=o.length;l>r;r++){if(i&&!a.has(s,o[r]))return!1;if(s=s[o[r]],null==s&&l-1>r&&(s={}),"undefined"==typeof s)return i?!0:s}return i?!0:s}function s(e,t,i,n){n=n||{};for(var o=c.keyPathSeparator,s=t?t.split(o):[],r=e,l=0,d=s.length;d>l&&void 0!==r;l++){var h=s[l];if(l===d-1)n.unset?delete r[h]:r[h]=i;else{if("undefined"==typeof r[h]||!a.isObject(r[h])){if(n.unset)return void delete r[h];var u=s[l+1];r[h]=/^\d+$/.test(u)?[]:{}}r=r[h]}}}function r(e,t){s(e,t,null,{unset:!0})}try{var a=e("underscore")}catch(l){var a=window._}try{var d=e("backbone")}catch(l){var d=window.Backbone}var h=e("lodash.merge"),c=d.Model.extend({constructor:function(e,t){var i=e||{};this.cid=a.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{}),i=h({},a.result(this,"defaults"),i),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(e){return h({},this.attributes)},get:function(e){return o(this.attributes,e)},set:function(e,t,i){var l,d,u,p,g,f,m,v;if(null==e)return this;if("object"==typeof e?(d=e,i=t||{}):(d={})[e]=t,i||(i={}),!this._validate(d,i))return!1;u=i.unset,g=i.silent,p=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=h({},this.attributes),this.changed={}),v=this.attributes,m=this._previousAttributes,this.idAttribute in d&&(this.id=d[this.idAttribute]),d=n(d);for(l in d)t=d[l],a.isEqual(o(v,l),t)||p.push(l),a.isEqual(o(m,l),t)?r(this.changed,l):s(this.changed,l,t),u?r(v,l):s(v,l,t);if(!g){p.length&&(this._pending=!0);for(var b=c.keyPathSeparator,y={},w=0,T=p.length;T>w;w++){var e=p[w];y.hasOwnProperty(e)&&y[e]||(y[e]=!0,this.trigger("change:"+e,this,o(v,e),i));for(var x=e.split(b),k=x.length-1;k>0;k--){var S=x.slice(0,k).join(b),$=S+b+"*";y.hasOwnProperty($)&&y[$]||(y[$]=!0,this.trigger("change:"+$,this,o(v,S),i)),y.hasOwnProperty(S)&&y[S]||(y[S]=!0,this.trigger("change:"+S,this,o(v,S),i))}}}if(f)return this;if(!g)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},clear:function(e){var t={},i=n(this.attributes);for(var o in i)t[o]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):void 0!==o(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes;e=n(e),t=n(t);var i,o=!1;for(var s in e)a.isEqual(t[s],i=e[s])||((o||(o={}))[s]=i);return o},previous:function(e){return null!=e&&this._previousAttributes?o(this._previousAttributes,e):null},previousAttributes:function(){return h({},this._previousAttributes)}});c.keyPathSeparator=".",t.exports=c},{backbone:"backbone","lodash.merge":2,underscore:19}],21:[function(t,i,n){!function(i,o){if("function"==typeof e&&e.amd)e(["underscore","backbone"],function(e,t){o(e,t)});else if("undefined"!=typeof n&&"function"==typeof t){var s=t("underscore"),r=t("backbone");o(s,r)}else o(i._,i.Backbone)}(this,function(e,t){t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=function(e,t){var i=r(this,e,t);return i.extend=this.extend,i};var i=function(e){throw"Super does not implement this method: "+e},n=/\b_super\b/,o=function(e,t,n){var o=function(){var o=this._super;this._super=e[t]||i(t);var s;try{s=n.apply(this,arguments)}finally{this._super=o}return s};for(var s in n)o[s]=n[s],delete n[s];return o},s=function(){},r=function(t,i,r){var a,l=t.prototype;if(a=i&&i.hasOwnProperty("constructor")?i.constructor:function(){return t.apply(this,arguments)},e.extend(a,t,r),s.prototype=l,a.prototype=new s,i){e.extend(a.prototype,i);for(var d in i)"function"==typeof i[d]&&n.test(i[d])&&(a.prototype[d]=o(l,d,i[d]))}return r&&e.extend(a,r),a.prototype.constructor=a,a.__super__=l,a};return r})},{backbone:"backbone",underscore:52}],22:[function(e,t,i){(function(){var t,n,o,s,r,a;a=e("./protocol"),s=a.Parser,n=a.PROTOCOL_6,o=a.PROTOCOL_7,r="2.2.2",i.Connector=t=function(){function e(e,t,i,n){this.options=e,this.WebSocket=t,this.Timer=i,this.handlers=n,this._uri="ws"+(this.options.https?"s":"")+"://"+this.options.host+":"+this.options.port+"/livereload",this._nextDelay=this.options.mindelay,this._connectionDesired=!1,this.protocol=0,this.protocolParser=new s({connected:function(e){return function(t){return e.protocol=t,e._handshakeTimeout.stop(),e._nextDelay=e.options.mindelay,e._disconnectionReason="broken",e.handlers.connected(t)}}(this),error:function(e){return function(t){return e.handlers.error(t),e._closeOnError()}}(this),message:function(e){return function(t){return e.handlers.message(t)}}(this)}),this._handshakeTimeout=new i(function(e){return function(){return e._isSocketConnected()?(e._disconnectionReason="handshake-timeout",e.socket.close()):void 0}}(this)),this._reconnectTimer=new i(function(e){return function(){return e._connectionDesired?e.connect():void 0}}(this)),this.connect()}return e.prototype._isSocketConnected=function(){return this.socket&&this.socket.readyState===this.WebSocket.OPEN},e.prototype.connect=function(){return this._connectionDesired=!0,
this._isSocketConnected()?void 0:(this._reconnectTimer.stop(),this._disconnectionReason="cannot-connect",this.protocolParser.reset(),this.handlers.connecting(),this.socket=new this.WebSocket(this._uri),this.socket.onopen=function(e){return function(t){return e._onopen(t)}}(this),this.socket.onclose=function(e){return function(t){return e._onclose(t)}}(this),this.socket.onmessage=function(e){return function(t){return e._onmessage(t)}}(this),this.socket.onerror=function(e){return function(t){return e._onerror(t)}}(this))},e.prototype.disconnect=function(){return this._connectionDesired=!1,this._reconnectTimer.stop(),this._isSocketConnected()?(this._disconnectionReason="manual",this.socket.close()):void 0},e.prototype._scheduleReconnection=function(){return this._connectionDesired?this._reconnectTimer.running?void 0:(this._reconnectTimer.start(this._nextDelay),this._nextDelay=Math.min(this.options.maxdelay,2*this._nextDelay)):void 0},e.prototype.sendCommand=function(e){return null!=this.protocol?this._sendCommand(e):void 0},e.prototype._sendCommand=function(e){return this.socket.send(JSON.stringify(e))},e.prototype._closeOnError=function(){return this._handshakeTimeout.stop(),this._disconnectionReason="error",this.socket.close()},e.prototype._onopen=function(e){var t;return this.handlers.socketConnected(),this._disconnectionReason="handshake-failed",t={command:"hello",protocols:[n,o]},t.ver=r,this.options.ext&&(t.ext=this.options.ext),this.options.extver&&(t.extver=this.options.extver),this.options.snipver&&(t.snipver=this.options.snipver),this._sendCommand(t),this._handshakeTimeout.start(this.options.handshake_timeout)},e.prototype._onclose=function(e){return this.protocol=0,this.handlers.disconnected(this._disconnectionReason,this._nextDelay),this._scheduleReconnection()},e.prototype._onerror=function(e){},e.prototype._onmessage=function(e){return this.protocolParser.process(e.data)},e}()}).call(this)},{"./protocol":27}],23:[function(e,t,i){(function(){var e;e={bind:function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent)return e[t]=1,e.attachEvent("onpropertychange",function(e){return e.propertyName===t?i():void 0});throw new Error("Attempt to attach custom event "+t+" to something which isn't a DOMElement")},fire:function(e,t){var i;if(e.addEventListener)return i=document.createEvent("HTMLEvents"),i.initEvent(t,!0,!0),document.dispatchEvent(i);if(!e.attachEvent)throw new Error("Attempt to fire custom event "+t+" on something which isn't a DOMElement");return e[t]?e[t]++:void 0}},i.bind=e.bind,i.fire=e.fire}).call(this)},{}],24:[function(e,t,i){(function(){var e;t.exports=e=function(){function e(e,t){this.window=e,this.host=t}return e.identifier="less",e.version="1.0",e.prototype.reload=function(e,t){if(this.window.less&&this.window.less.refresh){if(e.match(/\.less$/i))return this.reloadLess(e);if(t.originalPath.match(/\.less$/i))return this.reloadLess(t.originalPath)}return!1},e.prototype.reloadLess=function(e){var t,i,n,o;if(i=function(){var e,i,n,o;for(n=document.getElementsByTagName("link"),o=[],e=0,i=n.length;i>e;e++)t=n[e],(t.href&&t.rel.match(/^stylesheet\/less$/i)||t.rel.match(/stylesheet/i)&&t.type.match(/^text\/(x-)?less$/i))&&o.push(t);return o}(),0===i.length)return!1;for(n=0,o=i.length;o>n;n++)t=i[n],t.href=this.host.generateCacheBustUrl(t.href);return this.host.console.log("LiveReload is asking LESS to recompile all stylesheets"),this.window.less.refresh(!0),!0},e.prototype.analyze=function(){return{disable:!(!this.window.less||!this.window.less.refresh)}},e}()}).call(this)},{}],25:[function(e,t,i){(function(){var t,n,o,s,r,a={}.hasOwnProperty;t=e("./connector").Connector,r=e("./timer").Timer,o=e("./options").Options,s=e("./reloader").Reloader,i.LiveReload=n=function(){function e(e){var i,n,l;if(this.window=e,this.listeners={},this.plugins=[],this.pluginIdentifiers={},this.console=this.window.console&&this.window.console.log&&this.window.console.error?this.window.location.href.match(/LR-verbose/)?this.window.console:{log:function(){},error:this.window.console.error.bind(this.window.console)}:{log:function(){},error:function(){}},!(this.WebSocket=this.window.WebSocket||this.window.MozWebSocket))return void this.console.error("LiveReload disabled because the browser does not seem to support web sockets");if("LiveReloadOptions"in e){this.options=new o,l=e.LiveReloadOptions;for(i in l)a.call(l,i)&&(n=l[i],this.options.set(i,n))}else if(this.options=o.extract(this.window.document),!this.options)return void this.console.error("LiveReload disabled because it could not find its own <SCRIPT> tag");this.reloader=new s(this.window,this.console,r),this.connector=new t(this.options,this.WebSocket,r,{connecting:function(e){return function(){}}(this),socketConnected:function(e){return function(){}}(this),connected:function(e){return function(t){var i;return"function"==typeof(i=e.listeners).connect&&i.connect(),e.log("LiveReload is connected to "+e.options.host+":"+e.options.port+" (protocol v"+t+")."),e.analyze()}}(this),error:function(e){return function(e){if(e instanceof ProtocolError){if("undefined"!=typeof console&&null!==console)return console.log(""+e.message+".")}else if("undefined"!=typeof console&&null!==console)return console.log("LiveReload internal error: "+e.message)}}(this),disconnected:function(e){return function(t,i){var n;switch("function"==typeof(n=e.listeners).disconnect&&n.disconnect(),t){case"cannot-connect":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+", will retry in "+i+" sec.");case"broken":return e.log("LiveReload disconnected from "+e.options.host+":"+e.options.port+", reconnecting in "+i+" sec.");case"handshake-timeout":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+" (handshake timeout), will retry in "+i+" sec.");case"handshake-failed":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+" (handshake failed), will retry in "+i+" sec.");case"manual":break;case"error":break;default:return e.log("LiveReload disconnected from "+e.options.host+":"+e.options.port+" ("+t+"), reconnecting in "+i+" sec.")}}}(this),message:function(e){return function(t){switch(t.command){case"reload":return e.performReload(t);case"alert":return e.performAlert(t)}}}(this)}),this.initialized=!0}return e.prototype.on=function(e,t){return this.listeners[e]=t},e.prototype.log=function(e){return this.console.log(""+e)},e.prototype.performReload=function(e){var t,i;return this.log("LiveReload received reload request: "+JSON.stringify(e,null,2)),this.reloader.reload(e.path,{liveCSS:null!=(t=e.liveCSS)?t:!0,liveImg:null!=(i=e.liveImg)?i:!0,originalPath:e.originalPath||"",overrideURL:e.overrideURL||"",serverURL:"http://"+this.options.host+":"+this.options.port})},e.prototype.performAlert=function(e){return alert(e.message)},e.prototype.shutDown=function(){var e;if(this.initialized)return this.connector.disconnect(),this.log("LiveReload disconnected."),"function"==typeof(e=this.listeners).shutdown?e.shutdown():void 0},e.prototype.hasPlugin=function(e){return!!this.pluginIdentifiers[e]},e.prototype.addPlugin=function(e){var t;this.initialized&&(this.hasPlugin(e.identifier)||(this.pluginIdentifiers[e.identifier]=!0,t=new e(this.window,{_livereload:this,_reloader:this.reloader,_connector:this.connector,console:this.console,Timer:r,generateCacheBustUrl:function(e){return function(t){return e.reloader.generateCacheBustUrl(t)}}(this)}),this.plugins.push(t),this.reloader.addPlugin(t)))},e.prototype.analyze=function(){var e,t,i,n,o,s;if(this.initialized&&this.connector.protocol>=7){for(i={},s=this.plugins,n=0,o=s.length;o>n;n++)e=s[n],i[e.constructor.identifier]=t=("function"==typeof e.analyze?e.analyze():void 0)||{},t.version=e.constructor.version;this.connector.sendCommand({command:"info",plugins:i,url:this.window.location.href})}},e}()}).call(this)},{"./connector":22,"./options":26,"./reloader":28,"./timer":30}],26:[function(e,t,i){(function(){var e;i.Options=e=function(){function e(){this.https=!1,this.host=null,this.port=35729,this.snipver=null,this.ext=null,this.extver=null,this.mindelay=1e3,this.maxdelay=6e4,this.handshake_timeout=5e3}return e.prototype.set=function(e,t){return"undefined"!=typeof t?(isNaN(+t)||(t=+t),this[e]=t):void 0},e}(),e.extract=function(t){var i,n,o,s,r,a,l,d,h,c,u,p,g;for(p=t.getElementsByTagName("script"),d=0,c=p.length;c>d;d++)if(i=p[d],(l=i.src)&&(o=l.match(/^[^:]+:\/\/(.*)\/z?livereload\.js(?:\?(.*))?$/))){if(r=new e,r.https=0===l.indexOf("https"),(s=o[1].match(/^([^\/:]+)(?::(\d+))?$/))&&(r.host=s[1],s[2]&&(r.port=parseInt(s[2],10))),o[2])for(g=o[2].split("&"),h=0,u=g.length;u>h;h++)a=g[h],(n=a.split("=")).length>1&&r.set(n[0].replace(/-/g,"_"),n.slice(1).join("="));return r}return null}}).call(this)},{}],27:[function(e,t,i){(function(){var e,t,n,o,s=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};i.PROTOCOL_6=e="http://livereload.com/protocols/official-6",i.PROTOCOL_7=t="http://livereload.com/protocols/official-7",i.ProtocolError=o=function(){function e(e,t){this.message="LiveReload protocol error ("+e+') after receiving data: "'+t+'".'}return e}(),i.Parser=n=function(){function i(e){this.handlers=e,this.reset()}return i.prototype.reset=function(){return this.protocol=null},i.prototype.process=function(i){var n,r,a,l,d;try{if(null==this.protocol){if(i.match(/^!!ver:([\d.]+)$/))this.protocol=6;else if(a=this._parseMessage(i,["hello"])){if(!a.protocols.length)throw new o("no protocols specified in handshake message");if(s.call(a.protocols,t)>=0)this.protocol=7;else{if(!(s.call(a.protocols,e)>=0))throw new o("no supported protocols found");this.protocol=6}}return this.handlers.connected(this.protocol)}if(6===this.protocol){if(a=JSON.parse(i),!a.length)throw new o("protocol 6 messages must be arrays");if(n=a[0],l=a[1],"refresh"!==n)throw new o("unknown protocol 6 command");return this.handlers.message({command:"reload",path:l.path,liveCSS:null!=(d=l.apply_css_live)?d:!0})}return a=this._parseMessage(i,["reload","alert"]),this.handlers.message(a)}catch(h){if(r=h,r instanceof o)return this.handlers.error(r);throw r}},i.prototype._parseMessage=function(e,t){var i,n,r;try{n=JSON.parse(e)}catch(a){throw i=a,new o("unparsable JSON",e)}if(!n.command)throw new o('missing "command" key',e);if(r=n.command,s.call(t,r)<0)throw new o("invalid command '"+n.command+"', only valid commands are: "+t.join(", ")+")",e);return n},i}()}).call(this)},{}],28:[function(e,t,i){(function(){var e,t,n,o,s,r,a;a=function(e){var t,i,n;return(i=e.indexOf("#"))>=0?(t=e.slice(i),e=e.slice(0,i)):t="",(i=e.indexOf("?"))>=0?(n=e.slice(i),e=e.slice(0,i)):n="",{url:e,params:n,hash:t}},o=function(e){var t;return e=a(e).url,t=0===e.indexOf("file://")?e.replace(/^file:\/\/(localhost)?/,""):e.replace(/^([^:]+:)?\/\/([^:\/]+)(:\d*)?\//,"/"),decodeURIComponent(t)},r=function(e,t,i){var o,s,r,a,l;for(o={score:0},a=0,l=t.length;l>a;a++)s=t[a],r=n(e,i(s)),r>o.score&&(o={object:s,score:r});return o.score>0?o:null},n=function(e,t){var i,n,o,s;if(e=e.replace(/^\/+/,"").toLowerCase(),t=t.replace(/^\/+/,"").toLowerCase(),e===t)return 1e4;for(i=e.split("/").reverse(),n=t.split("/").reverse(),s=Math.min(i.length,n.length),o=0;s>o&&i[o]===n[o];)++o;return o},s=function(e,t){return n(e,t)>0},e=[{selector:"background",styleNames:["backgroundImage"]},{selector:"border",styleNames:["borderImage","webkitBorderImage","MozBorderImage"]}],i.Reloader=t=function(){function t(e,t,i){this.window=e,this.console=t,this.Timer=i,this.document=this.window.document,this.importCacheWaitPeriod=200,this.plugins=[]}return t.prototype.addPlugin=function(e){return this.plugins.push(e)},t.prototype.analyze=function(e){return results},t.prototype.reload=function(e,t){var i,n,o,s,r;for(this.options=t,null==(n=this.options).stylesheetReloadTimeout&&(n.stylesheetReloadTimeout=15e3),r=this.plugins,o=0,s=r.length;s>o;o++)if(i=r[o],i.reload&&i.reload(e,t))return;return t.liveCSS&&e.match(/\.css$/i)&&this.reloadStylesheet(e)?void 0:t.liveImg&&e.match(/\.(jpe?g|png|gif)$/i)?void this.reloadImages(e):this.reloadPage()},t.prototype.reloadPage=function(){return this.window.document.location.reload()},t.prototype.reloadImages=function(t){var i,n,r,a,l,d,h,c,u,p,g,f,m,v,b,y,w,T;for(i=this.generateUniqueString(),v=this.document.images,d=0,p=v.length;p>d;d++)n=v[d],s(t,o(n.src))&&(n.src=this.generateCacheBustUrl(n.src,i));if(this.document.querySelectorAll)for(h=0,g=e.length;g>h;h++)for(b=e[h],r=b.selector,a=b.styleNames,y=this.document.querySelectorAll("[style*="+r+"]"),c=0,f=y.length;f>c;c++)n=y[c],this.reloadStyleImages(n.style,a,t,i);if(this.document.styleSheets){for(w=this.document.styleSheets,T=[],u=0,m=w.length;m>u;u++)l=w[u],T.push(this.reloadStylesheetImages(l,t,i));return T}},t.prototype.reloadStylesheetImages=function(t,i,n){var o,s,r,a,l,d,h,c;try{r=null!=t?t.cssRules:void 0}catch(u){o=u}if(r)for(l=0,h=r.length;h>l;l++)switch(s=r[l],s.type){case CSSRule.IMPORT_RULE:this.reloadStylesheetImages(s.styleSheet,i,n);break;case CSSRule.STYLE_RULE:for(d=0,c=e.length;c>d;d++)a=e[d].styleNames,this.reloadStyleImages(s.style,a,i,n);break;case CSSRule.MEDIA_RULE:this.reloadStylesheetImages(s,i,n)}},t.prototype.reloadStyleImages=function(e,t,i,n){var r,a,l,d,h;for(d=0,h=t.length;h>d;d++)a=t[d],l=e[a],"string"==typeof l&&(r=l.replace(/\burl\s*\(([^)]*)\)/,function(e){return function(t,r){return s(i,o(r))?"url("+e.generateCacheBustUrl(r,n)+")":t}}(this)),r!==l&&(e[a]=r))},t.prototype.reloadStylesheet=function(e){var t,i,n,s,a,l,d,h,c,u,p,g,f,m,v;for(n=function(){var e,t,n,o;for(n=this.document.getElementsByTagName("link"),o=[],e=0,t=n.length;t>e;e++)i=n[e],i.rel.match(/^stylesheet$/i)&&!i.__LiveReload_pendingRemoval&&o.push(i);return o}.call(this),t=[],m=this.document.getElementsByTagName("style"),l=0,u=m.length;u>l;l++)a=m[l],a.sheet&&this.collectImportedStylesheets(a,a.sheet,t);for(d=0,p=n.length;p>d;d++)i=n[d],this.collectImportedStylesheets(i,i.sheet,t);if(this.window.StyleFix&&this.document.querySelectorAll)for(v=this.document.querySelectorAll("style[data-href]"),h=0,g=v.length;g>h;h++)a=v[h],n.push(a);if(this.console.log("LiveReload found "+n.length+" LINKed stylesheets, "+t.length+" @imported stylesheets"),s=r(e,n.concat(t),function(e){return function(t){return o(e.linkHref(t))}}(this)))s.object.rule?(this.console.log("LiveReload is reloading imported stylesheet: "+s.object.href),this.reattachImportedRule(s.object)):(this.console.log("LiveReload is reloading stylesheet: "+this.linkHref(s.object)),this.reattachStylesheetLink(s.object));else for(this.console.log("LiveReload will reload all stylesheets because path '"+e+"' did not match any specific one"),c=0,f=n.length;f>c;c++)i=n[c],this.reattachStylesheetLink(i);return!0},t.prototype.collectImportedStylesheets=function(e,t,i){var n,o,s,r,a,l;try{r=null!=t?t.cssRules:void 0}catch(d){n=d}if(r&&r.length)for(o=a=0,l=r.length;l>a;o=++a)switch(s=r[o],s.type){case CSSRule.CHARSET_RULE:continue;case CSSRule.IMPORT_RULE:i.push({link:e,rule:s,index:o,href:s.href}),this.collectImportedStylesheets(e,s.styleSheet,i)}},t.prototype.waitUntilCssLoads=function(e,t){var i,n,o;return i=!1,n=function(e){return function(){return i?void 0:(i=!0,t())}}(this),e.onload=function(e){return function(){return e.console.log("LiveReload: the new stylesheet has finished loading"),e.knownToSupportCssOnLoad=!0,n()}}(this),this.knownToSupportCssOnLoad||(o=function(t){return function(){return e.sheet?(t.console.log("LiveReload is polling until the new CSS finishes loading..."),n()):t.Timer.start(50,o)}}(this))(),this.Timer.start(this.options.stylesheetReloadTimeout,n)},t.prototype.linkHref=function(e){return e.href||e.getAttribute("data-href")},t.prototype.reattachStylesheetLink=function(e){var t,i;if(!e.__LiveReload_pendingRemoval)return e.__LiveReload_pendingRemoval=!0,"STYLE"===e.tagName?(t=this.document.createElement("link"),t.rel="stylesheet",t.media=e.media,t.disabled=e.disabled):t=e.cloneNode(!1),t.href=this.generateCacheBustUrl(this.linkHref(e)),i=e.parentNode,i.lastChild===e?i.appendChild(t):i.insertBefore(t,e.nextSibling),this.waitUntilCssLoads(t,function(i){return function(){var n;return n=/AppleWebKit/.test(navigator.userAgent)?5:200,i.Timer.start(n,function(){var n;if(e.parentNode)return e.parentNode.removeChild(e),t.onreadystatechange=null,null!=(n=i.window.StyleFix)?n.link(t):void 0})}}(this))},t.prototype.reattachImportedRule=function(e){var t,i,n,o,s,r,a,l;return a=e.rule,i=e.index,n=e.link,r=a.parentStyleSheet,t=this.generateCacheBustUrl(a.href),o=a.media.length?[].join.call(a.media,", "):"",s='@import url("'+t+'") '+o+";",a.__LiveReload_newHref=t,l=this.document.createElement("link"),l.rel="stylesheet",l.href=t,l.__LiveReload_pendingRemoval=!0,n.parentNode&&n.parentNode.insertBefore(l,n),this.Timer.start(this.importCacheWaitPeriod,function(e){return function(){return l.parentNode&&l.parentNode.removeChild(l),a.__LiveReload_newHref===t?(r.insertRule(s,i),r.deleteRule(i+1),a=r.cssRules[i],a.__LiveReload_newHref=t,e.Timer.start(e.importCacheWaitPeriod,function(){return a.__LiveReload_newHref===t?(r.insertRule(s,i),r.deleteRule(i+1)):void 0})):void 0}}(this))},t.prototype.generateUniqueString=function(){return"livereload="+Date.now()},t.prototype.generateCacheBustUrl=function(e,t){var i,n,o,s,r;return null==t&&(t=this.generateUniqueString()),r=a(e),e=r.url,i=r.hash,n=r.params,this.options.overrideURL&&e.indexOf(this.options.serverURL)<0&&(o=e,e=this.options.serverURL+this.options.overrideURL+"?url="+encodeURIComponent(e),this.console.log("LiveReload is overriding source URL "+o+" with "+e)),s=n.replace(/(\?|&)livereload=(\d+)/,function(e,i){return""+i+t}),s===n&&(s=0===n.length?"?"+t:""+n+"&"+t),e+s+i},t}()}).call(this)},{}],29:[function(e,t,i){(function(){var t,i,n;t=e("./customevents"),i=window.LiveReload=new(e("./livereload").LiveReload)(window);for(n in window)n.match(/^LiveReloadPlugin/)&&i.addPlugin(window[n]);i.addPlugin(e("./less")),i.on("shutdown",function(){return delete window.LiveReload}),i.on("connect",function(){return t.fire(document,"LiveReloadConnect")}),i.on("disconnect",function(){return t.fire(document,"LiveReloadDisconnect")}),t.bind(document,"LiveReloadShutDown",function(){return i.shutDown()})}).call(this)},{"./customevents":23,"./less":24,"./livereload":25}],30:[function(e,t,i){(function(){var e;i.Timer=e=function(){function e(e){this.func=e,this.running=!1,this.id=null,this._handler=function(e){return function(){return e.running=!1,e.id=null,e.func()}}(this)}return e.prototype.start=function(e){return this.running&&clearTimeout(this.id),this.id=setTimeout(this._handler,e),this.running=!0},e.prototype.stop=function(){return this.running?(clearTimeout(this.id),this.running=!1,this.id=null):void 0},e}(),e.start=function(e,t){return setTimeout(t,e)}}).call(this)},{}],31:[function(e,t,i){"use strict";t.exports=e("./src/js/main")},{"./src/js/main":37}],32:[function(e,t,i){"use strict";function n(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}function o(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}i.add=function(e,t){e.classList?e.classList.add(t):n(e,t)},i.remove=function(e,t){e.classList?e.classList.remove(t):o(e,t)},i.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],33:[function(e,t,i){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function o(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}function s(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}var r={};r.e=function(e,t){var i=document.createElement(e);return i.className=t,i},r.appendTo=function(e,t){return t.appendChild(e),e},r.css=function(e,t,i){return"object"==typeof t?s(e,t):"undefined"==typeof i?n(e,t):o(e,t,i)},r.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},r.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},r.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return r.matches(e,t)})},t.exports=r},{}],34:[function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(n){return i&&n!==t?!0:(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new n(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},o.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,i){var n=this.eventElement(e),o=function(e){n.unbind(t,o),i(e)};n.bind(t,o)},t.exports=o},{}],35:[function(e,t,i){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],36:[function(e,t,i){"use strict";var n=e("./class"),o=e("./dom"),s=i.toInt=function(e){return parseInt(e,10)||0},r=i.clone=function(e){if(null===e)return null;if(e.constructor===Array)return e.map(r);if("object"==typeof e){var t={};for(var i in e)t[i]=r(e[i]);return t}return e};i.extend=function(e,t){var i=r(e);for(var n in t)i[n]=r(t[n]);return i},i.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},i.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var o=t[i];0===o.indexOf("ps-")&&n.remove(e,o)}},i.outerWidth=function(e){return s(o.css(e,"width"))+s(o.css(e,"paddingLeft"))+s(o.css(e,"paddingRight"))+s(o.css(e,"borderLeftWidth"))+s(o.css(e,"borderRightWidth"))},i.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),"undefined"!=typeof t?n.add(e,"ps-"+t):(n.add(e,"ps-x"),n.add(e,"ps-y"))},i.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?n.remove(e,"ps-"+t):(n.remove(e,"ps-x"),n.remove(e,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":32,"./dom":33}],37:[function(e,t,i){"use strict";var n=e("./plugin/destroy"),o=e("./plugin/initialize"),s=e("./plugin/update");t.exports={initialize:o,update:s,destroy:n}},{"./plugin/destroy":39,"./plugin/initialize":47,"./plugin/update":51}],38:[function(e,t,i){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],39:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),s=e("./instances");t.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),n.removePsClasses(e),s.remove(e))}},{"../lib/dom":33,"../lib/helper":36,"./instances":48}],40:[function(e,t,i){"use strict";function n(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var s=o.toInt(t.scrollbarYHeight/2),l=t.railYRatio*(n.pageY-window.pageYOffset-i(t.scrollbarYRail).top-s),d=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),h=l/d;0>h?h=0:h>1&&(h=1),a(e,"top",(t.contentHeight-t.containerHeight)*h),r(e),n.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var s=o.toInt(t.scrollbarXWidth/2),l=t.railXRatio*(n.pageX-window.pageXOffset-i(t.scrollbarXRail).left-s),d=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),h=l/d;0>h?h=0:h>1&&(h=1),a(e,"left",(t.contentWidth-t.containerWidth)*h-t.negativeScrollAdjustment),r(e),n.stopPropagation()})}var o=e("../../lib/helper"),s=e("../instances"),r=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){var t=s.get(e);n(e,t)}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],41:[function(e,t,i){"use strict";function n(e,t){function i(i){var o=n+i*t.railXRatio,r=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);0>o?t.scrollbarXLeft=0:o>r?t.scrollbarXLeft=r:t.scrollbarXLeft=o;var a=s.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;d(e,"left",a)}var n=null,o=null,a=function(t){i(t.pageX-o),l(e),t.stopPropagation(),t.preventDefault()},h=function(){s.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarX,"mousedown",function(i){o=i.pageX,n=s.toInt(r.css(t.scrollbarX,"left"))*t.railXRatio,s.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",h),i.stopPropagation(),i.preventDefault()})}function o(e,t){function i(i){var o=n+i*t.railYRatio,r=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);0>o?t.scrollbarYTop=0:o>r?t.scrollbarYTop=r:t.scrollbarYTop=o;var a=s.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));d(e,"top",a)}var n=null,o=null,a=function(t){i(t.pageY-o),l(e),t.stopPropagation(),t.preventDefault()},h=function(){s.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarY,"mousedown",function(i){o=i.pageY,n=s.toInt(r.css(t.scrollbarY,"top"))*t.railYRatio,s.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",h),i.stopPropagation(),i.preventDefault()})}var s=e("../../lib/helper"),r=e("../../lib/dom"),a=e("../instances"),l=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=a.get(e);n(e,t),o(e,t)}},{"../../lib/dom":33,"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],42:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&0>i||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}var n=!1;t.event.bind(e,"mouseenter",function(){n=!0}),t.event.bind(e,"mouseleave",function(){n=!1});var r=!1;t.event.bind(t.ownerDocument,"keydown",function(d){if(!d.isDefaultPrevented||!d.isDefaultPrevented()){var h=s.matches(t.scrollbarX,":focus")||s.matches(t.scrollbarY,":focus");if(n||h){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(o.isEditable(c))return}var u=0,p=0;switch(d.which){case 37:u=-30;break;case 38:p=30;break;case 39:u=30;break;case 40:p=-30;break;case 33:p=90;break;case 32:p=d.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=d.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=d.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+u),a(e),r=i(u,p),r&&d.preventDefault()}}})}var o=e("../../lib/helper"),s=e("../../lib/dom"),r=e("../instances"),a=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t)}},{"../../lib/dom":33,"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],43:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&0>i||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}function n(e){var t=e.deltaX,i=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=e.wheelDelta),[t,i]}function o(t,i){var n=e.querySelector("textarea:hover, .ps-child:hover");if(n){if("TEXTAREA"!==n.tagName&&!window.getComputedStyle(n).overflow.match(/(scroll|auto)/))return!1;var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&i>0||n.scrollTop===o&&0>i))return!0;var s=n.scrollLeft-n.clientWidth;if(s>0&&!(0===n.scrollLeft&&0>t||n.scrollLeft===s&&t>0))return!0}return!1}function a(a){var d=n(a),h=d[0],c=d[1];o(h,c)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(c?r(e,"top",e.scrollTop-c*t.settings.wheelSpeed):r(e,"top",e.scrollTop+h*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(h?r(e,"left",e.scrollLeft+h*t.settings.wheelSpeed):r(e,"left",e.scrollLeft-c*t.settings.wheelSpeed),l=!0):(r(e,"top",e.scrollTop-c*t.settings.wheelSpeed),r(e,"left",e.scrollLeft+h*t.settings.wheelSpeed)),s(e),l=l||i(h,c),l&&(a.stopPropagation(),a.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",a):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",a)}var o=e("../instances"),s=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){var t=o.get(e);n(e,t)}},{"../instances":48,"../update-geometry":49,"../update-scroll":50}],44:[function(e,t,i){"use strict";function n(e,t){t.event.bind(e,"scroll",function(){s(e)})}var o=e("../instances"),s=e("../update-geometry");t.exports=function(e){var t=o.get(e);n(e,t)}},{"../instances":48,"../update-geometry":49}],45:[function(e,t,i){"use strict";function n(e,t){function i(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function n(){d||(d=setInterval(function(){return s.get(e)?(a(e,"top",e.scrollTop+h.top),a(e,"left",e.scrollLeft+h.left),void r(e)):void clearInterval(d)},50))}function l(){d&&(clearInterval(d),d=null),o.stopScrolling(e)}var d=null,h={top:0,left:0},c=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(i())?c=!0:(c=!1,l())}),t.event.bind(window,"mouseup",function(){c&&(c=!1,l())}),t.event.bind(window,"mousemove",function(t){if(c){var i={x:t.pageX,y:t.pageY},s={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};i.x<s.left+3?(h.left=-5,o.startScrolling(e,"x")):i.x>s.right-3?(h.left=5,o.startScrolling(e,"x")):h.left=0,i.y<s.top+3?(s.top+3-i.y<5?h.top=-5:h.top=-20,o.startScrolling(e,"y")):i.y>s.bottom-3?(i.y-s.bottom+3<5?h.top=5:h.top=20,o.startScrolling(e,"y")):h.top=0,0===h.top&&0===h.left?l():n()}})}var o=e("../../lib/helper"),s=e("../instances"),r=e("../update-geometry"),a=e("../update-scroll");
t.exports=function(e){var t=s.get(e);n(e,t)}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],46:[function(e,t,i){"use strict";function n(e,t,i,n){function o(i,n){var o=e.scrollTop,s=e.scrollLeft,r=Math.abs(i),a=Math.abs(n);if(a>r){if(0>n&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return!t.settings.swipePropagation}else if(r>a&&(0>i&&s===t.contentWidth-t.containerWidth||i>0&&0===s))return!t.settings.swipePropagation;return!0}function l(t,i){a(e,"top",e.scrollTop-i),a(e,"left",e.scrollLeft-t),r(e)}function d(){w=!0}function h(){w=!1}function c(e){return e.targetTouches?e.targetTouches[0]:e}function u(e){return e.targetTouches&&1===e.targetTouches.length?!0:!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(u(e)){T=!0;var t=c(e);m.pageX=t.pageX,m.pageY=t.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function g(e){if(!T&&t.settings.swipePropagation&&p(e),!w&&T&&u(e)){var i=c(e),n={pageX:i.pageX,pageY:i.pageY},s=n.pageX-m.pageX,r=n.pageY-m.pageY;l(s,r),m=n;var a=(new Date).getTime(),d=a-v;d>0&&(b.x=s/d,b.y=r/d,v=a),o(s,r)&&(e.stopPropagation(),e.preventDefault())}}function f(){!w&&T&&(T=!1,clearInterval(y),y=setInterval(function(){return s.get(e)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)},10))}var m={},v=0,b={},y=null,w=!1,T=!1;i&&(t.event.bind(window,"touchstart",d),t.event.bind(window,"touchend",h),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",g),t.event.bind(e,"touchend",f)),n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",d),t.event.bind(window,"pointerup",h),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",g),t.event.bind(e,"pointerup",f)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",d),t.event.bind(window,"MSPointerUp",h),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",g),t.event.bind(e,"MSPointerUp",f)))}var o=e("../../lib/helper"),s=e("../instances"),r=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){if(o.env.supportsTouch||o.env.supportsIePointer){var t=s.get(e);n(e,t,o.env.supportsTouch,o.env.supportsIePointer)}}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],47:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/class"),s=e("./instances"),r=e("./update-geometry"),a={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},o.add(e,"ps-container");var i=s.add(e);i.settings=n.extend(i.settings,t),o.add(e,"ps-theme-"+i.settings.theme),i.settings.handlers.forEach(function(t){a[t](e)}),l(e),r(e)}},{"../lib/class":32,"../lib/helper":36,"./handler/click-rail":40,"./handler/drag-scrollbar":41,"./handler/keyboard":42,"./handler/mouse-wheel":43,"./handler/native-scroll":44,"./handler/selection":45,"./handler/touch":46,"./instances":48,"./update-geometry":49}],48:[function(e,t,i){"use strict";function n(e){function t(){l.add(e,"ps-focus")}function i(){l.remove(e,"ps-focus")}var n=this;n.settings=a.clone(d),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===h.css(e,"direction"),n.isNegativeScroll=function(){var t=e.scrollLeft,i=null;return e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=t,i}(),n.negativeScrollAdjustment=n.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.event=new c,n.ownerDocument=e.ownerDocument||document,n.scrollbarXRail=h.appendTo(h.e("div","ps-scrollbar-x-rail"),e),n.scrollbarX=h.appendTo(h.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",t),n.event.bind(n.scrollbarX,"blur",i),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=a.toInt(h.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:a.toInt(h.css(n.scrollbarXRail,"top")),n.railBorderXWidth=a.toInt(h.css(n.scrollbarXRail,"borderLeftWidth"))+a.toInt(h.css(n.scrollbarXRail,"borderRightWidth")),h.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=a.toInt(h.css(n.scrollbarXRail,"marginLeft"))+a.toInt(h.css(n.scrollbarXRail,"marginRight")),h.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=h.appendTo(h.e("div","ps-scrollbar-y-rail"),e),n.scrollbarY=h.appendTo(h.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",t),n.event.bind(n.scrollbarY,"blur",i),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=a.toInt(h.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:a.toInt(h.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?a.outerWidth(n.scrollbarY):null,n.railBorderYWidth=a.toInt(h.css(n.scrollbarYRail,"borderTopWidth"))+a.toInt(h.css(n.scrollbarYRail,"borderBottomWidth")),h.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=a.toInt(h.css(n.scrollbarYRail,"marginTop"))+a.toInt(h.css(n.scrollbarYRail,"marginBottom")),h.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function o(e){return e.getAttribute("data-ps-id")}function s(e,t){e.setAttribute("data-ps-id",t)}function r(e){e.removeAttribute("data-ps-id")}var a=e("../lib/helper"),l=e("../lib/class"),d=e("./default-setting"),h=e("../lib/dom"),c=e("../lib/event-manager"),u=e("../lib/guid"),p={};i.add=function(e){var t=u();return s(e,t),p[t]=new n(e),p[t]},i.remove=function(e){delete p[o(e)],r(e)},i.get=function(e){return p[o(e)]}},{"../lib/class":32,"../lib/dom":33,"../lib/event-manager":34,"../lib/guid":35,"../lib/helper":36,"./default-setting":38}],49:[function(e,t,i){"use strict";function n(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function o(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,n),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var s=e("../lib/helper"),r=e("../lib/class"),a=e("../lib/dom"),l=e("./instances"),d=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var i;e.contains(t.scrollbarXRail)||(i=a.queryChildren(e,".ps-scrollbar-x-rail"),i.length>0&&i.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(i=a.queryChildren(e,".ps-scrollbar-y-rail"),i.length>0&&i.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,s.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=s.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,s.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=s.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),o(e,t),t.scrollbarXActive?r.add(e,"ps-active-x"):(r.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,d(e,"left",0)),t.scrollbarYActive?r.add(e,"ps-active-y"):(r.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,d(e,"top",0))}},{"../lib/class":32,"../lib/dom":33,"../lib/helper":36,"./instances":48,"./update-scroll":50}],50:[function(e,t,i){"use strict";var n,o,s=e("./instances"),r=document.createEvent("Event"),a=document.createEvent("Event"),l=document.createEvent("Event"),d=document.createEvent("Event"),h=document.createEvent("Event"),c=document.createEvent("Event"),u=document.createEvent("Event"),p=document.createEvent("Event"),g=document.createEvent("Event"),f=document.createEvent("Event");r.initEvent("ps-scroll-up",!0,!0),a.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),d.initEvent("ps-scroll-right",!0,!0),h.initEvent("ps-scroll-y",!0,!0),c.initEvent("ps-scroll-x",!0,!0),u.initEvent("ps-x-reach-start",!0,!0),p.initEvent("ps-x-reach-end",!0,!0),g.initEvent("ps-y-reach-start",!0,!0),f.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,i){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof i)throw"You must provide a value to the update-scroll function";"top"===t&&0>=i&&(e.scrollTop=i=0,e.dispatchEvent(g)),"left"===t&&0>=i&&(e.scrollLeft=i=0,e.dispatchEvent(u));var m=s.get(e);"top"===t&&i>=m.contentHeight-m.containerHeight&&(i=m.contentHeight-m.containerHeight,i-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(f)),"left"===t&&i>=m.contentWidth-m.containerWidth&&(i=m.contentWidth-m.containerWidth,i-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(p)),n||(n=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&n>i&&e.dispatchEvent(r),"top"===t&&i>n&&e.dispatchEvent(a),"left"===t&&o>i&&e.dispatchEvent(l),"left"===t&&i>o&&e.dispatchEvent(d),"top"===t&&(e.scrollTop=n=i,e.dispatchEvent(h)),"left"===t&&(e.scrollLeft=o=i,e.dispatchEvent(c))}},{"./instances":48}],51:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),s=e("./instances"),r=e("./update-geometry"),a=e("./update-scroll");t.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(o.css(t.scrollbarXRail,"marginLeft"))+n.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(o.css(t.scrollbarYRail,"marginTop"))+n.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),r(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":33,"../lib/helper":36,"./instances":48,"./update-geometry":49,"./update-scroll":50}],52:[function(t,i,n){(function(){var t=this,o=t._,s={},r=Array.prototype,a=Object.prototype,l=Function.prototype,d=r.push,h=r.slice,c=r.concat,u=a.toString,p=a.hasOwnProperty,g=r.forEach,f=r.map,m=r.reduce,v=r.reduceRight,b=r.filter,y=r.every,w=r.some,T=r.indexOf,x=r.lastIndexOf,k=Array.isArray,S=Object.keys,$=l.bind,P=function(e){return e instanceof P?e:this instanceof P?void(this._wrapped=e):new P(e)};"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=P),n._=P):t._=P,P.VERSION="1.6.0";var j=P.each=P.forEach=function(e,t,i){if(null==e)return e;if(g&&e.forEach===g)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(t.call(i,e[n],n,e)===s)return}else for(var r=P.keys(e),n=0,o=r.length;o>n;n++)if(t.call(i,e[r[n]],r[n],e)===s)return;return e};P.map=P.collect=function(e,t,i){var n=[];return null==e?n:f&&e.map===f?e.map(t,i):(j(e,function(e,o,s){n.push(t.call(i,e,o,s))}),n)};var C="Reduce of empty array with no initial value";P.reduce=P.foldl=P.inject=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return n&&(t=P.bind(t,n)),o?e.reduce(t,i):e.reduce(t);if(j(e,function(e,s,r){o?i=t.call(n,i,e,s,r):(i=e,o=!0)}),!o)throw new TypeError(C);return i},P.reduceRight=P.foldr=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),v&&e.reduceRight===v)return n&&(t=P.bind(t,n)),o?e.reduceRight(t,i):e.reduceRight(t);var s=e.length;if(s!==+s){var r=P.keys(e);s=r.length}if(j(e,function(a,l,d){l=r?r[--s]:--s,o?i=t.call(n,i,e[l],l,d):(i=e[l],o=!0)}),!o)throw new TypeError(C);return i},P.find=P.detect=function(e,t,i){var n;return M(e,function(e,o,s){return t.call(i,e,o,s)?(n=e,!0):void 0}),n},P.filter=P.select=function(e,t,i){var n=[];return null==e?n:b&&e.filter===b?e.filter(t,i):(j(e,function(e,o,s){t.call(i,e,o,s)&&n.push(e)}),n)},P.reject=function(e,t,i){return P.filter(e,function(e,n,o){return!t.call(i,e,n,o)},i)},P.every=P.all=function(e,t,i){t||(t=P.identity);var n=!0;return null==e?n:y&&e.every===y?e.every(t,i):(j(e,function(e,o,r){return(n=n&&t.call(i,e,o,r))?void 0:s}),!!n)};var M=P.some=P.any=function(e,t,i){t||(t=P.identity);var n=!1;return null==e?n:w&&e.some===w?e.some(t,i):(j(e,function(e,o,r){return n||(n=t.call(i,e,o,r))?s:void 0}),!!n)};P.contains=P.include=function(e,t){return null==e?!1:T&&e.indexOf===T?-1!=e.indexOf(t):M(e,function(e){return e===t})},P.invoke=function(e,t){var i=h.call(arguments,2),n=P.isFunction(t);return P.map(e,function(e){return(n?t:e[t]).apply(e,i)})},P.pluck=function(e,t){return P.map(e,P.property(t))},P.where=function(e,t){return P.filter(e,P.matches(t))},P.findWhere=function(e,t){return P.find(e,P.matches(t))},P.max=function(e,t,i){if(!t&&P.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),o=-(1/0);return j(e,function(e,s,r){var a=t?t.call(i,e,s,r):e;a>o&&(n=e,o=a)}),n},P.min=function(e,t,i){if(!t&&P.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,o=1/0;return j(e,function(e,s,r){var a=t?t.call(i,e,s,r):e;o>a&&(n=e,o=a)}),n},P.shuffle=function(e){var t,i=0,n=[];return j(e,function(e){t=P.random(i++),n[i-1]=n[t],n[t]=e}),n},P.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=P.values(e)),e[P.random(e.length-1)]):P.shuffle(e).slice(0,Math.max(0,t))};var I=function(e){return null==e?P.identity:P.isFunction(e)?e:P.property(e)};P.sortBy=function(e,t,i){return t=I(t),P.pluck(P.map(e,function(e,n,o){return{value:e,index:n,criteria:t.call(i,e,n,o)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var z=function(e){return function(t,i,n){var o={};return i=I(i),j(t,function(s,r){var a=i.call(n,s,r,t);e(o,a,s)}),o}};P.groupBy=z(function(e,t,i){P.has(e,t)?e[t].push(i):e[t]=[i]}),P.indexBy=z(function(e,t,i){e[t]=i}),P.countBy=z(function(e,t){P.has(e,t)?e[t]++:e[t]=1}),P.sortedIndex=function(e,t,i,n){i=I(i);for(var o=i.call(n,t),s=0,r=e.length;r>s;){var a=s+r>>>1;i.call(n,e[a])<o?s=a+1:r=a}return s},P.toArray=function(e){return e?P.isArray(e)?h.call(e):e.length===+e.length?P.map(e,P.identity):P.values(e):[]},P.size=function(e){return null==e?0:e.length===+e.length?e.length:P.keys(e).length},P.first=P.head=P.take=function(e,t,i){return null!=e?null==t||i?e[0]:0>t?[]:h.call(e,0,t):void 0},P.initial=function(e,t,i){return h.call(e,0,e.length-(null==t||i?1:t))},P.last=function(e,t,i){return null!=e?null==t||i?e[e.length-1]:h.call(e,Math.max(e.length-t,0)):void 0},P.rest=P.tail=P.drop=function(e,t,i){return h.call(e,null==t||i?1:t)},P.compact=function(e){return P.filter(e,P.identity)};var _=function(e,t,i){return t&&P.every(e,P.isArray)?c.apply(i,e):(j(e,function(e){P.isArray(e)||P.isArguments(e)?t?d.apply(i,e):_(e,t,i):i.push(e)}),i)};P.flatten=function(e,t){return _(e,t,[])},P.without=function(e){return P.difference(e,h.call(arguments,1))},P.partition=function(e,t){var i=[],n=[];return j(e,function(e){(t(e)?i:n).push(e)}),[i,n]},P.uniq=P.unique=function(e,t,i,n){P.isFunction(t)&&(n=i,i=t,t=!1);var o=i?P.map(e,i,n):e,s=[],r=[];return j(o,function(i,n){(t?n&&r[r.length-1]===i:P.contains(r,i))||(r.push(i),s.push(e[n]))}),s},P.union=function(){return P.uniq(P.flatten(arguments,!0))},P.intersection=function(e){var t=h.call(arguments,1);return P.filter(P.uniq(e),function(e){return P.every(t,function(t){return P.contains(t,e)})})},P.difference=function(e){var t=c.apply(r,h.call(arguments,1));return P.filter(e,function(e){return!P.contains(t,e)})},P.zip=function(){for(var e=P.max(P.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=P.pluck(arguments,""+i);return t},P.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},P.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=P.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}if(T&&e.indexOf===T)return e.indexOf(t,i);for(;o>n;n++)if(e[n]===t)return n;return-1},P.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(x&&e.lastIndexOf===x)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var o=n?i:e.length;o--;)if(e[o]===t)return o;return-1},P.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=0,s=new Array(n);n>o;)s[o++]=e,e+=i;return s};var A=function(){};P.bind=function(e,t){var i,n;if($&&e.bind===$)return $.apply(e,h.call(arguments,1));if(!P.isFunction(e))throw new TypeError;return i=h.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(h.call(arguments)));A.prototype=e.prototype;var o=new A;A.prototype=null;var s=e.apply(o,i.concat(h.call(arguments)));return Object(s)===s?s:o}},P.partial=function(e){var t=h.call(arguments,1);return function(){for(var i=0,n=t.slice(),o=0,s=n.length;s>o;o++)n[o]===P&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},P.bindAll=function(e){var t=h.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return j(t,function(t){e[t]=P.bind(e[t],e)}),e},P.memoize=function(e,t){var i={};return t||(t=P.identity),function(){var n=t.apply(this,arguments);return P.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},P.delay=function(e,t){var i=h.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},P.defer=function(e){return P.delay.apply(P,[e,1].concat(h.call(arguments,1)))},P.throttle=function(e,t,i){var n,o,s,r=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:P.now(),r=null,s=e.apply(n,o),n=o=null};return function(){var d=P.now();a||i.leading!==!1||(a=d);var h=t-(d-a);return n=this,o=arguments,0>=h?(clearTimeout(r),r=null,a=d,s=e.apply(n,o),n=o=null):r||i.trailing===!1||(r=setTimeout(l,h)),s}},P.debounce=function(e,t,i){var n,o,s,r,a,l=function(){var d=P.now()-r;t>d?n=setTimeout(l,t-d):(n=null,i||(a=e.apply(s,o),s=o=null))};return function(){s=this,o=arguments,r=P.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(a=e.apply(s,o),s=o=null),a}},P.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},P.wrap=function(e,t){return P.partial(t,e)},P.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},P.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},P.keys=function(e){if(!P.isObject(e))return[];if(S)return S(e);var t=[];for(var i in e)P.has(e,i)&&t.push(i);return t},P.values=function(e){for(var t=P.keys(e),i=t.length,n=new Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},P.pairs=function(e){for(var t=P.keys(e),i=t.length,n=new Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},P.invert=function(e){for(var t={},i=P.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},P.functions=P.methods=function(e){var t=[];for(var i in e)P.isFunction(e[i])&&t.push(i);return t.sort()},P.extend=function(e){return j(h.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},P.pick=function(e){var t={},i=c.apply(r,h.call(arguments,1));return j(i,function(i){i in e&&(t[i]=e[i])}),t},P.omit=function(e){var t={},i=c.apply(r,h.call(arguments,1));for(var n in e)P.contains(i,n)||(t[n]=e[n]);return t},P.defaults=function(e){return j(h.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},P.clone=function(e){return P.isObject(e)?P.isArray(e)?e.slice():P.extend({},e):e},P.tap=function(e,t){return t(e),e};var O=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof P&&(e=e._wrapped),t instanceof P&&(t=t._wrapped);var o=u.call(e);if(o!=u.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]==e)return n[s]==t;var r=e.constructor,a=t.constructor;if(r!==a&&!(P.isFunction(r)&&r instanceof r&&P.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,d=!0;if("[object Array]"==o){if(l=e.length,d=l==t.length)for(;l--&&(d=O(e[l],t[l],i,n)););}else{for(var h in e)if(P.has(e,h)&&(l++,!(d=P.has(t,h)&&O(e[h],t[h],i,n))))break;if(d){for(h in t)if(P.has(t,h)&&!l--)break;d=!l}}return i.pop(),n.pop(),d};P.isEqual=function(e,t){return O(e,t,[],[])},P.isEmpty=function(e){if(null==e)return!0;if(P.isArray(e)||P.isString(e))return 0===e.length;for(var t in e)if(P.has(e,t))return!1;return!0},P.isElement=function(e){return!(!e||1!==e.nodeType)},P.isArray=k||function(e){return"[object Array]"==u.call(e)},P.isObject=function(e){return e===Object(e)},j(["Arguments","Function","String","Number","Date","RegExp"],function(e){P["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),P.isArguments(arguments)||(P.isArguments=function(e){return!(!e||!P.has(e,"callee"))}),"function"!=typeof/./&&(P.isFunction=function(e){return"function"==typeof e}),P.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},P.isNaN=function(e){return P.isNumber(e)&&e!=+e},P.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},P.isNull=function(e){return null===e},P.isUndefined=function(e){return void 0===e},P.has=function(e,t){return p.call(e,t)},P.noConflict=function(){return t._=o,this},P.identity=function(e){return e},P.constant=function(e){return function(){return e}},P.property=function(e){return function(t){return t[e]}},P.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},P.times=function(e,t,i){for(var n=Array(Math.max(0,e)),o=0;e>o;o++)n[o]=t.call(i,o);return n},P.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},P.now=Date.now||function(){return(new Date).getTime()};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};R.unescape=P.invert(R.escape);var E={escape:new RegExp("["+P.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+P.keys(R.unescape).join("|")+")","g")};P.each(["escape","unescape"],function(e){P[e]=function(t){return null==t?"":(""+t).replace(E[e],function(t){return R[e][t]})}}),P.result=function(e,t){if(null!=e){var i=e[t];return P.isFunction(i)?i.call(e):i}},P.mixin=function(e){j(P.functions(e),function(t){var i=P[t]=e[t];P.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),B.call(this,i.apply(P,e))}})};var L=0;P.uniqueId=function(e){var t=++L+"";return e?e+t:t},P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;P.template=function(e,t,i){var n;i=P.defaults({},i,P.templateSettings);var o=new RegExp([(i.escape||F).source,(i.interpolate||F).source,(i.evaluate||F).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(o,function(t,i,n,o,a){return r+=e.slice(s,a).replace(D,function(e){return"\\"+V[e]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(r+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(r+="';\n"+o+"\n__p+='"),s=a+t.length,t}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{n=new Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(t)return n(t,P);var l=function(e){return n.call(this,e,P)};return l.source="function("+(i.variable||"obj")+"){\n"+r+"}",l},P.chain=function(e){return P(e).chain()};var B=function(e){return this._chain?P(e).chain():e};P.mixin(P),j(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];P.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],B.call(this,i)}}),j(["concat","join","slice"],function(e){var t=r[e];P.prototype[e]=function(){return B.call(this,t.apply(this._wrapped,arguments))}}),P.extend(P.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof e&&e.amd&&e("underscore",[],function(){return P})}).call(this)},{}],53:[function(e,t,i){e("backbone-super");var n=e("backbone"),o=e("underscore"),s=e("./modules/slide/slideCollectionView.js"),r=e("./modules/slide/slideCollection.js"),a=e("./modules/appSettingsModel.js"),l=e("./modules/player/controlsView.js"),d=e("./modules/slide/slideView.js"),h=e("./modules/slide/slideThumbnailsView.js"),c=e("./modules/player/contentView.js"),u=e("./modules/player/linkView.js"),p=e("./modules/player/slideTransitionMixin.js"),g=e("./modules/player/slideTimelineMixin.js"),f=e("./modules/popup/loadingOverlayView.js"),m=e("./helpers/url.js"),v=e("./modules/player/downloadView.js"),b=e("./helpers/iframeMessageEvents.js");n.$=$;var y={};y.views={},y.models={},y.collections={},y.views.objects={text:e("./modules/objects/types/text/textView.js"),table:e("./modules/objects/types/table/tableView.js"),svg:e("./modules/objects/types/svg/svgView.js"),image:e("./modules/objects/types/image/imageView.js"),pdf:e("./modules/objects/types/pdf/pdfView.js"),audio:e("./modules/objects/types/audio/audioView.js"),video:e("./modules/objects/types/video/videoView.js"),iframe:e("./modules/objects/types/iframe/iframeView.js"),clock:e("./modules/objects/types/clock/clockView.js"),countdown:e("./modules/objects/types/countdown/countdownView.js"),thermometer:e("./modules/objects/types/thermometer/thermoView.js"),radials:e("./modules/objects/types/radial/radialView.js"),progressbar:e("./modules/objects/types/progressbar/progressbarView.js"),chart:e("./modules/objects/types/charts/chartView.js"),map:e("./modules/objects/types/map/mapView.js"),infogrWidget:e("./modules/objects/types/infogr_widgets/widgetView.js")},y.models.objects={text:e("./modules/objects/types/text/textModel.js"),table:e("./modules/objects/types/table/tableModel.js"),svg:e("./modules/objects/types/svg/svgModel.js"),image:e("./modules/objects/types/image/imageModel.js"),pdf:e("./modules/objects/types/pdf/pdfModel.js"),audio:e("./modules/objects/types/audio/audioModel.js"),video:e("./modules/objects/types/video/videoModel.js"),chart:e("./modules/objects/types/charts/chartModel.js"),map:e("./modules/objects/types/map/mapModel.js"),iframe:e("./modules/objects/types/iframe/iframeModel.js"),clock:e("./modules/objects/types/clock/clockModel.js"),countdown:e("./modules/objects/types/countdown/countdownModel.js"),thermometer:e("./modules/objects/types/thermometer/thermoModel.js"),radials:e("./modules/objects/types/radial/radialModel.js"),progressbar:e("./modules/objects/types/progressbar/progressbarModel.js"),infogrWidget:e("./modules/objects/types/infogr_widgets/widgetModel.js")},y.init=function(){o.extend(s.prototype,e("./modules/player/slidesNavigationMixin.js")),o.extend(d.prototype,p.methods),o.extend(d.prototype,g.methods),d.prototype.initHooks.push(p.initHook),d.prototype.initHooks.push(g.initHook),this.settings=new a(this.bootstrapData),"1"===m.get("isPreview")&&this.settings.set("mode","preview"),this.settings.get("livereload")&&(window.LiveReloadOptions={host:"localhost"},e("livereload-js")),this.views.controlsView=new l({}),this.views.loadingOverlayView=new f({}),this.collections.slides=new r(this.settings.get("slidesData")),this.views.slidesView=new s({collection:this.collections.slides}),this.views.downloadView=new v({}),"Download"!==this.settings.get("project_type")&&(this.views.slideThumbnailsView=new h({collection:this.collections.slides,slideWidth:this.settings.get("slideWidth"),slideHeight:this.settings.get("slideHeight")})),this.views.contentView=new c({}),this.views.linkView=new u({});var t=Number(window.location.hash.replace("#s",""));t=Math.max(t-1,0),o.isUndefined(this.views.slidesView.collection.at(t))&&(t=0),this.trigger("addToJobQueue",function(){this.trigger("slide:transitionTo",{model:this.views.slidesView.collection.at(t),index:t,direction:1,initLoading:!0})}.bind(this),"loaded"),this.views.slidesView.currentSlideIndex=t,o.contains(this.settings.get("permissions"),"player:watermarkRemoveBranding")||$("section").append($(".presentation_water")),b()},y.bootstrap=function(e,t){this.bootstrapData=this.bootstrapData||{},this.bootstrapData[e]=t},o.extend(y,n.Events),y.bind("error",function(e){y.settings.get("debug")&&console.log("Internal error",e)}),t.exports=y;var w=n.DeepModel.prototype.set;n.DeepModel.prototype.set=function(e,t,i){return w.call(this,e,t,o.extend({validate:!0},i))},n.View.prototype.addEvents=function(e){this.delegateEvents(o.extend(o.clone(this.events),e))},String.prototype.replaceAt=function(e,t){return this.substr(0,e)+t+this.substr(e+t.length)}},{"./helpers/iframeMessageEvents.js":59,"./helpers/url.js":63,"./modules/appSettingsModel.js":64,"./modules/objects/types/audio/audioModel.js":77,"./modules/objects/types/audio/audioView.js":78,"./modules/objects/types/charts/chartModel.js":79,"./modules/objects/types/charts/chartView.js":80,"./modules/objects/types/clock/clockModel.js":81,"./modules/objects/types/clock/clockView.js":82,"./modules/objects/types/countdown/countdownModel.js":83,"./modules/objects/types/countdown/countdownView.js":84,"./modules/objects/types/iframe/iframeModel.js":85,"./modules/objects/types/iframe/iframeView.js":86,"./modules/objects/types/image/imageModel.js":87,"./modules/objects/types/image/imageView.js":88,"./modules/objects/types/infogr_widgets/widgetModel.js":102,"./modules/objects/types/infogr_widgets/widgetView.js":103,"./modules/objects/types/map/mapModel.js":104,"./modules/objects/types/map/mapView.js":105,"./modules/objects/types/pdf/pdfModel.js":106,"./modules/objects/types/pdf/pdfView.js":107,"./modules/objects/types/progressbar/progressbarModel.js":108,"./modules/objects/types/progressbar/progressbarView.js":109,"./modules/objects/types/radial/radialModel.js":110,"./modules/objects/types/radial/radialView.js":111,"./modules/objects/types/svg/svgModel.js":112,"./modules/objects/types/svg/svgView.js":113,
"./modules/objects/types/table/tableModel.js":114,"./modules/objects/types/table/tableView.js":115,"./modules/objects/types/text/textModel.js":116,"./modules/objects/types/text/textView.js":117,"./modules/objects/types/thermometer/thermoModel.js":118,"./modules/objects/types/thermometer/thermoView.js":119,"./modules/objects/types/video/videoModel.js":120,"./modules/objects/types/video/videoView.js":121,"./modules/player/contentView.js":126,"./modules/player/controlsView.js":127,"./modules/player/downloadView.js":128,"./modules/player/linkView.js":130,"./modules/player/slideTimelineMixin.js":131,"./modules/player/slideTransitionMixin.js":132,"./modules/player/slidesNavigationMixin.js":133,"./modules/popup/loadingOverlayView.js":134,"./modules/slide/slideCollection.js":137,"./modules/slide/slideCollectionView.js":138,"./modules/slide/slideThumbnailsView.js":140,"./modules/slide/slideView.js":141,backbone:"backbone","backbone-super":21,"livereload-js":29,underscore:52}],54:[function(e,t,i){t.exports=function(){var e=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var i=e.indexOf("Trident/");if(i>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):!1},t=function(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):!1},i=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};return{isIE:e,getChromeVersion:t,isMobileDevice:i}}()},{}],55:[function(e,t,i){t.exports=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,o="#";for(n=0;3>n;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),o+=("00"+i).substr(i.length);return o}},{}],56:[function(e,t,i){var n=e("underscore");t.exports=function(){var e=[],t=function(t){e.push(t),$("head").append($("<link />",{rel:"stylesheet",type:"text/css",href:app.settings.get("assetsStorage")+"fonts/css/"+t+".css"}))};return{add:function(i){i&&!n.contains(e,i)&&t(i)}}}()},{underscore:52}],57:[function(e,t,i){t.exports=function(e,t,i,n){var o,s=e.getContext("2d"),r=n.split(",");"h"===r[0]?o=s.createLinearGradient(0,0,t,0):"v"===r[0]?o=s.createLinearGradient(0,0,0,i):"r"===r[0]&&(o=s.createRadialGradient(t/2,i/2,t/4,t/2,i/2,t/2));for(var a=1;a<r.length;a++)if("string"==typeof r[a]){var l=r[a].split(" ");o.addColorStop(parseInt(l[0])/100,String(l[1]).substring(0,7))}s.fillStyle=o,s.fillRect(0,0,t,i)}},{}],58:[function(e,t,i){t.exports=function(e){var t="",i="0%",o="100%",s="left bottom",r="top";if(e=e.split(","),"h"==e[0])var a="horizontal";if("r"==e[0])var a="radial";e.shift();var l=e;"horizontal"==a&&(i="100%",o="0%",s="right top",r="left");var d="<svg xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='gradient' x1='0%' y1='0%' x2='"+i+"' y2='"+o+"'>",h="-webkit-gradient(linear, left top, "+s,c="";return $.each(l,function(e,t){l[e]=l[e].split(" ")}),$.each(l,function(e,t){h+=", color-stop("+t[0]+", "+t[1]+")",c+=","+t[1]+" "+t[0],d+="<stop offset='"+t[0]+"' style='stop-color:"+t[1]+";' />"}),h+=")",c=c.substr(1),"radial"==a&&(r="center"),d+="</linearGradient></defs><rect fill='url(#gradient)' height='100%' width='100%' /></svg>",d=n(d),t+="url(data:image/svg+xml;base64,"+d+");\n",t+=h+";\n",t+="-moz-linear-gradient("+r+","+c+");\n",t+="-webkit-linear-gradient("+r+","+c+");\n",t+="-o-linear-gradient("+r+","+c+");\n",t+="-ms-linear-gradient("+r+","+c+");\n",t+="linear-gradient("+r+","+c+");","radial"==a&&(t=t.replace("linear","radial")),t};var n=function(e){for(var t,i,n,o,s,r,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="",h=0;h<e.length;)t=e.charCodeAt(h++),i=e.charCodeAt(h++),n=e.charCodeAt(h++),o=t>>2,s=(3&t)<<4|i>>4,r=(15&i)<<2|n>>6,a=63&n,isNaN(i)?r=a=64:isNaN(n)&&(a=64),d+=l.charAt(o)+l.charAt(s)+l.charAt(r)+l.charAt(a);return d}},{}],59:[function(e,t,i){t.exports=function(){var e=function(e){if("undefined"!=typeof e.data)try{var i=JSON.parse(e.data);"undefined"!=typeof i.type&&("dashboard"===i.type&&"upgrade"===i.action?t():app.trigger("iframe-message",i))}catch(n){}},t=function(){$(".upgrade-process-overlay").css({width:"100%",height:"100%"}),$.ajax({type:"GET",url:"/api/getuserplan",success:function(e){if("success"===e.status){console.log(e.data.plan);var i=e.data.plan;"free"!==i.toLowerCase()?window.location.reload():setTimeout(function(){t()},500)}},error:function(e){}})},i=function(e){"navigateSlide"===e.type&&app.trigger("slide:transitionTo",e.data)};window.crossWindowOperation=i,window.addEventListener("message",e,!1)}},{}],60:[function(e,t,i){var n=e("underscore");t.exports={add:function(e,t,i){if(!n.isUndefined(window.localStorage))if(!n.isUndefined(window.localStorage.getItem(e))&&window.localStorage.getItem(e)){var o=JSON.parse(window.localStorage.getItem(e));o[t]=i,window.localStorage.setItem(e,JSON.stringify(o))}else window.localStorage.setItem(e,'{"'+t+'":"'+i+'"}')},get:function(e,t){if(n.isUndefined(window.localStorage))return null;if(!n.isUndefined(window.localStorage.getItem(e))&&window.localStorage.getItem(e)){var i=JSON.parse(window.localStorage.getItem(e));return n.isUndefined(i[t])?null:JSON.parse(window.localStorage.getItem(e))[t]}return null}}},{underscore:52}],61:[function(e,t,i){t.exports={add:function(e,t){var i={type:"POST",data:t,success:function(e){"error"===e.status?console.log("media asset add error"):console.log("media asset add success")},error:function(e,t,i){console.log("status code: "+e.status+"\nerrorThrown: "+i+"\njqXHR.responseText:"+e.responseText)}},n="/actions/addasset/"+e;this.ajaxRequest(n,i)},"delete":function(e,t,i){var n={type:"DELETE",success:function(e){"error"===e.status?console.log("media asset delete error"):console.log("media asset delete success")},error:function(e,t,i){console.log("status code: "+e.status+"\nerrorThrown: "+i+"\njqXHR.responseText:"+e.responseText)}},o="";o=0===i?"/actions/deleteasset/"+e+"/"+t:"/actions/deleteallasset/"+e+"/"+t,this.ajaxRequest(o,n)},ajaxRequest:function(e,t){return t=$.extend(t||{},{url:e}),$.ajax(t)}}},{}],62:[function(e,t,i){t.exports=function(){var e=0,t=0,i=function(i,n){var o;return"slide"===n?o=++e+"":"object"===n&&(o=++t+""),i?i+o:o},n=function(i,n){i=parseInt(i.match(/\d+/)[0],10),"slide"===n?i>e&&(e=i):i>t&&(t=i)},o=function(){return"el"+Math.floor(1e6*Math.random()+1)};return{uniqueId:i,notifyIdCounter:n,randomId:o}}()},{}],63:[function(e,t,i){t.exports=function(){var e=function(e){var t=window.location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?t[1]:t},t=function(e){var t=/^(https):\/\/[^ "]+$/;return t.test(e)};return{get:e,validate:t}}()},{}],64:[function(e,t,i){var n=e("underscore"),o=e("../helpers/url.js"),s=e("../helpers/browserChecker.js"),r=e("./objects/objectModel.js"),a=e("./../helpers/localStorage.js"),l=r.extend(n.extend({},s,{defaults:{editMode:1,state:"loading",grid:{visible:!1,gridHorizontalGap:40,gridVerticalGap:40,gridOpacity:.1,gridSnap:!0,objectSnap:!0,gridColor:"black"},debug:1,zoom:1,fonts:e("./fonts/list.js"),slideHeight:800,slideWidth:1e3},validators:{zoom:{type:"number",params:{min:0,max:10}}},get:function(e){var t=r.prototype.get.call(this,e);return"1"!==t&&"0"!==t||(t=Number(t)),t},initialize:function(e){var t=JSON.parse(e.project_data);if(e.template){var i=JSON.parse(e.template);null!==i?this.set("template",i.slides):this.set("template",null)}this.set("slidesData",this.cleanupProjectData(t.slides)),n.bindAll(this,"addToJobQueue","checkUrlForDimensions","isMobileDevice","isIE","validateBrowser"),this.set("templateId",t.template),this.set("colorPallete",t.colorPallete),this.set("project_id",e.project_id),this.set("project_version",e.project_version),this.set("usersDataStorage",e.usersDataStorage),this.set("audioStorage",e.audioStorage),this.set("project_name",e.project_name),this.set("type",e.project_type),this.set("slideWidth",t.width),this.set("slideHeight",t.height),this.listenTo(this,"change",this.settingsChange),app.bind("addToJobQueue",this.addToJobQueue),this.loadLocalSettings(),"editor"===this.get("editMode")&&(app.trigger("addToJobQueue",this.checkUrlForDimensions,"loaded"),app.trigger("addToJobQueue",this.validateBrowser,"loaded")),"publish"===this.get("editMode")&&1===this.get("presentation_mode")&&app.trigger("addToJobQueue",function(){this.set("mute",!0)}.bind(this),"loaded")},loadLocalSettings:function(){var e=this;n.each(["grid.gridOpacity","grid.gridHorizontalGap","grid.gridVerticalGap","grid.gridSnap","grid.visible"],function(t){var i=a.get(e.get("project_id"),t);i&&this.set(t,i)},this)},checkUrlForDimensions:function(){var e=o.get("size");if(!n.isNull(e)){e=e.split("x");var t=parseInt(e[0]),i=parseInt(e[1]);app.settings.set("slideWidth",t),app.settings.set("slideHeight",i)}},validateBrowser:function(){(this.isMobileDevice()||this.isIE()&&this.isIE()<9)&&alert("This browser/device is not supported by the Visme Editor. To create and edit projects please use a browser such as Google Chrome, Firefox, Safari, or Internet Explorer 10+ on your desktop or laptop")},cleanupProjectData:function(e){for(var t=0;t<e.length;++t){var i=e[t].objects;if(i)for(var n=i.length-1;n>=0;n--)"audio"===i[n].type?e[t].objects[n].state="stop":"collection"===i[n].type&&i[n].temp&&e[t].objects.splice(n,1)}return e},settingsChange:function(){var e=this;n.each(this.changed,function(t,i,o){switch(i){case"zoom":app.trigger("zoom:change-init");break;case"grid":n.each(["visible","gridSnap","gridVerticalGap","gridHorizontalGap","gridOpacity"],function(i){n.has(t,i)&&a.add(e.get("project_id"),"grid."+i,t[i])});break;case"state":this.runActiveJobs(t)}delete this.changed[i]},this)},runActiveJobs:function(e){if(this.jobQueue[e])for(;this.jobQueue[e].length;){var t=this.jobQueue[e].shift();t()}},jobQueue:{},addToJobQueue:function(e,t){this.get("state")===t?e():(this.jobQueue[t]||(this.jobQueue[t]=[]),this.jobQueue[t].push(e))}}));n.defaults(l.prototype.validators,r.prototype.validators),t.exports=l},{"../helpers/browserChecker.js":54,"../helpers/url.js":63,"./../helpers/localStorage.js":60,"./fonts/list.js":65,"./objects/objectModel.js":75,underscore:52}],65:[function(e,t,i){var n=["3Dumb","Arch Rival","Archistico","Azoft Sans","Desyrel","Journal","Exo","Slapstick Comic","ST Marie","Tenderness","Trump Town Pro","Kingthings Petrock","Pacifico","Bilbo","Caviar Dreams","Acknowledgement","Economica","Matchbook","Flux","Belligerent Madness","Quickly Wiggle","Amaranth","Greyscale Basic","Linux Biolinum","Lobster Two","Marvel","Open Sans Condensed","Overlock","Quantico","Resagnicto","Titillium","Ubuntu","Web Serveroff","Qarmic Sans","Yew Basturd","Alex Brush","Black Jack","Dancing Script","Grand Hotel","Great Vibes","Italliano","Learning Curve Pro","Rechtman","Tangerine","Rawengulk","Trocchi","Zantroke","BlokLetters","Colaborate","Disco","Enigmatic","Fjord","Garton","Gothic Ultra OT","Hattori Hanzo","Jacques Francois","Junction","Kingthings Calligraphica","Kontrapunkt","Metamorphous","Myndraine","Okolaks","Otama EP","Panefresco","ProFontWindows","Rawengulk Sans","Samba","Daniel","Redressed","Wagnasty","Yellowtail","Silkscreen","Distant Galaxy","Liquidism","Flavors","Headhunter","Forque","Lintsec","Top Secret","Deutch Gothic","New Rocker","1942 Report","Cabinsketch","Arial","Courier New","Georgia","Helvetica","Impact","Times New Roman","Trebuchet MS","Verdana","Josefin Sans","Abril Fatface","Old Standard TT","Vollkorn","Lato","PT Mono","Source Sans Pro","Oswald","Rokkitt","Montserrat"];n=n.sort(),t.exports=n},{}],66:[function(e,t,i){var n=e("backbone"),o=e("underscore");t.exports={moveTo:function(e,t){var i=this.indexOf(e);t>=0&&i!==t&&(this.remove([e],{noreindex:!0}),this.add([e],{at:t}),this.updateModelOrdinals())},moveDown:function(e){var t=this.indexOf(e);t>0&&(this.swapModels(t-1,t),this.updateModelOrdinals())},moveUp:function(e){var t=this.indexOf(e);t<this.models.length&&(this.swapModels(t,t+1),this.updateModelOrdinals())},moveTop:function(e){var t=this.indexOf(e);t<this.models.length&&(this.models.push(this.models.splice(t,1)[0]),this.updateModelOrdinals())},moveBottom:function(e){var t=this.indexOf(e);t>0&&(this.models.unshift(this.models.splice(t,1)[0]),this.updateModelOrdinals())},swapModels:function(e,t){o.isUndefined(this.models[e])||o.isUndefined(this.models[t])||(this.models[e]=this.models.splice(t,1,this.models[e])[0])},comparator:function(e,t){return e=e.get(this.sortKey),t=t.get(this.sortKey),e>t?1:t>e?-1:0},add:function(e,t){if(o.isUndefined(t)||o.isUndefined(t.at)){var i=this.models.length;o.isNull(e)||o.isUndefined(e)||$.isArray(e)||(e=[e]),o.each(e,function(e){o.isNull(e)||o.isUndefined(e)?app.trigger("error","Can't set order for the model"+e):e.order=i++})}var s=[];return s=n.Collection.prototype.add.call(this,e,t),o.each(s,function(e){o.isNull(e)||e===!1||t&&t.silent||(app.trigger(this.eventType+":add:model-view",e,this),app.trigger(this.eventType+":change:model-view",this))},this),s},remove:function(e,t){if($.isArray(e)&&1===e.length){var i=this.get(e[0]);o.isUndefined(i)||"collection"!==i.get("type")||o.each(i.get("group"),function(e){this.remove([e])},this)}var s=n.Collection.prototype.remove.call(this,e,{silent:!0});return(o.isUndefined(t)||o.isUndefined(t.noreindex)||!t.noreindex)&&this.updateModelOrdinals(),t&&t.silent||(s&&o.isUndefined(s.length)&&(s=[s]),o.each(s,function(e){o.isUndefined(e)||(app.trigger(this.eventType+":remove:model-view",e,this),app.trigger(this.eventType+":change:model-view",this))},this)),s},duplicate:function(e,t){"undefined"==typeof t&&(t={});var i=this.get(e),n=i.toJSON();return delete n.id,n.name.indexOf("copy")<0&&(n.name+=" copy"),o.defaults(t,n)},updateModelOrdinals:function(){this.each(function(e,t){e.set(this.sortKey,t)},this)}}},{backbone:"backbone",underscore:52}],67:[function(e,t,i){var n=e("underscore");t.exports=function(){var e={string:function(e){return"string"!=typeof e.data?e.name+" is not a string":!e.params.notblank||e.data&&!/^\s*$/.test(e.data)?e.params.maxlength&&e.data.length>e.params.maxlength?e.name+" should be no more than "+e.params.maxlength:"":e.name+" can not be blank"},number:function(e){return"number"!=typeof e.data||isNaN(e.data)?e.name+" "+e.data+" is not a number":this._range(e)},integer:function(e){return parseInt(e.data,10)!==e.data||isNaN(e.data)?e.name+" is not an integer":this._range(e)},"boolean":function(e){return"boolean"!=typeof e.data?e.name+" is not a boolean":""},_range:function(e){return e.hasOwnProperty("params")&&e.params?e.params.max&&e.data>e.params.max?e.name+" is out of range: "+e.data:n.has(e.params,"min")&&e.data<e.params.min?e.name+" is out of range: "+e.data:"":""}},t=function(t){var i=Object.keys(t).every(function(i){if(this.validators.hasOwnProperty(i)){var n=e[this.validators[i].type]({name:i,params:this.validators[i].params,data:t[i]});return!(n.length>0)}return!0},this);return i===!1?"validation failed":""};return{validateAttributes:function(e){return"object"==typeof e?t.call(this,e):void 0}}}()},{underscore:52}],68:[function(e,t,i){var n=e("Draggable"),o=e("underscore"),s=e("TweenMax"),r=e("./snapObjectMixin.js");t.exports={guideLines:{},treeReference:{},updateGuidelines:function(e){this.guideLines=e[0],this.treeReference=e[1]},initDragging:function(){o.bindAll(this,"deSelectObject","selectObject","updateGuidelines"),app.bind("canvas:click",this.deSelectObject),app.bind("object:new-selected",this.selectObject),app.bind("setup-guidelines",this.updateGuidelines),this.$dragTrigger=this.$el.find(".drag-helper"),this.$dragTriggerInner=this.$dragTrigger.find("div");var e=this;return this.$el.parents(".noneditable").length?!1:(this.draggable=n.create(this.$el,{viewReference:this,snapDistance:4,snapRadius:300,trigger:this.$dragTrigger,minimumMovement:3,zIndexBoost:!1,onDrag:function(){var t=this;e.model.set({x:this.x,y:this.y},{noCssUpdate:!0}),"image"===e.model.get("type")?app.trigger("object:drag",e.model,t):app.trigger("object:drag",e.model)},onDragStart:function(){app.trigger("object:new-selected",e.model),app.trigger("object:drag-start",e.model)},onDragEnd:function(){app.trigger("object:drag-end",e.model)},onClick:function(){app.trigger("object:new-selected",e.model),app.trigger("object:onclick",e.model)},liveSnap:r,isInVicinity:function(e){var t=this.viewReference.draggable[0].x,i=this.viewReference.draggable[0].y;return this.snapRadius>this.xyDistance({x:t,y:i,id:this.viewReference.model.get("id")},e)},xyDistance:function(e,t){return e.id===t.id?Number.MAX_SAFE_INTEGER:Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},isPartOf:function(e,t){var i=e===t.get("id");if("collection"===t.get("type")){var n=t.get("group");if(o.isUndefined(n))return!1;for(var s=n.length,r=0;s>r&&!i;++r)i=n[r].get("id")===e}return i},searchForSnapPoints:function(e,t,i){e+=i;var n=this.viewReference.guideLines[t+"Tree"];if(n){var o=this.viewReference.model,s={id:o.get("id")};s[t]=e;var r=n.nearest(s,4,this.snapDistance);"x"===t?this.snapRadius=500+o.get("width"):"y"===t?this.snapRadius=500+o.get("height"):this.snapRadius=500;for(var a=r.length,l=0;a>l;++l){var d=r[l][0];if(!this.isPartOf(d.id,o)&&this.isInVicinity(d))return{coordinate:d[t],model:o,delta:i,id:d.id}}if(e<this.snapDistance&&e>-this.snapDistance)return{coordinate:0,model:o,delta:i};if("x"===t){var h=app.settings.get("slideWidth");if(h-e<this.snapDistance&&h-e>-this.snapDistance)return{coordinate:h,model:o,delta:i};if(h/2-e<this.snapDistance&&h/2-e>-this.snapDistance)return{coordinate:h/2,model:o,delta:i}}else if("y"===t){var c=app.settings.get("slideHeight");if(c-e<this.snapDistance&&c-e>-this.snapDistance)return{coordinate:c,model:o,delta:i};if(c/2-e<this.snapDistance&&c/2-e>-this.snapDistance)return{coordinate:c/2,model:o,delta:i}}}return!1}}),this.model.draggable=this.draggable,void((this.model.get("x")||this.model.get("y"))&&s.set(this.$el,{x:parseInt(this.model.get("x")),y:parseInt(this.model.get("y"))})))}}},{"./snapObjectMixin.js":71,Draggable:"Draggable",TweenMax:"TweenMax",underscore:52}],69:[function(e,t,i){var n=e("TweenMax"),o=e("underscore"),s=e("perfect-scrollbar");t.exports={initScroll:function(e,t,i){this.resizeId=-1,this.$resizeElement=e,this.heightCallback=t,this.widthCallback=i,this.setDimensions(),this.hovered=!1,this.useKeyboard=!0,s.initialize(this.$resizeElement[0],{useKeyboard:!1,handlers:["click-rail","drag-scrollbar","wheel","touch"]}),this.events||(this.events={}),this.delegateEvents(o.extend(this.events,{mouseenter:"mouseenter",mouseleave:"mouseleave"})),this.listenTo(app,"key-press",this.keyboard),o.bindAll(this,"resize","keyboard","mouseenter","mouseleave"),app.on();var n=this;$(window).on("resize",function(){clearTimeout(n.resizeId),n.resizeId=setTimeout(n.resize,500)})},mouseleave:function(){this.hovered=!1},mouseenter:function(){this.hovered=!0},disableKeyboardScrolling:function(){this.stopListening(app,"key-press",this.keyboard),this.useKeyboard=!1},enableKeyboardScrolling:function(){this.listenTo(app,"key-press",this.keyboard),this.useKeyboard=!0},resize:function(){this.setDimensions(),s.update(this.$resizeElement[0])},setDimensions:function(){"undefined"!=typeof this.heightCallback&&n.set(this.$resizeElement,{css:{height:this.heightCallback()}}),"undefined"!=typeof this.widthCallback&&n.set(this.$resizeElement,{css:{width:this.widthCallback()}})},keyboard:function(e){if(!this.hovered||!this.useKeyboard)return!1;switch(e){case 38:this.$resizeElement[0].scrollTop-=30,s.update(this.$resizeElement[0]);break;case 40:this.$resizeElement[0].scrollTop+=30,s.update(this.$resizeElement[0]);break;case 37:this.$resizeElement[0].scrollLeft-=30,s.update(this.$resizeElement[0]);break;case 39:this.$resizeElement[0].scrollLeft+=30,s.update(this.$resizeElement[0])}},updateScroll:function(e){s.update(e)}}},{TweenMax:"TweenMax","perfect-scrollbar":31,underscore:52}],70:[function(e,t,i){t.exports={show:function(e){this.$el.show()},hide:function(){this.$el.hide()}}},{}],71:[function(e,t,i){t.exports={x:function(e,t){if(!this.isDragging)return e;if(app.settings.get("grid.visible")&&app.settings.get("grid.gridSnap")){var i=app.settings.get("grid.gridHorizontalGap");return e-Math.round(e/i)*i<this.vars.snapDistance?Math.round(e/i)*i-2:i+Math.round(e/i)*i-e<this.vars.snapDistance?Math.round(e/i)*i-2:Math.round(e)}if(app.settings.get("grid.objectSnap")){var n=!1,o=this.vars.viewReference.model,s=this.vars.searchForSnapPoints(e,"x",0);if(s||(s=this.vars.searchForSnapPoints(e,"x",o.get("width"))),s||(s=this.vars.searchForSnapPoints(e,"x",o.get("width")/2)),s&&(app.trigger("object:snapped-x",s),n=s.coordinate-s.delta,s.id&&$("#"+s.id).addClass("highlightedel")),n!==!1)return n;app.trigger("object:hide-guide-x")}return Math.round(e)},y:function(e){if(!this.isDragging)return e;if(app.settings.get("grid.visible")&&app.settings.get("grid.gridSnap")){var t=app.settings.get("grid.gridVerticalGap");return e-Math.round(e/t)*t<this.vars.snapDistance?Math.round(e/t)*t-2:t+Math.round(e/t)*t-e<this.vars.snapDistance?Math.round(e/t)*t-2:Math.round(e)}if(app.settings.get("grid.objectSnap")){var i=!1,n=this.vars.viewReference.model,o=this.vars.searchForSnapPoints(e,"y",0);if(o||(o=this.vars.searchForSnapPoints(e,"y",n.get("height"))),o||(o=this.vars.searchForSnapPoints(e,"y",n.get("height")/2)),o&&(app.trigger("object:snapped-y",o),i=o.coordinate-o.delta,o.id&&$("#"+o.id).addClass("highlightedel")),i!==!1)return Math.round(i);app.trigger("object:hide-guide-y")}return Math.round(e)}}},{}],72:[function(e,t,i){t.exports={isTextObjectBeingEdited:function(e){return $(e.target).closest(".vm-text").length>0&&"true"===$(e.target).closest(".vm-text").attr("contenteditable")}}},{}],73:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("./objectModel.js"),r=e("../mixin/collection/ordinalMixin.js"),a=n.Collection.extend(o.extend({},r,{model:function(e,t){return o.has(e,"type")&&o.has(app.models.objects,e.type)?new app.models.objects[e.type](e,t):(app.trigger("error","Type wasn't specified"),new s(e,t))},initialize:function(){o.bindAll(this,"remove","callbackRemovePendingItems"),this.eventType="objectCollection",this.groups={},this.sortKey="order",this.listenTo(app,"objectCollection:remove:view-model",this.remove),this.listenTo(app,"object:ajax-loaded",this.callbackRemovePendingItems)},getPromises:function(){for(var e=[],t=this.models.length,i=0;t>i;++i)e=e.concat(this.models[i].getPromises());return e},pendingRenderedItems:0,parseGroup:function(e,t){this.pendingRenderedItems=0;var i=e.Objects,n=app.settings.get("zoom"),s=o.isUndefined(e.x)?($(window).width()/2-$(".stage:visible:eq(0)").offset().left)/n:e.x,r=o.isUndefined(e.y)?($(window).height()/2-$(".stage:visible:eq(0)").offset().top)/n:e.y;this.groupObjectCount=i.length,o.each(i,function(e){"svg"===e.type&&this.pendingRenderedItems++,e.x=(o.isUndefined(e.x)?0:e.x)+s,e.y=(o.isUndefined(e.y)?0:e.y)+r,app.trigger("drop-object",e)},this)},callbackRemovePendingItems:function(){0===--this.pendingRenderedItems&&this.updateModelOrdinals()},groupParsers:{}}));t.exports=a},{"../mixin/collection/ordinalMixin.js":66,"./objectModel.js":75,backbone:"backbone",underscore:52}],74:[function(e,t,i){var n=e("backbone"),o=e("underscore");t.exports=n.View.extend({initialize:function(e){this.$slideEl=e.slideEl,this.$slideEl||(this.$slideEl=$("#sl1 article")),this.listenTo(this.collection,"add",this.renderOne),this.listenTo(this.collection,"reset",this.renderAll),this.listenTo(app,"objectCollection:remove:model-view",this.remove),this.listenTo(this.collection,"reset",this.reset),this.subViews={},this.render()},render:function(){return this.renderAll(),this},renderOne:function(e){if(app.views.objects[e.get("type")]){var t=new(app.views.objects[e.get("type")])({model:e});return this.subViews[e.get("id")]=t,this.$slideEl.append(t.$el),this.hasSlideBeenRendered()&&e.trigger("object:render:after"),this}},hasSlideBeenRendered:function(){return 0!==this.$slideEl.parent().parent().length},renderAll:function(){this.collection.each(this.renderOne,this)},remove:function(e){o.has(this.subViews,e.get("id"))&&(this.subViews[e.get("id")].unbind(),this.subViews[e.get("id")].model.unbind("change",this.subViews[e.get("id")].update),this.subViews[e.get("id")].off(),this.subViews[e.get("id")].remove(),delete this.subViews[e.get("id")])},reset:function(){o.each(this.subViews,function(e,t){e.remove()},this)}})},{backbone:"backbone",underscore:52}],75:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("../mixin/model/attributeValidatorMixin.js"),r=e("../../helpers/uniqueId.js");n.DeepModel=e("backbone-deep-model");var a=n.DeepModel.extend(o.extend({},s,{idAttribute:"id",activeMenuItem:".icon_color",tempAttributes:["selected","tempProportionLock"],propertyMenuItems:[".btn-animate",".btn-delete",".btn-duplicate",".btn-link",".btn-arrange",".btn-effects"],premium:!1,subMenu:{options:{},effect:["opacityPopup","dropshadowPopup"],animate:["animatePopup"],link:["linkPopup"],color:["colorPopup"],arrange:["layersPopup"]},nonTweenable:["name","link","id","type","proportionLock","lock","options","border","patterns","groupType","parseText","colors","param1","animParam1","render","icon","inarow","anim_en","anim_ex","tempProportionLock","text","preserveAspectRatio","playerid","startTime","premium","isGrouped","orid","onLibSlide","previousId"],removeNonTweenableChanges:function(){o.each(this.changed,function(e,t){o.contains(this.nonTweenable,t)&&delete this.changed[t]},this)},toJSON:function(e){return o.omit(this.attributes,this.tempAttributes)},defineReadyPromise:function(){var e=$.Deferred(),t=this;this.bind("object:render:after",e.resolve),e.done(function(){t.trigger("ready")}).fail(function(){console.log("failed: "+app)}),this.promise=e.promise()},getPromises:function(){return[this.promise]},initialize:function(e){if(this.validationError)return!1;if(o.isNull(this.get("id"))){var t=o.isUndefined(this.get("onLibSlide"))?!1:this.get("onLibSlide");t?this.set("id",r.randomId()):this.set("id",r.uniqueId("el","object"))}else r.notifyIdCounter(this.get("id"),"object");o.isNull(this.id)&&(this.id=this.get("id")),o.isUndefined(this.get("position"))||this.overridePosition(),this.defineReadyPromise()},overridePosition:function(){var e=app.settings.get("zoom");switch(this.get("position")){case"center:content":this.set("x",(($(window).width()-this.get("width")*e)/2-$(".stage:visible:eq(0)").offset().left)/e),this.set("y",(($(window).height()-this.get("height")*e)/2-$(".stage:visible:eq(0)").offset().top)/e);break;default:this.set("x",0),this.set("y",0)}this.unset("position")},validate:function(e){return this.validateAttributes(e)},rotate:function(e,t,i,n,o){var s=Math.cos,r=Math.sin;o=o*Math.PI/180;var a=(e-i)*s(o)-(t-n)*r(o)+i,l=(e-i)*r(o)+(t-n)*s(o)+n;return[a,l]},getBoundingClientRect:function(){var e=this.get("x"),t=this.get("y"),i=this.get("height"),n=this.get("width"),s=e+n/2,r=t+i/2,a=this.get("rotation"),l=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,h=[[e,t],[e+n,t],[e,t+i],[e+n,t+i]];return o.each(h,function(e){var t=e[0],i=e[1],n=this.rotate(t,i,s,r,a),o=n[0],h=n[1];d>o&&(d=o),l>h&&(l=h)},this),{left:d,top:l,width:n,height:i}},isUserModel:function(){var e=this.get("type");return"audio"!==e&&"collection"!==e},validators:{type:{type:"string",params:{maxlength:32,notblank:!0}},name:{type:"string",params:{maxlength:64,notblank:!0}},x:{type:"number",params:{min:-5e3,max:15e3}},y:{type:"number",params:{min:-5e3,max:15e3}},lock:{type:"boolean"},opacity:{type:"number",params:{min:0,max:100}},width:{type:"number",params:{min:0,max:5e3}},height:{type:"number",params:{min:0,max:1e4}}},defaults:{id:null,type:null,x:0,y:0,width:0,height:0,name:"",lock:!1,rotation:0,opacity:100,animation:{enter:{delay:0,name:"None"},exit:{delay:0,name:"None"}},proportionLock:!0},contains:function(e){var t=this.get("group");if(t&&t.length)for(var i=0;i<t.length;++i){var n=t[i];if(e.get("id")===n.get("id"))return!0}return!1}}));t.exports=a},{"../../helpers/uniqueId.js":62,"../mixin/model/attributeValidatorMixin.js":67,backbone:"backbone","backbone-deep-model":1,underscore:52}],76:[function(e,t,i){var n=e("Draggable"),o=e("backbone"),s=e("underscore"),r=e("../mixin/view/dragObjectMixin.js"),a=e("../mixin/view/textEditorMixin.js"),l=e("TweenMax");t.exports=o.View.extend(s.extend({},r,a,{wrapperTemplate:"#object",asyncProperties:[],backendRenderedProperties:["x","y","width","height"],template:"",draggableRef:!1,events:function(){var e={dblclick:"dblclick"};return"publish"===app.settings.get("editMode")&&s.extend(e,{mouseenter:"mouseEnter",mouseleave:"mouseLeave"}),e},initialize:function(){if(!this.model)throw new Error("model is required to create an object");s.bindAll(this,"update","render","afterRender","bindMousedownEvent","mousedownEvent"),this.model.bind("change",this.update),this.model.bind("object:render:after",this.afterRender),this.selected=!1,this.render(),this.bindMousedownEvent()},bindMousedownEvent:function(){app.settings.isIE()||app.settings.getChromeVersion()>=55?(this.$el.off("pointerdown"),this.$el.on("pointerdown",this.mousedownEvent)):(this.$el.off("mousedown"),this.$el.on("mousedown",this.mousedownEvent))},dblclick:function(){if(this.model.subMenu.settings&&"text"!==this.model.get("type")&&"table"!==this.model.get("type")){var e=200;"infogrWidget"===this.model.get("type")&&"semicircles"===this.model.get("render")&&(e=350),app.trigger("propertiesSubMenu:show","settings",this.model,{left:$(".btn-settings").offset().left-$("#submenu").offset().left+$(".btn-settings").width()/2-30,right:"auto"},e),$(".btn-property").removeClass("activated"),$(".btn-settings").addClass("activated")}},mouseEnter:function(){app.trigger("object:mouseenter",this.model)},mouseLeave:function(){app.trigger("object:mouseleave",this.model)},mousedownEvent:function(e){var t=3,i=1;switch(e.which){case i:this.leftClick(e);break;case t:this.rightClick(e)}},leftClick:function(e){"text"===this.model.get("type")&&$("#"+this.model.get("id")).find(".vm-texteditor-rich").length||window.getSelection().removeAllRanges(),
app.trigger("object:click",this.model,e),this.model.get("lock")&&app.trigger("objectLockedView:show",this.model),this.model.get("isGrouped")&&(this.draggableRef=n.get("#"+this.$el[0].id),this.draggableRef||(this.initDragging(),this.draggableRef=n.get("#"+this.$el[0].id)),this.draggableRef.disable())},rightClick:function(e){return this.isTextObjectBeingEdited(e)?void 0:(app.trigger("contextMenuPopup:show",this.model,e),e.stopPropagation(),e.preventDefault(),!1)},isRendered:function(){return 0!==this.$el.closest(".stage").length},getSlideId:function(){return this.$el.closest(".stage")[0].id},hasAsyncProperty:function(e){for(var t=0;t<this.asyncProperties.length;++t)if(s.has(e,this.asyncProperties[t]))return!0;return!1},update:function(e,t){var i=this;this.hasAsyncProperty(this.model.changed)||"loaded"!==app.settings.get("state")||app.trigger("project:change"),!this.model.get("temp")&&s.has(this.model.changed,"order")&&app.trigger("objectlist:update"),!this.model.get("temp")&&s.has(this.model.changed,"type")&&"collection"===this.model.get("type")&&app.trigger("objectlist:update"),(s.has(this.model.changed,"lock")||s.has(this.model.changed,"order")||!this.draggableRef||s.has(this.model.changed,"isGrouped"))&&(this.draggableRef=n.get("#"+i.$el[0].id),this.draggableRef||(this.initDragging(),this.draggableRef=n.get("#"+i.$el[0].id)),s.isUndefined(this.draggableRef)||((this.model.changed.lock||this.model.changed.isGrouped)&&this.draggableRef.enabled()?this.draggableRef.disable():this.draggableRef&&!this.draggableRef.enabled()&&this.draggableRef.enable())),this.model.removeNonTweenableChanges(),s.has(this.model.changed,"visibility")&&"hidden"===this.model.changed.visibility&&app.trigger("object:deselect-object",this.model),s.has(this.model.changed,"opacity")&&(l.set(this.$el,{css:{opacity:this.model.get("opacity")/100}}),delete this.model.changed.opacity),s.has(this.model.changed,"order")&&(l.set(this.$el,{css:{"z-index":this.model.get("order")}}),delete this.model.changed.order),this.model.get("lock")===!0&&(s.has(this.model.changed,"x")&&(this.model.changed.x=this.model.previous("x")),s.has(this.model.changed,"y")&&(this.model.changed.y=this.model.previous("y"))),s.has(this.model.changed,"text-shadow")&&this.$el.css("text-shadow",this.model.get("text-shadow")),s.has(this.model.changed,"box-shadow")&&this.$el.css("box-shadow",this.model.get("box-shadow"));var o=this;this.model.changed&&"editor"===app.settings.get("editMode")&&(t&&t.noAnimation||"loaded"!==app.settings.attributes.state)?l.set(this.$el,s.extend({onComplete:function(){o.isRendered()&&app.trigger(o.getSlideId()+":change",o.model)}},this.model.changed)):!this.model.changed||s.isEmpty(this.model.changed)||!s.isUndefined(t)&&t.noCssUpdate?s.isEmpty(this.model.changed)&&this.isRendered()&&app.trigger(this.getSlideId()+":change",this.model):l.to(this.$el,.2,s.extend({onComplete:function(){o.isRendered()&&app.trigger(o.getSlideId()+":change",o.model)}},this.model.changed)),"editor"===app.settings.get("editMode")&&this.addObjectDragBuffer()},addObjectDragBuffer:function(e){if((s.has(this.model.changed,"width")||s.has(this.model.changed,"height"))&&this.$dragTrigger){var t=s.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");this.model.get("fixedWidth")&&l.set(this.$vmText,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*t}),this.model.get("tableObject")&&l.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*t,height:this.model.get("height")-2*this.model.get("padding.vertical")-2*t}),l.set(this.$dragTrigger,{width:this.model.get("width"),height:this.model.get("height")}),l.set(this.$dragTriggerInner,{width:this.model.get("width"),height:this.model.get("height")})}},render:function(){if($("#"+this.model.el).length)return this;var e=s.template($(this.wrapperTemplate).html()),t=e({object:s.extend({},this.model.toJSON(),app.settings.toJSON()),template:s.template($(this.template).html())});return this.setElement(t),Boolean(this.model.get("premium"))!==!0||s.contains(app.settings.get("permissions"),"asset:premiumInfographics")||this.$el.append('<div class="premium-sample"><div></div></div>'),this},afterRender:function(){this.model.changed=this.model.toJSON(),this.model.trigger("change",this.model)},deSelectObject:function(e){this.selected&&(this.$el.removeClass("selected"),this.selected=!1,e&&e.silent||app.trigger("object:deselect-object",this.model))},selectObject:function(e){this.model.get("id")!==e.get("id")||this.selected?this.selected&&this.model.get("id")!==e.get("id")&&this.deSelectObject({silent:!0}):(this.selected=!0,this.$el.addClass("selected"),"collection"===this.model.get("type")&&s.each(this.model.get("group"),function(e){e.get("lock")&&!this.model.get("lock")&&this.model.set("lock",!0)},this))},getCenter:function(){var e=this.model.getBoundingClientRect();return{x:e.width/2+e.left,y:e.height/2+e.top}}}))},{"../mixin/view/dragObjectMixin.js":68,"../mixin/view/textEditorMixin.js":72,Draggable:"Draggable",TweenMax:"TweenMax",backbone:"backbone",underscore:52}],77:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["enter","exit","volume","hash","fadinDuration","fadeoutDuration","delete_key","loop","size","audioStorage","audioType","tempVolume"]),this.activeMenuItem=null},validators:{},defineReadyPromise:function(){var e=$.Deferred(),t=this,i=app.settings.get("editMode");"editor"===i?this.bind("object:render:after",e.resolve):this.bind("oncanplay",e.resolve),e.done(function(e){t.trigger("ready")}),this.promise=e.promise()},defaults:{state:"stop",visibility:!1,opacity:100,type:"audio",name:"audio_name",loop:!1,animation:{enter:{delay:0,name:"Audio Enter",fadeDuration:3},exit:{delay:0,name:"Audio Exit",fadeDuration:3}},volume:100},play:function(){$("#"+this.get("id")+" audio")[0].play()},pause:function(){$("#"+this.get("id")+" audio")[0].pause()}}));n.defaults(s.prototype.defaults,o.prototype.defaults),t.exports=s},{"./../../objectModel.js":75,underscore:52}],78:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js");t.exports=o.extend({template:"#audio",initialize:function(){this._super(),n.bindAll(this,"timeUpdate","forceStop","timelineSeek","slideComplete","initPlayer"),this.player.addEventListener("timeupdate",this.timeUpdate),app.bind("audio:stop:all",this.forceStop),app.bind("slide:complete-animations",this.slideComplete),this.isFirstBegin=!0},timelineSeek:function(e){var t=Math.max(0,e-this.model.get("animation.enter.delay"));this.player.readyState>0&&(this.player.currentTime=t),this.model.set("state","pause")},forceStop:function(){this.model.set("state","stop")},slideComplete:function(){"Background Music"!==this.model.get("name")&&this.model.set("state","stop")},initPlayer:function(){var e=this.model.get("animation.enter.fadeDuration");0!==e&&(this.player.volume=0),this.player.loop=this.model.get("loop")},setVolume:function(e){this.player.volume=Math.min(Math.max(0,e),100)/100},manageAudioState:function(e){if(!this.player.readyState&&(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream))return!1;switch(this.model.changed.state){case"stop":this.player.currentTime=0,this.player.pause();break;case"play":this.isFirstBegin&&(this.initPlayer(),this.isFirstBegin=!1),this.player.play();break;case"pause":this.player.pause()}},timeUpdate:function(){this.isStart()?this.fadeIn():this.isEnding()?this.fadeOut():this.player.volume!==this.model.get("volume")/100&&(this.player.volume=this.model.get("volume")/100),console.log("t,v:",this.player.currentTime+","+this.player.volume);var e=$(".clip_progressbar");if(e.length>0){var t=this.player.currentTime/this.player.duration*100;t>99&&(console.log("audio reached 99%"),this.model.trigger("audio:finished")),e.css("width",t+"%")}},isStart:function(){return this.player.currentTime<this.model.get("animation.enter.fadeDuration")},isEnding:function(){return this.player.currentTime>this.player.duration-this.model.get("animation.exit.fadeDuration")},fadeIn:function(){var e=this.model.get("animation.enter.fadeDuration");if(0!==e){var t=this.player.currentTime/e*this.model.get("volume");this.setVolume(t)}},fadeOut:function(){var e=this.model.get("animation.exit.fadeDuration");if(0!==e){var t=this.player.duration-this.player.currentTime,i=t/e*this.model.get("volume");this.setVolume(i)}},update:function(e,t){n.has(this.model.changed,"state")&&(this.manageAudioState(this.model.changed.state),delete this.model.changed.state),n.has(this.model.changed,"volume")&&(this.setVolume(this.model.get("volume")),delete this.model.changed.volume),n.has(this.model.changed,"loop")&&(this.player.loop=this.model.changed.loop,delete this.model.changed.loop),n.has(this.model.changed,"src")&&this.$el.find("audio source").attr("src",this.model.changed.src),this._super(e,t)},render:function(){if($("#"+this.model.el).length)return this;var e=n.template($(this.wrapperTemplate).html()),t=this.model.toJSON(),i="";return i=e(n.isUndefined(t.audioStorage)||""===t.audioStorage?{object:n.extend({},t,{audioStorage:t.hash&&t.hash.indexOf("audio")>-1?app.settings.get("assetsStorage"):app.settings.get("audioStorage")}),template:n.template($(this.template).html())}:{object:n.extend({},t),template:n.template($(this.template).html())}),this.setElement(i),this.model.get("is_bmusic")&&$("body").append(i),this.setPlayerEvents(),this},setPlayerEvents:function(){this.player=this.$el.find("audio")[0],this.player.loadstart=function(){this.model.trigger("onloadstart")}.bind(this),null!==navigator.userAgent.match(/iPad/i)&&this.model.trigger("oncanplay"),this.player.oncanplaythrough=function(){this.model.trigger("oncanplay")}.bind(this)}})},{"../../objectView.js":76,underscore:52}],79:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["data","subtitle","title"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null},getChartistData:function(){var e=this.get("chartData");if(n.isNull(e))return e;var t=this.get("chartType");e=n.map(e,n.clone);var i={labels:this.getLabels(e)};return i.series=this.getSeries(e),0===i.series.length||0===i.series[0].data.length?null:("Pie"===t&&(i.series=i.series[0].data),this.removeEmptyColumn(i,t))},removeEmptyColumn:function(e,t){var i=this.getMaxLength(e,t);if(e.labels.length<i)for(var o=i-e.labels.length;o>0;)e.labels.push(""),o--;for(var s=0;i>s;s++)if(n.isUndefined(e.labels[s])||""===e.labels[s]||"&nbsp;"===e.labels[s])if("Pie"===t)$.isNumeric(e.series[s])||(e.labels.splice(s,1),e.series.splice(s,1),s--,i-=1);else{for(var r=0;r<e.series.length&&!$.isNumeric(e.series[r].data[s]);r++);if(r===e.series.length){e.labels.splice(s,1);for(var a=0;a<e.series.length;a++)e.series[a].data.splice(s,1);s--,i-=1}}return e},getMaxLength:function(e,t){if("Pie"===t)return e.labels.length>e.series.length?e.labels.length:e.series.length;for(var i=0,n=0;n<e.series.length;n++){var o=e.series[n].data.length;o>i&&(i=o)}return e.labels.length>i?e.labels.length:i},getLabels:function(e){var t=e[0];return this.filterRow(t,"label")},getSeries:function(e){e.shift();for(var t=n.clone(e),i=0;i<t.length;++i){var o=t[i];if(this.isEmptyRow(o)){t.splice(i,t.length-i);break}t[i]={name:o[0],data:this.validateRow(this.filterRow(o,"series"))}}return t},isEmptyRow:function(e){for(var t=0;t<e.length;++t)if(null!==e[t]&&""!==e[t]&&!n.isUndefined(e[t]))return!1;return!0},filterRow:function(e,t){for(var i=1;i<e.length;++i)if(null===e[i]){e.splice(i,e.length-i);break}return e.shift(),e},validateRow:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]=e[t].replace(/[^\d.-]/g,""));return e},validators:{width:{type:"number",params:{min:200,max:1e5}},height:{type:"number",params:{min:200,max:1e5}}},defaults:{type:"chart",height:200,width:200,chartType:"Bar",proportionLock:!1}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],80:[function(e,t,i){var n=e("underscore"),o=e("chartist"),s=e("../../objectView.js");t.exports=s.extend({template:"#chart",initialize:function(){this._super(),n.bindAll(this,"delayChartDraw"),this.isIE=app.settings.isIE(),app.bind("slide:transitionTo",this.delayChartDraw),app.bind("slide:new-selected",this.delayChartDraw),app.bind("timeline:set-play",this.delayChartDraw)},delayChartDraw:function(e){var t=this;if(n.isUndefined(e))setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0);else if(n.isUndefined(e.model))!n.isUndefined(e.get("objects"))&&e.get("objects").length>0&&n.each(e.get("objects"),function(e){return e.id===t.model.get("id")?(setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0),!1):void 0});else{var i=e.model.get("objects");i.length>0&&n.each(i,function(e){return e.id===t.model.get("id")?(setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0),!1):void 0})}},refresh:function(){this.model.changed=n.clone(this.model.attributes),this.update(this.model)},update:function(e,t){var i=this,s=this.model.get("chartType"),r=this.model.getChartistData();if(null!==r){n.has(this.model.changed,"backgroundColor")&&(this.$el.css("backgroundColor",this.model.changed.backgroundColor),delete this.model.changed.backgroundColor);var a=n.isUndefined(this.model.get("options").showLegend)||this.model.get("options").showLegend;if(i.legendAttributesChanged())if(a){var l=$.extend(!0,{},r);"Pie"===s&&(l=this.generatePercentage(l)),this.generateLegend(l)}else this.removeLegend();n.has(this.model.changed,"subtitle")&&(this.$el.find(".chart-subtitle").html(this.model.changed.subtitle),delete this.model.changed.subtitle),n.has(this.model.changed,"title")&&(this.$el.find(".chart-title").html(this.model.changed.title),delete this.model.changed.title),n.has(this.model.changed,"titleColor")&&(this.$el.find(".chart-title").css("color",this.model.changed.titleColor),delete this.model.changed.titleColor),n.has(this.model.changed,"subtitleColor")&&(this.$el.find(".chart-subtitle").css("color",this.model.changed.subtitleColor),delete this.model.changed.subtitleColor),n.has(this.model.changed,"width")&&(this.model.get("options").width=this.model.changed.width);var d=this.model.get("height"),h=this.model.get("width");if(this.$el.find(".chart-title").css({"font-size":(21*d/500).toFixed(1)+"px"}),this.$el.find(".chart-subtitle").css({"font-size":(15*d/500).toFixed(1)+"px"}),this.$el.find(".ct-legend td").css({"font-size":(17*d/450).toFixed(1)+"px",height:25*d/500+"px"}),this.$el.find(".ct-legend .legend-color").css({width:18*d/450+"px",height:18*d/450+"px"}),this.$el.find(".ct-legend.ct-legend-inside").css({bottom:3*d/450+"px"}),this.$el.find(".ct-legend .legend-label").css({"margin-left":22*d/450+"px"}),n.has(this.model.changed,"height")||n.has(this.model.changed,"chartType")||n.has(this.model.changed,"chartData")||n.has(this.model.changed,"options")&&n.has(this.model.changed.options,"showLegend")){var c=this.$el.find(".chart-title"),u=this.$el.find(".chart-subtitle"),p=this.$el.find(".ct-legend"),g=0;g=n.isUndefined(this.model.changed.height)?Math.round(c.height()+20*parseFloat(this.model.get("height")/500)):Math.round(c.height()+20*parseFloat(this.model.changed.height/500));var f,m=Math.round(u.height()),v=0;v="Pie"!==s&&0===p.height()?18:Math.round(p.height()),f=a?v>0?(this.model.changed.height>0?this.model.changed.height:this.model.get("height"))-g-m-v:this.model.get("options").height:(this.model.changed.height>0?this.model.changed.height:this.model.get("height"))-g-m,this.model.get("options").height=f>0?f:1}var b,y=JSON.parse(JSON.stringify(this.model.get("options"))),w=0,T=0,x=r.series.length,k="Bar"===s&&!n.isUndefined(y.horizontalBars)&&y.horizontalBars,S=!n.isUndefined(y.showValue)&&y.showValue,P=n.isUndefined(y.showAnimation)||y.showAnimation,j=!n.isUndefined(y.showPercentage)&&y.showPercentage;if(k){var C=$("#"+this.model.get("id"));T=d-C.find(".chart-title").height()-C.find(".chart-subtitle").height()-C.find(".ct-legend").height()}else T=h;if("Bar"!==s||n.isUndefined(r.series[0]))"Pie"!==s&&(y.chartPadding={top:15,right:20,bottom:5,left:30});else{if(b=r.series[0].data.length,y.stackBars&&x>1?y.seriesBarDistance=T/(1.4*x):y.seriesBarDistance=T/(x*b*1.7),S&&j&&x>1)for(var M=[],I=0;b>I;I++){M[I]=parseFloat(r.series[0].data[I]);for(var z=1;x>z;z++)M[I]+=parseFloat(r.series[z].data[I])}if(k){var _,A,O,R;"Download"===app.settings.get("project_type")||this.isIE?(_=0,R=25):(_=(T-50)/(2*b)-8,R=10),y.chartPadding={top:15,right:40,bottom:5,left:R},A=1===x||y.stackBars?T/b:T/x,O=A>200?120:A>150?100:A>100?80:70,y.axisY={offset:O,labelOffset:{x:0,y:_}}}else y.chartPadding={top:15,right:20,bottom:5,left:30}}if(1!==x||n.isUndefined(r.series[0])||"Pie"===s||(b=r.series[0].data.length),"Pie"===s){var E=!n.isUndefined(y.showCallOuts)&&y.showCallOuts;if(S)if(E)y.chartPadding=this.model.get("options").height/10,y.showLabel=!1;else{if(y.showLabel=!0,y.labelPosition="inside",y.labelOffset=Math.min(this.model.get("options").height,this.model.get("width"))/10,y.donut&&(y.labelOffset=y.labelOffset/3),j){var L=$.extend(!0,{},r);r.labels=this.labelPercentage(L.series)}else r.labels=r.series;y.chartPadding=this.model.get("options").height/15}else y.showLabel=!1,y.chartPadding=this.model.get("options").height/15;delete y.showGrid,y.axisX&&(delete y.axisX,delete y.axisY),y.donut&&(w=i.model.get("options").height/4,y.donutWidth=w)}"Line"===s&&(y.lineSmooth=!0,y.fullWidth=!1);var F,V=this.model.get("chartData");n.isUndefined(V[1])||n.isUndefined(V[1][1])||-1===V[1][1].toString().indexOf("$")||(F="$"),y.plugins=[o.plugins.tooltip({currency:F})];var D=$.extend(!0,{},this.model.changed);if($("#"+this.$el[0].id+" .ct-chart").length>0){this.$el.find(".ct-tooltip").remove(),this.chart=new o[s]("#"+this.$el[0].id+" .ct-chart",r,y);var B=i.model.get("seriesColors"),W=i.model.get("labelsColor"),N=0,H=100,U=800;this.chart.on("draw",function(e){var t,r="";if("slice"===e.type){var a,l,c=o.polarToCartesian(e.center.x,e.center.y,e.radius+10,e.startAngle),u=o.polarToCartesian(e.center.x,e.center.y,e.radius+10,e.endAngle);y.donut?(a=new o.Svg.Path(!1).move(u.x,u.y).arc(e.radius+10,e.radius+10,0,e.endAngle-e.startAngle>180,0,c.x,c.y),l=e.group.elem("path",{d:a.stringify()},"hover-donut-splice",!0),l.attr({stroke:B[e.index],"stroke-width":w})):(a=new o.Svg.Path(!0).move(u.x,u.y).arc(e.radius+10,e.radius+10,0,e.endAngle-e.startAngle>180,0,c.x,c.y).line(e.center.x,e.center.y),l=e.group.elem("path",{d:a.stringify()},"hover-splice",!0),l.attr({fill:B[e.index]}))}n.contains(e.element.classes(),"ct-slice-pie")&&"slice"===e.type||n.contains(e.element.classes(),"ct-area")&&"area"===e.type?(r=B[e.index],n.isUndefined(r)||e.element.attr({style:"fill: "+r+";"})):n.contains(e.element.classes(),"ct-slice-donut")&&"slice"===e.type?(r=B[e.index],n.isUndefined(r)?e.element.attr({style:"stroke-width: "+w+"px;"}):e.element.attr({style:"stroke: "+r+"; stroke-width: "+w+"px;"})):n.isUndefined(e.seriesIndex)||(r=B[e.seriesIndex],"Bar"===s?(2>x&&(r=B[e.index]),t=y.stackBars&&x>1?T/(1.8*b):x>1?T/(x*b*1.7):T/(x*b*2),n.isUndefined(r)?e.element.attr({style:"stroke-width: "+t+"px;"}):e.element.attr({style:"stroke:"+r+";color:"+r+";stroke-width: "+t+"px;"})):n.isUndefined(r)||e.element.attr({style:"stroke:"+r+";color:"+r}));var p;if(S){var g,f,m,v,C,I,z;if("bar"===e.type&&(z=e.value,z>0&&(j&&(z=1===x?Math.round(100*z/i.totalSum(e.series.data))+"%":Math.round(100*z/M[e.index])+"%"),!n.isUndefined(y.stackBars)&&y.stackBars?(I=Math.min(5*t/25,16),k?(v=e.x1+.5*e.element.width(),C=e.y1+.12*t,m="rotate(0)"):(v=e.x1+e.element.width()/2+4*I/12,C=e.y1-e.element.height()/2,m="rotate(-90,"+v+","+C+")"),p=new o.Svg("text"),p.text(z.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.addClass("ct-barlabel"),p.attr({x:v,y:C,"text-anchor":"middle",transform:m,style:"font-family: arial,sans-serif; font-size: "+I+"px; fill: rgb(125, 125, 125);"}),e.group.append(p),g=k?e.element.width():e.element.height(),f=p._node.clientWidth,f+7>=g&&p.remove()):(I=Math.min(11*t/25,16),k?(C=e.y1+4*I/12,v=100,m="rotate(0)"):(v=e.x1+e.element.width()/2+4*I/12,C=y.height-50,m="rotate(-90,"+v+","+C+")"),p=new o.Svg("text"),p.text(z.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.addClass("ct-barlabel"),p.attr({x:v,y:C,"text-anchor":"start",transform:m,style:"font-family: arial,sans-serif; font-size: "+I+"px; fill: rgb(125, 125, 125);"}),e.group.append(p)))),"slice"===e.type&&E&&(z=e.value,z>0)){j&&(z=Math.round(100*z/e.totalDataSum)+"%");var _=e.radius,A=(e.endAngle+e.startAngle)/2,O=Math.min(d,h);y.donut&&(_+=w/2);var R,L=e.center.x+(_+O/25)*Math.sin(A*(Math.PI/180)),F=e.center.y-(_+O/25)*Math.cos(A*(Math.PI/180)),V=A-360*parseInt(A/360);R=V>0&&180>V?"start":"end",I=16*Math.min(d,T)/450,p=new o.Svg("text"),p.text(z.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.attr({x:L,y:F,"text-anchor":R,style:"font-family: arial,sans-serif; font-size: "+I+"px; fill: rgb(125, 125, 125);"}),e.group.append(p)}}if("Pie"===s)i.$el.find(".legend-label").css({color:W}),i.$el.find(".ct-label").css({"font-size":(17*Math.min(i.model.get("height"),i.model.get("width"))/450).toFixed(1)+"px"});else{i.$el.find(".ct-label").css({fill:W,color:W}),i.$el.find(".ct-label").css({"font-size":"13px"});var Y;Y=1===x||"Bar"===s&&y.stackBars?T/b>200?16:T/b>150?14:T/b>100?12:11:T/x>200?16:T/x>150?14:T/x>100?12:11,"Bar"===s&&y.horizontalBars?(i.$el.find(".ct-label.ct-vertical").css({display:"block"}),i.$el.find(".ct-label.ct-vertical").css({"font-size":Y+"px"})):(i.$el.find(".ct-label.ct-horizontal").css({"font-size":Y+"px"}),"Bar"===s&&i.$el.find(".ct-label.ct-horizontal").css({display:"block"}))}if(P&&!$("#play-overlay").is(":visible")&&("editor"!==app.settings.get("editMode")||i.$el.closest(".flotr_c").length>0)&&"Download"!==app.settings.get("project_type")&&(delete D.seriesColors,delete D.labelsColor,n.isUndefined(D.options)||(delete D.options.showCallOuts,delete D.options.showPercentage),n.isEmpty(D.options)&&delete D.options,!n.isEmpty(D)))if("Line"===s)y.showLine&&!y.showArea?"line"===e.type?(e.element.animate({opacity:{begin:N*H+1e3,dur:U,from:0,to:1}}),N++):"point"===e.type&&(e.element.animate({x1:{begin:N*H+500,dur:U,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:N*H+500,dur:U,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:N*H+500,dur:U,from:0,to:1,easing:"easeOutQuart"}}),N++):y.showLine&&y.showArea?"line"!==e.type&&"area"!==e.type||e.element.animate({d:{begin:1e3*e.index+500,dur:1e3,from:e.path.clone().scale(1,0).translate(0,e.chartRect.height()).stringify(),to:e.path.clone().stringify(),easing:o.Svg.Easing.easeOutQuint}}):y.showLine||y.showArea||"point"===e.type&&(e.element.animate({x1:{begin:N*H+500,dur:U,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:N*H+500,dur:U,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:N*H+500,dur:U,from:0,to:1,easing:"easeOutQuart"}}),N++);else if("Pie"===s){if(U=3e3/x,y.donut)if("slice"===e.type){if(E&&p.animate({opacity:{begin:(i.isIE?Math.max(0,N-1):N)*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}),i.isIE)e.element.animate({opacity:{begin:N*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var q=e.element._node.getTotalLength();if(e.element.attr({"stroke-dasharray":q+"px "+q+"px"}),e.element.attr({"stroke-dashoffset":-q+"px"}),i.isSafari())e.element.animate({"stroke-dashoffset":{begin:N*U+500,dur:U,from:-q+"px",to:"0px",easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var X=new o.EventEmitter,G=i.$el.find("svg").find(".hover-donut-splice").eq(0);G.attr("class","hover-donut-splice-hide"),X.addEventHandler("animationEnd",function(){G.attr("class","hover-donut-splice")}),e.element.animate({"stroke-dashoffset":{begin:N*U+500,dur:U,from:-q+"px",to:"0px",easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}},!0,X)}}N++}else"label"===e.type&&e.element.animate({opacity:{begin:(i.isIE?Math.max(0,N-1):N)*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else if("slice"===e.type||"label"===e.type){if("label"===e.type&&N--,"slice"===e.type&&S&&E&&p.animate({opacity:{begin:(i.isIE?Math.max(0,N-1):N)*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}),i.isSafari()||i.isIE)e.element.animate({opacity:{begin:N*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var J=new o.EventEmitter,Q=i.$el.find(".ct-series").eq(0);Q.css({"pointer-events":"none"}),J.addEventHandler("animationEnd",function(){Q.css({"pointer-events":"auto"})}),e.element.animate({opacity:{begin:N*U+500,dur:U,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}},!0,J)}N++}}else if("Bar"===s&&"bar"===e.type){var K=!n.isUndefined(y.stackBars)&&y.stackBars&&x>1;S&&(K?p.animate({opacity:{begin:500+800*N,dur:800,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}):p.animate({opacity:{begin:500,dur:3e3,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}})),!n.isUndefined(y.horizontalBars)&&y.horizontalBars?K?(e.element.animate({x2:{begin:500+800*N,dur:800,from:e.x1,to:e.x2,easing:o.Svg.Easing.easeOutQuint}}),(e.index+1)%b===0&&N++):e.element.animate({x2:{begin:500,dur:3e3,from:e.x1,to:e.x2,easing:o.Svg.Easing.easeOutQuint}}):K?(e.element.animate({y2:{begin:500+800*N,dur:800,from:e.y1,to:e.y2,easing:o.Svg.Easing.easeOutQuint}}),(e.index+1)%b===0&&N++):e.element.animate({y2:{begin:500,dur:3e3,from:e.y1,to:e.y2,easing:o.Svg.Easing.easeOutQuint}})}}),delete this.model.changed.chartType,delete this.model.changed.chartData,delete this.model.changed.options,delete this.model.changed.seriesColors,this._super(e,t)}}},updateChartAttributesChanged:function(){return n.has(this.model.changed,"chartData")||n.has(this.model.changed,"options")||n.has(this.model.changed,"width")||n.has(this.model.changed,"height")},legendAttributesChanged:function(){return n.has(this.model.changed,"chartData")||n.has(this.model.changed,"seriesColors")||n.has(this.model.changed,"chartType")||n.has(this.model.changed,"options")&&n.has(this.model.changed.options,"showLegend")},generateLegend:function(e){var t=this.$el.find(".ct-legend");t.html("");var i=0,o="abcdefghijklmno".split(""),s=this.model.get("seriesColors");if("undefined"!=typeof s&&null!==s&&"undefined"!=typeof e)if("Pie"===this.model.get("chartType")){t[0].classList.add("ct-legend-inside"),t[0].id="pie-legend";var r=document.createElement("table");r.classList.add("ct-legend-table"),e.labels.forEach(function(e,t){if(t%2===0){var i=document.createElement("tr");i.classList.add("ct-legend-row"),r.appendChild(i)}var n=document.createElement("td");n.setAttribute("valign","top"),n.className="ct-series-"+t,n.setAttribute("data-legend",t);var o=document.createElement("div");o.className="legend-color",o.style.cssText="background-color:"+s[t]+';"';var a=document.createElement("div");a.classList.add("legend-label"),a.appendChild(document.createTextNode(e.name||e)),n.appendChild(a),n.insertBefore(o,a),r.lastChild.appendChild(n)}),t[0].appendChild(r)}else t[0].classList.remove("ct-legend-inside"),n.each(e.series,function(e){if(n.isObject(e)&&e.name){var r="ct-series-"+o[i],a=s[i++];n.isUndefined(a)?t.html(t.html()+'<li class="ct-legend-series '+r+'"><div class="ct-bar">'+e.name+"</div></li>"):t.html(t.html()+'<li class="ct-legend-series '+r+'"><div style="color:'+a+';"">'+e.name+"</div></li>")}},this)},generatePercentage:function(e){for(var t=0,i=0;i<e.series.length;i++)t+=parseFloat(e.series[i]);for(i=0;i<e.series.length;i++)e.labels[i]=e.labels[i]+" ("+Math.round(parseFloat(e.series[i])/t*100)+"%)";return e},totalSum:function(e){for(var t=0,i=0;i<e.length;i++)t+=parseFloat(e[i]);return t},labelPercentage:function(e){for(var t=this.totalSum(e),i=0;i<e.length;i++)e[i]=Math.round(parseFloat(e[i])/t*100)+"%";return e},removeLegend:function(){this.$el.find(".ct-legend").empty()},render:function(){this._super()},afterRender:function(){this.update(this.model.get("data"),this.model.get("options")),this._super()},dblclick:function(){app.trigger("chartPopup:show",this.model)},isSafari:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}})},{"../../objectView.js":76,chartist:"chartist",underscore:52}],81:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["style","hour","minute","second","period","showSecond","showPeriod","realTime"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null},validators:{param1:{type:"number",params:{min:1,max:250}},animParam1:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"clock",height:200,width:200}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],82:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({template:"#clock",settings:{widgets:["clockPopup"]},initialize:function(){this._super()},update:function(e,t){this.model.subMenu.settings=n.extend({},this.settings.widgets),this._super(e,t),this.clockRender()},render:function(){this._super(),this.clockRender()},clockRender:function(){this.timer&&clearInterval(this.timer);var e=this.model.get("style"),t=this.model.get("hour"),i=this.model.get("minute"),n=this.model.get("second"),o=this.model.get("period"),s=this.$el.find(".handle-second"),r=this.$el.find(".period");this.$el.find("svg").hide(),this.$el.find("#"+e).show(),this.model.get("showSecond")===!1?s.hide():setTimeout(function(){s.show()},200),this.model.get("showPeriod")===!1?r.hide():r.show(),this.model.get("realTime")===!0?this.calcRealTime():this.showClock(t,i,n,o)},calcRealTime:function(){var e=this,t=new Date,i=t.getHours(),n=t.getMinutes(),o=t.getSeconds(),s="";s=12>i?"AM":"PM",this.timer=setInterval(function(){o+=1,o%60===0&&(o=0,n+=1,n%60===0&&(n=0,i+=1,24===i&&(i=0),s=12>i?"AM":"PM")),e.showClock(i,n,o,s)},1e3)},showClock:function(e,t,i,n){var o=this.$el.find(".handle-hour"),r=this.$el.find(".handle-minute"),a=this.$el.find(".handle-second"),l=this.$el.find(".period"),d=this.$el.find(".time");0===e?s.set(o,{rotation:30*e,transformOrigin:"100px 100px"}):(e=e>12?e-12:e,s.to(o,.5,{rotation:30*e+.5*t,transformOrigin:"100px 100px"})),0===t?s.set(r,{rotation:6*t,transformOrigin:"100px 100px"}):s.to(r,.5,{rotation:6*t,transformOrigin:"100px 100px"}),0===i?s.set(a,{rotation:6*i,transformOrigin:"100px 100px"}):s.to(a,.5,{rotation:6*i,transformOrigin:"100px 100px"}),l.text(n),this.model.get("showSecond")===!1?(d.text(e+":"+this.twoDigit(t)),s.set(d,{fontSize:"48px",x:"27",y:"115"}),10>e&&s.set(d,{fontSize:"53px",x:"40"})):(d.text(e+":"+this.twoDigit(t)+":"+this.twoDigit(i)),s.set(d,{fontSize:"30px",x:"27",y:"115"}),10>e&&s.set(d,{fontSize:"31px",x:"40"}))},twoDigit:function(e){return(10>e?"0":"")+e}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],83:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["style","format","value","param1","animparam1","alert","alarm"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null},validators:{param1:{type:"number",params:{min:1,max:250
}},animParam1:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"countdown",height:200,width:200}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],84:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({template:"#countdown",settings:{widgets:["countdownPopup"]},initialize:function(){n.bindAll(this,"checkCurrentSlide"),app.bind("slide:transitionTo",this.checkCurrentSlide),this._super()},update:function(e,t){var i=this.model.get("style"),o=this.model.get("format"),r=this.model.get("value"),a=this.model.get("animParam1"),l=this.model.get(i+"Color1"),d=this.model.get(i+"Color2"),h=this.model.get(i+"Color3"),c=this.$el.find(".value"),u=this.$el.find(".bgValue"),p=this.$el.find(".format"),g=this.$el.find(".range");n.has(this.model.changed,"style")&&(this.$el.find("svg").hide(),this.$el.find("#"+i).show(),s.set(c,{fill:l}),s.set(p,{fill:l}),s.set(u,{fill:d}),s.set(g,{stroke:h}),delete this.model.changed.style),(n.has(this.model.changed,"value")||n.has(this.model.changed,"format")||n.has(this.model.changed,"param1")||n.has(this.model.changed,"animParam1"))&&(s.set(g,{drawSVG:a+"%"}),p.text(o),r=Math.floor(r*a/100),c.text(this.twoDigit(r)),delete this.model.changed.value,delete this.model.changed.format,delete this.model.changed.param1,delete this.model.changed.animParam1),n.has(this.model.changed,i+"Color1")&&(s.set(c,{fill:l}),s.set(p,{fill:l}),delete this.model.changed[i+"Color1"]),n.has(this.model.changed,i+"Color2")&&(s.set(u,{fill:d}),delete this.model.changed[i+"Color2"]),n.has(this.model.changed,i+"Color3")&&(s.set(g,{stroke:h}),delete this.model.changed[i+"Color3"]),this.model.subMenu.settings=n.extend({},this.settings.widgets),this._super(e,t)},render:function(){this._super(),this.counterRender()},counterRender:function(){var e=this.model.get("style"),t=this.model.get("format"),i=this.model.get("value"),n=this.model.get("animParam1"),o=this.model.get(e+"Color1"),r=this.model.get(e+"Color2"),a=this.model.get(e+"Color3"),l=this.$el.find(".value"),d=this.$el.find(".bgValue"),h=this.$el.find(".format"),c=this.$el.find(".range");this.$el.find("svg").hide(),this.$el.find("#"+e).show(),s.set(l,{fill:o}),s.set(h,{fill:o}),s.set(d,{fill:r}),s.set(c,{drawSVG:n+"%",rotation:270,transformOrigin:"100px 100px",stroke:a}),h.text(t),i=Math.floor(i*n/100),l.text(this.twoDigit(i))},checkCurrentSlide:function(e){$("#"+this.model.get("id")).parents(".stage").attr("id")===e.model.get("id")?(this.startCounting(),console.log("start")):console.log("not start")},startCounting:function(){var e,t=this,i=this.model.get("value"),n=this.model.get("format"),o=this.model.get("animParam1"),r=this.model.get("alert"),a=this.$el.find(".value"),l=this.$el.find(".range");"sec"===n&&(e=1),"min"===n&&(e=60),"hrs"===n&&(e=3600),this.timer&&clearInterval(this.timer),s.set(l,{drawSVG:o+"%"}),s.to(l,i*e,{drawSVG:"0",ease:"Linear.easeNone"}),i=Math.floor(i*o/100),a.text(t.twoDigit(i)),this.timer=setInterval(function(){i-=1,s.to(l,i*e,{drawSVG:"0",ease:"Linear.easeNone"}),0>i?(clearInterval(this.timer),r===!0&&console.log("Ding Ding Ding...")):a.text(t.twoDigit(i))},1e3*e)},twoDigit:function(e){return(10>e?"0":"")+e}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],85:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["mode","html","allowScroll"]),this.activeMenuItem=null,this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu)},defaults:{type:"iframe",height:150,width:200,src:"",mode:"iframe",html:""}}));n.defaults(s.prototype.defaults,o.prototype.defaults),t.exports=s},{"./../../objectModel.js":75,underscore:52}],86:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js");t.exports=o.extend({template:"#iframe",initialize:function(){this._super(),app.settings.get("Html5Download")&&-1===this.model.get("src").indexOf("http")&&this.model.set("src","http:"+this.model.get("src"))},update:function(e,t){var i=["src","height","width"];n.each(i,function(e){n.has(this.model.changed,e)&&(this.$el.find("iframe").attr(e,""),this.$el.find("iframe").attr(e,this.model.changed[e]))},this),n.has(this.model.changed,"src")&&""===this.model.changed.src&&this.$el.find("iframe").remove(),n.has(this.model.changed,"html")&&this.$el.find(".drag-inner").html(this.model.changed.html),n.has(this.model.changed,"allowScroll")&&(this.model.changed.allowScroll?this.$el.css("overflow","scroll"):this.$el.css("overflow","hidden")),this._super(e,t)},render:function(){this._super()},dblclick:function(){app.trigger("iframePopup:show",this.model)}})},{"../../objectView.js":76,underscore:52}],87:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["crop","ext","filename","frame","flipX","flipY","locked"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-flip",".btn-crop",".btn-replace",".btn-frames"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.frame=["framePopup"],this.subMenu.flip=["flipsPopup"],this.activeMenuItem=null,this.get("src")||this.set("src","404.jpg")},validators:{reflection:{type:"number",params:{min:0,max:100}}},defaults:{type:"image",src:"",reflection:0,frame:{id:"none",shape:"none",ratio:1,tag:"none",oldFrame:{}},flipX:!1,flipY:!1},isCroped:function(){return"undefined"!=typeof this.get("crop")&&null!==this.get("crop")}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],88:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("../../../../helpers/manageMediaAssets.js"),r=e("TweenMax"),a=o.extend({template:"#image",imageDbclick:function(){$("#upload-trigger").click()},events:{dblclick:"imageDbclick"},isCropInProgress:function(){return"none"!==$(".crop_section").css("display")},initialize:function(){n.bindAll(this,"destroyCrop","beginDragging","finishDragging","restoreCrop","replaceImage","refreshReflection","hideReflection","searchForFramedImage","onDragEnd","updateObjectCollection"),this.listenTo(this.model,"object:destroy-crop",this.destroyCrop),this.listenTo(this.model,"object:restore-crop",this.restoreCrop),this.listenTo(this.model,"resize-end",this.refreshReflection),this.listenTo(this.model,"resize-start",this.hideReflection),app.bind("object:drag",this.searchForFramedImage),app.bind("object:drag-end",this.onDragEnd),app.listenTo(app,"object:handle-drag-start",this.beginDragging),app.listenTo(app,"object:handle-drag-end",this.finishDragging),app.listenTo(app,"image-replaced",this.replaceImage),this._super()},updateObjectCollection:function(e){this.objectCollection=e.objectCollection},searchForFramedImage:function(e,t){if("image"===e.get("type")&&"none"===e.get("frame").id&&"none"!==this.model.get("frame").id){var i=e.get("x"),n=e.get("y"),o=this.model.get("x"),s=this.model.get("y"),r=this.model.get("width"),a=this.model.get("height");i>=o&&o+r>=i&&n>=s&&s+a>=n?(this.$el.addClass("readyForReplace"),this.readyForReplace=!0):(this.$el.removeClass("readyForReplace"),this.readyForReplace=!1)}},existInCanvas:function(e){var t;return n.isUndefined(app.collections.slides.find({id:$(".stage.active").attr("id")}).objectCollection.find({id:e}))||(t=e),t},onDragEnd:function(e){if("image"===e.get("type")){if(this.readyForReplace&&"none"===e.get("frame").id&&"none"!==this.model.get("frame").id&&this.existInCanvas(this.model.get("id"))){var t={width:e.get("width"),height:e.get("height")},i={width:this.model.get("width"),height:this.model.get("height"),assetid:this.model.get("assetid"),x:this.model.get("x"),y:this.model.get("y"),crop:this.model.get("crop"),frame:this.model.get("frame")};t.height=i.width/t.width*t.height,t.width=i.width,t.height<i.height&&(t.width=i.height/t.height*t.width,t.height=i.height),n.isUndefined(i.assetid)||n.isUndefined(this.model)||(n.isUndefined(this.objectCollection)&&(this.objectCollection=app.collections.slides.find({id:$(".stage.active").attr("id")}).objectCollection),this.objectCollection.remove([this.model]),s["delete"](app.settings.get("project_id"),i.assetid,0),app.trigger("object:deselect-object",this.model),e.set({width:i.width,height:i.height,x:i.x,y:i.y,crop:{width:t.width/i.width*100,height:t.height/i.height*100,originX:0,originY:0,ratio:t.height/t.width},frame:i.frame}),app.trigger("object:new-selected",e),setTimeout(function(){app.trigger("save:force")},3e3)),this.readyForReplace=!1}$(".readyForReplace").removeClass("readyForReplace")}},hideReflection:function(){this.$el.find(".svg-reflect").css("display","none")},refreshReflection:function(){this.model.get("reflection")>1&&(this.$el.find(".svg-reflect").css({display:"block",opacity:this.model.get("reflection")/100}),this.$el.find(".svg-reflect g").attr("transform","translate(0 "+this.model.get("height")+") scale(1 -1)"))},beginDragging:function(){this.dragActive=!0},finishDragging:function(){this.dragActive=!1},replaceImage:function(e){parseInt(this.model.get("assetid"),10)===parseInt(e.id,10)&&(this.model.set("ext",e.ext),this.model.set("originsize",e.size),this.model.set("size",parseInt(e.size/1e3,10)+" KB"),this.model.set("filename",e.hash),this.model.set("updatedat",e.updatedAt),this.model.set("updatedby",e.updatedBy),this.model.set("src",e.hash+"."+e.ext),this.model.set("proportionLock",0),setTimeout(function(){app.trigger("save:force")},3e3))},update:function(e,t){if(n.has(this.model.changed,"flipX")&&(r.set(this.$el.find(".crop_wrapper svg"),{rotationY:this.model.get("flipX")?180:0,delay:0}),delete this.model.changed.flipX),n.has(this.model.changed,"flipY")&&(r.set(this.$el.find(".crop_wrapper svg"),{rotationX:this.model.get("flipY")?180:0,delay:0}),delete this.model.changed.flipY),(n.has(this.model.changed,"width")||n.has(this.model.changed,"height"))&&("rectangle"===this.model.get("frame").id&&"none"===this.model.get("frame").id||this.renderFrame(),n.has(this.model.changed,"height")&&this.model.get("reflection")>1&&this.$el.find(".svg-reflect").css("margin-top",this.model.changed.height)),n.has(this.model.changed,"frame")){this.renderFrame();var i=this.model.get("frame").shape;this.$el.find(".crop_wrapper svg g").attr("clip-path","url(#path-"+this.model.get("id")+"-"+i+")"),delete this.model.changed.frame}if(n.has(this.model.changed,"reflection")){var o=this.model.changed.reflection;1>=o?this.$el.find(".svg-reflect").css("display","none"):(this.$el.find(".svg-reflect").css("display","block"),this.$el.find(".svg-reflect").css("opacity",o/100),this.$el.find(".svg-reflect").css("margin-top",this.model.get("height")),this.$el.find(".svg-reflect g").attr("transform","translate(0 "+this.model.get("height")+") scale(1 -1)")),delete this.model.changed.reflection}n.has(this.model.changed,"src")&&($("#"+this.$el[0].id+" .crop_wrapper image").attr("xlink:href",app.settings.get("usersDataStorage")+this.model.changed.src),delete this.model.changed.src),(n.has(this.model.changed,"crop")||this.isCropedImageBeingResized())&&(this.renderCropAttributes(),delete this.model.changed.crop),""!==this.model.get("src")?this.disableLoading():this.enableLoading(),this._super(e,t)},enableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"block"}})},disableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"none"}})},isCropedImageBeingResized:function(){return this.dragActive&&!this.isCropInProgress()&&this.model.isCroped()&&(n.has(this.model.changed,"height")||n.has(this.model.changed,"width"))},restoreCrop:function(e){if(!n.isUndefined(e)){var t=100*this.model.get("width")/e.width,i=100*this.model.get("height")/e.height,o=e.originX*this.model.get("width"),s=e.originY*this.model.get("height");this.model.set({width:t,height:i,x:this.model.get("x")+o,y:this.model.get("y")+s,locked:e.locked,ratio:e.ratio}),this.model.set("crop",e),app.trigger("object:deselect-object")}},destroyCrop:function(){if(this.model.isCroped()){var e=this.model.get("crop"),t=e.width/100*this.model.get("width"),i=e.height/100*this.model.get("height"),n=this.model.get("x")-e.originX*t,o=this.model.get("y")-e.originY*i;this.model.set({width:t,height:i,x:n,y:o}),$("#"+this.model.get("id")+" .crop_wrapper image").attr({width:"100%",height:"100%",y:"0",x:"0","clip-path":"url(#path-none)"}),this.model.set("crop",null),app.trigger("object:resize",this.model)}},renderCropAttributes:function(){var e=this.model.get("crop");if(!n.isNull(e)){var t=e.width/100*this.model.get("width"),i=e.height/100*this.model.get("height"),o=e.originX*t,s=e.originY*i;$("#"+this.model.get("id")+" div image").attr({height:e.height+"%",width:e.width+"%",x:-o,y:-s})}},render:function(){if(this._super(),1===app.settings.get("presentation_mode"))this.$el.find("svg").remove(),this.$el.find(".crop_wrapper").append("<image src="+app.settings.get("usersDataStorage")+this.model.get("src")+"></image>");else{if(this.model.isCroped()){var e=this;setTimeout(function(){e.renderCropAttributes()},200)}this.$el.find("image").error(function(){$(this).attr("xlink:href",app.settings.get("usersDataStorage")+"404.jpg")}),this.renderFrame();var t=this.model.get("frame").shape;this.$el.find(".crop_wrapper svg g").attr("clip-path","url(#path-"+this.model.get("id")+"-"+t+")")}this.bindMouseEvent()},renderFrame:function(){var e=this.model.get("width"),t=this.model.get("height");this.$el.find(".crop_wrapper svg.clip-svg").attr("viewBox","0 0 "+e+" "+t);var i=this.model.get("frame").shape;switch(i){case"circle":this.$el.find(".crop_wrapper svg ellipse").attr({cx:parseInt(e/2),cy:parseInt(t/2),rx:parseInt(e/2),ry:parseInt(t/2)});break;case"none":this.$el.find(".crop_wrapper svg rect").attr({width:e,height:t,rx:0,ry:0});break;case"rectangle":this.$el.find(".crop_wrapper svg rect").attr({width:e,height:t,rx:0,ry:0});break;case"rectangle1":this.$el.find(".crop_wrapper svg rect").attr({width:e,height:t,rx:.1*e,ry:.1*t});break;case"rectangle2":this.$el.find(".crop_wrapper svg path").attr("d","m"+e+","+.839*t+"l0,"+t*-.678+"c"+e*-.089+",0 "+e*-.161+","+t*-.072+" "+e*-.161+","+t*-.161+"l"+e*-.678+",0c0,"+.089*t+" "+e*-.072+","+.161*t+" "+e*-.161+","+.161*t+"l0,"+.678*t+"c"+.089*e+",0 "+.161*e+","+.072*t+" "+.161*e+","+.161*t+"l"+.678*e+",0c0,"+t*-.089+" "+.072*e+","+t*-.161+" "+.161*e+","+t*-.161+"z");break;case"triangle":this.$el.find(".crop_wrapper svg path").attr("d","M 0 "+t+" L "+.5*e+" 0 L "+e+" "+t+" L 0 "+t);break;case"triangle-r":this.$el.find(".crop_wrapper svg path").attr("d","M 0 0 L "+.5*e+" "+t+" L "+e+" 0 L 0 0");break;case"shape1":this.$el.find(".crop_wrapper svg path").attr("d","m"+.972*e+","+.536*t+"c0"+t*-.007+","+.001*e+" "+t*-.013+","+.001*e+" "+t*-.02+"l"+.013*e+" "+t*-.056+"l"+.014*e+" "+t*-.059+"l"+e*-.037+" "+t*-.048+"l"+e*-.03+" "+t*-.039+"c"+e*-.003+" "+t*-.006+" "+e*-.006+" "+t*-.013+" "+e*-.009+" "+t*-.019+"L"+.909*e+","+.24*t+"l"+e*-.015+" "+t*-.058+"l"+e*-.055+" "+t*-.025+"l"+e*-.04+" "+t*-.018+"l"+e*-.032+" "+t*-.04+"l"+e*-.038+" "+t*-.047+"l"+e*-.061+",0l"+e*-.05+",0c"+e*-.007+" "+t*-.002+" "+e*-.014+" "+t*-.003+" "+e*-.021+" "+t*-.005+"l"+e*-.052+" "+t*-.022+"L"+.489*e+",0l"+e*-.054+","+.028*t+"l"+e*-.044+","+.023*t+"c"+e*-.007+","+.002*t+" "+e*-.014+","+.004*t+" "+e*-.021+","+.006*t+"l"+e*-.057+","+.005*t+"l"+e*-.06+","+.005*t+"l"+e*-.034+","+.05*t+"l"+e*-.028+","+.041*t+"c"+e*-.005+","+.005*t+" "+e*-.01+","+.009*t+" "+e*-.015+","+.014*t+"l"+e*-.048+","+.031*t+"l"+e*-.051+","+.033*t+"l"+e*-.007+","+.06*t+"l"+e*-.005+","+.049*t+"c"+e*-.003+","+.007*t+" "+e*-.005+","+.014*t+" "+e*-.007+","+.021*t+"L"+.03*e+","+.414*t+"l"+e*-.03+","+.053*t+"l"+.022*e+","+.056*t+"l"+.018*e+","+.046*t+"c"+.001*e+","+.007*t+","+.002*e+","+.014*t+","+.003*e+","+.021*t+"l"+e*-.001+","+.057*t+"l"+e*-.001+","+.06*t+"l"+.046*e+","+.039*t+"l"+.038*e+","+.032*t+"c"+.004*e+","+.006*t+","+.008*e+","+.011*t+","+.013*e+","+.016*t+"l"+.026*e+","+.051*t+"l"+.027*e+","+.054*t+"l"+.059*e+","+.013*t+"l"+.048*e+","+.01*t+"c"+.007*e+","+.003*t+","+.013*e+","+.006*t+","+.02*e+","+.009*t+"l"+.046*e+","+.033*t+"l"+.049*e+","+.035*t+"l"+.058*e+" "+t*-.016+"l"+.048*e+" "+t*-.014+"c"+.007*e+",0,"+.014*e+" "+t*-.001+","+.02*e+" "+t*-.001+"l"+.057*e+","+.007*t+"l"+.06*e+","+.008*t+"l"+.044*e+" "+t*-.042+"l"+.036*e+" "+t*-.034+"c"+.006*e+" "+t*-.003+",0.012 "+t*-.007+",0.018 "+t*-.011+"l"+.054*e+" "+t*-.02+"l"+.057*e+" "+t*-.021+"l"+.019*e+" "+t*-.057+"l"+.016*e+" "+t*-.047+"c"+.004*e+" "+t*-.006+","+.007*e+" "+t*-.012+","+.011*e+" "+t*-.018+"L"+.95*e+","+.69*t+"l"+.04*e+" "+t*-.045+"l"+e*-.01+" "+t*-.06+"L"+.972*e+","+.536*t+"z");break;case"shape2":this.$el.find(".crop_wrapper svg path").attr("d","m"+.957*e+","+.594*t+"c"+0*e+","+t*-.001+" "+0*e+","+t*-.002+" "+.001*e+","+t*-.003+"l"+.014*e+","+t*-.015+"l"+.028*e+","+t*-.031+"l"+e*-.024+","+t*-.035+"l"+e*-.009+","+t*-.013+"c"+0*e+","+t*-.001+" "+0*e+","+t*-.002+" "+0*e+","+t*-.003+"l"+.011*e+","+t*-.018+"l"+.021*e+","+t*-.036+"l"+e*-.031+","+t*-.028+"l"+e*-.012+","+t*-.011+"c"+0*e+","+t*-.001+" "+0*e+","+t*-.002+" "+e*-.001+","+t*-.003+"l"+.007*e+","+t*-.02+"l"+.013*e+","+t*-.04+"l"+e*-.036+","+t*-.022+"l"+e*-.014+","+t*-.008+"c"+0*e+","+t*-.001+" "+e*-.001+","+t*-.002+" "+e*-.001+","+t*-.003+"l"+.002*e+","+t*-.021+"l"+.004*e+","+t*-.041+"l"+e*-.04+","+t*-.014+"l"+e*-.015+","+t*-.005+"c"+e*-.001+","+t*-.001+" "+e*-.001+","+t*-.002+" "+e*-.002+","+t*-.002+"l"+e*-.002+","+t*-.021+"l"+e*-.003+","+t*-.041+"l"+e*-.042+","+t*-.005+"l"+e*-.016+","+t*-.002+"c"+e*-.001+","+t*-.001+" "+e*-.001+","+t*-.001+" "+e*-.002+","+t*-.002+"l"+e*-.007+","+t*-.02+"l"+e*-.013+","+t*-.04+"l"+e*-.042+","+.004*t+"l"+e*-.016+","+.001*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+t*-.001+" "+e*-.003+","+t*-.001+"l"+e*-.01+","+t*-.018+"l"+e*-.02+","+t*-.037+"l"+e*-.04+","+.012*t+"l"+e*-.015+","+.005*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+t*-.001+" "+e*-.003+","+t*-.001+"l"+e*-.014+","+t*-.016+"l"+e*-.028+","+t*-.031+"l"+e*-.037+","+.02*t+"l"+e*-.014+","+.008*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+0*t+" "+e*-.003+","+0*t+"l"+e*-.017+","+t*-.012+"l"+e*-.034+","+t*-.025+"l"+e*-.032+","+.027*t+"l"+e*-.012+","+.011*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+0*t+" "+e*-.003+","+0*t+"l"+e*-.019+","+t*-.008+"l"+e*-.03008+","+t*-.017+"l"+e*-.025+","+.033*t+"l"+e*-.01+","+.013*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+.001*t+" "+e*-.003+","+.001*t+"l"+e*-.02+","+t*-.005+"l"+e*-.041+","+t*-.009+"l"+e*-.018+","+.038*t+"l"+e*-.007+","+.015*t+"c"+e*-.001+","+.001*t+" "+e*-.002+","+.001*t+" "+e*-.003+","+.001*t+"l"+e*-.021+","+0*t+"l"+e*-.042+","+0*t+"l"+e*-.009+","+.041*t+"l"+e*-.004+","+.016*t+"c"+e*-.001+","+.001*t+" "+e*-.001+","+.001*t+" "+e*-.002+","+.002*t+"l"+e*-.021+","+.004*t+"l"+e*-.041+","+.009*t+"l"+e*-.001+","+.042*t+"l"+0*e+","+.016*t+"c"+0*e+","+0*t+" "+0*e+","+.001*t+" "+e*-.001+","+.001*t+"l"+e*-.019+","+.009*t+"l"+e*-.038+","+.017*t+"l"+.008*e+","+.041*t+"l"+.003*e+","+.016*t+"c"+0*e+","+.001*t+" "+e*-.001+","+.002*t+" "+e*-.001+","+.003*t+"l"+e*-.017+","+.012*t+"l"+e*-.035+","+.024*t+"l"+.016*e+","+.038*t+"l"+.006*e+","+.015*t+"c"+0*e+","+.001*t+" "+0*e+","+.002*t+" "+e*-.001+","+.003*t+"l"+e*-.014+","+.015*t+"l"+e*-.027+","+.031*t+"l"+.024*e+","+.035*t+"l"+.009*e+","+.013*t+"c"+0*e+","+.001*t+" "+0*e+","+.002*t+" "+0*e+","+.003*t+"l"+e*-.011+","+.018*t+"l"+e*-.02+","+.036*t+"l"+.031*e+","+.028*t+"l"+.012*e+","+.011*t+"c"+0*e+","+.001*t+" "+0*e+","+.002*t+" "+.001*e+","+.003*t+"l"+e*-.007+","+.02*t+"l"+e*-.013+","+.04*t+"l"+.036*e+","+.022*t+"l"+.014*e+","+.008*t+"c"+0*e+","+.001*t+" "+.001*e+","+.002*t+" "+.001*e+","+.003*t+"l"+e*-.002+","+.021*t+"l"+e*-.004+","+.041*t+"l"+.04*e+","+.014*t+"l"+.015*e+","+.005*t+"c"+.001*e+","+.001*t+" "+.001*e+","+.002*t+" "+.002*e+","+.002*t+"l"+.002*e+","+.021*t+"l"+.004*e+","+.041*t+"l"+.042*e+","+.005*t+"l"+.016*e+","+.002*t+"c"+.001*e+","+.001*t+" "+.001*e+","+.001*t+" "+.002*e+","+.002*t+"l"+.007*e+","+.02*t+"l"+.013*e+","+.04*t+"l"+.042*e+","+t*-.004+"l"+.016*e+","+t*-.001+"c"+.001*e+","+0*t+" "+.002*e+","+.001*t+" "+.003*e+","+.001*t+"l"+.01*e+","+.018*t+"l"+.021*e+","+.036*t+"l"+.04*e+","+t*-.012+"l"+.015*e+","+t*-.005+"c"+.001*e+","+0*t+" "+.002*e+","+.001*t+" "+.003*e+","+.001*t+"l"+.014*e+","+.015*t+"l"+.028*e+","+.031*t+"l"+.037*e+","+t*-.02+"l"+.014*e+","+t*-.008+"c"+.001*e+","+0*t+" "+.002*e+","+0*t+" "+.003*e+","+0*t+"l"+.017*e+","+.012*t+"l"+.034*e+","+.025*t+"l"+.032*e+","+t*-.027+"l"+.012*e+","+t*-.011+"c"+.001*e+","+0*t+" "+.002*e+","+0*t+" "+.003*e+","+0*t+"l"+.019*e+","+.009*t+"l"+.038*e+","+.017*t+"l"+.025*e+","+t*-.033+"l"+.01*e+","+t*-.013+"c"+.001*e+","+0*t+" "+.002*e+","+t*-.001+" "+.003*e+","+t*-.001+"l"+.021*e+","+.004*t+"l"+.041*e+","+.009*t+"l"+.018*e+","+t*-.038+"l"+.007*e+","+t*-.015+"c"+.001*e+","+t*-.001+" "+.002*e+","+t*-.001+" "+.003*e+","+t*-.001+"l"+.021*e+","+0*t+"l"+.042*e+","+0*t+"l"+.009*e+","+t*-.041+"l"+.004*e+","+t*-.016+"c"+.001*e+","+t*-.001+" "+.001*e+","+t*-.001+" "+.002*e+","+t*-.002+"l"+.021*e+","+t*-.004+"l"+.041*e+","+t*-.009+"l"+.001*e+","+t*-.042+"l"+0*e+","+t*-.016+"c"+.001*e+","+t*-.001+" "+.001*e+","+t*-.001+" "+.002*e+","+t*-.002+"l"+.014*e+","+t*-.006+"l"+.038*e+","+t*-.017+"l"+e*-.008+","+t*-.041+"l"+e*-.003+","+t*-.016+"c"+0*e+","+t*-.001+" "+.001*e+","+t*-.002+" "+.001*e+","+t*-.003+"l"+.017*e+","+t*-.012+"l"+.034*e+","+t*-.024+"l"+e*-.016+","+t*-.038+"l"+e*-.006+","+t*-.015+"z");break;case"pentagon":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" 0, "+e+" "+.4*t+", "+.8*e+" "+t+", "+.2*e+" "+t+", 0 "+.4*t);break;case"hexagon":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" 0,"+e+" "+.25*t+", "+e+" "+.75*t+", "+.5*e+" "+t+", 0 "+.75*t+", 0 "+.25*t);break;case"heptagon":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" "+0*t+", "+.9*e+" "+.2*t+", "+1*e+" "+.6*t+", "+.75*e+" "+1*t+", "+.25*e+" "+1*t+", "+0*e+" "+.6*t+", "+.1*e+" "+.2*t);break;case"octagon":this.$el.find(".crop_wrapper svg polygon").attr("points",.3*e+" 0, "+.7*e+" 0, "+1*e+" "+.3*t+", "+e+" "+.7*t+", "+.7*e+" "+t+", "+.3*e+" "+t+", 0 "+.7*t+", 0 "+.3*t);break;case"rhomboid":this.$el.find(".crop_wrapper svg polygon").attr("points","0 "+1*t+", "+.3*e+" 0, "+1*e+" 0, "+.7*e+" "+1*t);break;case"rhombus":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" "+0*t+", "+1*e+" "+.5*t+", "+.5*e+" "+1*t+", "+0*e+" "+.5*t);break;case"kite":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" "+0*t+", "+1*e+" "+.3*t+", "+.5*e+" "+1*t+", "+0*e+" "+.3*t);break;case"kite-r":this.$el.find(".crop_wrapper svg polygon").attr("points",.5*e+" "+0*t+", "+1*e+" "+.7*t+", "+.5*e+" "+1*t+", "+0*e+" "+.7*t);break;case"trapezoid":this.$el.find(".crop_wrapper svg polygon").attr("points",0*e+" "+1*t+", "+.3*e+" "+0*t+", "+.7*e+" "+0*t+", "+1*e+" "+1*t);break;case"trapezoid-r":this.$el.find(".crop_wrapper svg polygon").attr("points","0 0, "+.3*e+" "+1*t+", "+.7*e+" "+1*t+", "+1*e+" "+0*t);break;case"shape3":this.$el.find(".crop_wrapper svg polygon").attr("points",.854*e+", "+.646*t+" "+1*e+", "+.5*t+" "+.854*e+", "+.354*t+" "+.854*e+", "+.146*t+" "+.646*e+", "+.146*t+" "+.5*e+", "+0*t+" "+.354*e+", "+.146*t+" "+.146*e+", "+.146*t+" "+.146*e+", "+.354*t+" "+0*e+", "+.5*t+" "+.146*e+", "+.646*t+" "+.146*e+", "+.854*t+" "+.354*e+", "+.854*t+" "+.5*e+", "+1*t+" "+.646*e+", "+.854*t+" "+.854*e+", "+.854*t);break;case"shape4":this.$el.find(".crop_wrapper svg path").attr("d","m"+.931*e+","+.5*t+"c"+.056*e+","+t*-.026+" "+.083*e+","+t*-.092+" "+.062*e+","+t*-.155+"c"+e*-.021+","+t*-.063+" "+e*-.083+","+t*-.1+" "+e*-.144+","+t*-.09+"c"+.029*e+","+t*-.053+" "+.011*e+","+t*-.121+" "+e*-.044+","+t*-.16+"c"+e*-.055+","+t*-.039+" "+e*-.129+","+t*-.034+" "+e*-.171+","+.009*t+"c"+e*-.009+","+t*-.058+" "+e*-.066+","+t*-.104+" "+e*-.134+","+t*-.104+"s"+e*-.125+","+.046*t+" "+e*-.133+","+.105*t+"c"+e*-.043+","+t*-.043+" "+e*-.116+","+t*-.048+" "+e*-.171+","+t*-.009+"c"+e*-.055+","+.039*t+" "+e*-.073+","+.108*t+" "+e*-.044+","+.16*t+"c"+e*-.061+","+t*-.01+" "+e*-.123+","+.027*t+" "+e*-.144+","+.09*t+"c"+e*-.022+","+.062*t+" "+.006*e+","+.128*t+" "+.061*e+","+.154*t+"c"+e*-.056+","+.026*t+" "+e*-.083+","+.092*t+" "+e*-.062+","+.155*t+"c"+.021*e+","+.063*t+" "+.083*e+","+.1*t+" "+.144*e+","+.09*t+"c"+e*-.029+","+.053*t+" "+e*-.011+","+.121*t+" "+.044*e+","+.16*t+"c"+.055*e+","+.039*t+" "+.129*e+","+.034*t+" "+.171*e+","+t*-.009+"c"+.009*e+","+.058*t+" "+.066*e+","+.104*t+" "+.134*e+","+.104*t+"s"+.125*e+","+t*-.046+" "+.133*e+","+t*-.105+"c"+.043*e+","+.043*t+" "+.116*e+","+.048*t+" "+.171*e+","+.009*t+"c"+.055*e+","+t*-.039+" "+.073*e+","+t*-.108+" "+.044*e+","+t*-.16+"c"+.061*e+","+.01*t+" "+.123*e+","+t*-.027+" "+.144*e+","+t*-.09+"c"+.022*e+","+t*-.062+" "+e*-.006+","+t*-.128+" "+e*-.061+","+t*-.154+"z");break;case"shape5":this.$el.find(".crop_wrapper svg path").attr("d","m"+.933*e+","+.609*t+"l"+.06*e+","+t*-.022+"l"+e*-.049+","+t*-.041+"l"+e*-.008+","+t*-.006+"c"+0*e+","+t*-.001+" "+0*e+","+t*-.002+" "+0*e+","+t*-.003+"l"+.009*e+","+t*-.005+"l"+.055*e+","+t*-.032+"l"+e*-.055+","+t*-.032+"l"+e*-.009+","+t*-.005+"c"+0*e+","+t*-.001+" "+0*e+","+t*-.002+" "+0*e+","+t*-.003+"l"+.008*e+","+t*-.006+"l"+.049*e+","+t*-.041+"l"+e*-.06+","+t*-.022+"l"+e*-.009+","+t*-.003+"c"+0*e+","+t*-.001+" "+e*-.001+","+t*-.002+" "+e*-.001+","+t*-.003+"l"+.006*e+","+t*-.008+"l"+.041*e+","+t*-.049+"l"+e*-.063+","+t*-.011+"l"+e*-.01+","+t*-.002+"c"+0*e+","+t*-.001+" "+e*-.001+","+t*-.002+" "+e*-.001+","+t*-.002+"l"+.005*e+","+t*-.009+"l"+.032*e+","+t*-.055+"l"+e*-.064+","+0*t+"l"+e*-.01+","+0*t+"c"+0*e+","+t*-.001+" "+e*-.001+","+t*-.001+" "+e*-.001+","+t*-.002+"l"+.003*e+","+t*-.009+"l"+.022*e+","+t*-.06+"l"+e*-.063+","+.012*t+"l"+e*-.01+","+.002*t+"c"+0*e+","+t*-.001+" "+e*-.001+","+t*-.002+" "+e*-.001+","+t*-.002+"l"+.002*e+","+t*-.01+"l"+.011*e+","+t*-.063+"l"+e*-.06+","+.022*t+"l"+e*-.009+","+.003*t+"c"+e*-.001+","+0*t+" "+e*-.001+","+t*-.001+" "+e*-.002+","+t*-.001+"l"+0*e+","+t*-.01+"l"+0*e+","+t*-.064+"l"+e*-.055+","+.032*t+"l"+e*-.009+","+.005*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+t*-.001+" "+e*-.002+","+t*-.001+"l"+e*-.002+","+t*-.01+"l"+e*-.012+","+t*-.063+"l"+e*-.049+","+.041*t+"l"+e*-.008+","+.006*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+t*-.001+" "+e*-.003+","+t*-.001+"l"+e*-.003+","+t*-.009+"l"+e*-.022+","+t*-.06+"l"+e*-.041+","+.049*t+"l"+e*-.006+","+.008*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+0*t+" "+e*-.003+","+0*t+"l"+e*-.005+","+t*-.009+"l"+e*-.031+","+t*-.055+"l"+e*-.032+","+.055*t+"l"+e*-.005+","+.009*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+0*t+" "+e*-.003+","+0*t+"l"+e*-.006+","+t*-.008+"l"+e*-.041+","+t*-.049+"l"+e*-.022+","+.06*t+"l"+e*-.003+","+.009*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+.001*t+" "+e*-.003+","+.001*t+"l"+e*-.008+","+t*-.006+"l"+e*-.048+","+t*-.041+"l"+e*-.011+","+.063*t+"l"+e*-.002+","+.01*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+.001*t+" "+e*-.002+","+.001*t+"l"+e*-.009+","+t*-.005+"l"+e*-.055+","+t*-.032+"l"+0*e+","+.064*t+"l"+0*e+","+.01*t+"c"+e*-.001+","+0*t+" "+e*-.001+","+.001*t+" "+e*-.002+","+.001*t+"l"+e*-.009+","+t*-.003+"l"+e*-.06+","+t*-.022+"l"+.011*e+","+.063*t+"l"+.002*e+","+.01*t+"c"+e*-.001+","+0*t+" "+e*-.002+","+.001*t+" "+e*-.002+","+.001*t+"l"+e*-.01+","+t*-.001+"l"+e*-.063+","+t*-.011+"l"+.022*e+","+.06*t+"l"+.003*e+","+.009*t+"c"+0*e+","+.001*t+" "+e*-.001+","+.001*t+" "+e*-.001+","+.002*t+"l"+e*-.01+","+0*t+"l"+e*-.064+","+0*t+"l"+.032*e+","+.055*t+"l"+.005*e+","+.009*t+"c"+0*e+","+.001*t+" "+e*-.001+","+.002*t+" "+e*-.001+","+.002*t+"l"+e*-.01+","+.002*t+"l"+e*-.063+","+.011*t+"l"+.041*e+","+.049*t+"l"+.006*e+","+.008*t+"c"+0*e+","+.001*t+" "+e*-.001+","+.002*t+" "+e*-.001+","+.003*t+"l"+e*-.009+","+.003*t+"l"+e*-.06+","+.022*t+"l"+.049*e+","+.041*t+"l"+.008*e+","+.006*t+"c"+0*e+","+.001*t+" "+0*e+","+.002*t+" "+0*e+","+.003*t+"l"+e*-.009+","+.005*t+"l"+e*-.055+","+.031*t+"l"+.055*e+","+.032*t+"l"+.009*e+","+.005*t+"c"+0*e+","+.001*t+" "+0*e+","+.002*t+" "+0*e+","+.003*t+"l"+e*-.008+","+.006*t+"l"+e*-.049+","+.041*t+"l"+.06*e+","+.022*t+"l"+.009*e+","+.003*t+"c"+0*e+","+.001*t+" "+.001*e+","+.002*t+" "+.001*e+","+.003*t+"l"+e*-.006+","+.008*t+"l"+e*-.041+","+.048*t+"l"+.063*e+","+.011*t+"l"+.01*e+","+.002*t+"c"+0*e+","+.001*t+" "+.001*e+","+.002*t+" "+.001*e+","+.002*t+"l"+e*-.005+","+.009*t+"l"+e*-.032+","+.055*t+"l"+.064*e+","+0*t+"l"+.01*e+","+0*t+"c"+0*e+","+.001*t+" "+.001*e+","+.001*t+" "+.001*e+","+.002*t+"l"+e*-.003+","+.009*t+"l"+e*-.022+","+.06*t+"l"+.063*e+","+t*-.011+"l"+.01*e+","+t*-.002+"c"+.001*e+","+.001*t+" "+.001*e+","+.001*t+" "+.002*e+","+.002*t+"l"+e*-.002+","+.01*t+"l"+e*-.011+","+.063*t+"l"+.06*e+","+t*-.022+"l"+.009*e+","+t*-.003+"c"+.001*e+","+0*t+" "+.001*e+","+.001*t+" "+.002*e+","+.001*t+"l"+0*e+","+.01*t+"l"+0*e+","+.064*t+"l"+.055*e+","+t*-.032+"l"+.009*e+","+t*-.005+"c"+.001*e+","+0*t+" "+.002*e+","+.001*t+" "+.002*e+","+.001*t+"l"+.002*e+","+.01*t+"l"+.011*e+","+.063*t+"l"+.049*e+","+t*-.041+"l"+.008*e+","+t*-.006+"c"+.001*e+","+0*t+" "+.002*e+","+.001*t+" "+.003*e+","+.001*t+"l"+.003*e+","+.009*t+"l"+.022*e+","+.06*t+"l"+.041*e+","+t*-.049+"l"+.006*e+","+t*-.008+"c"+.001*e+","+0*t+" "+.002*e+","+0*t+" "+.003*e+","+0*t+"l"+.005*e+","+.009*t+"l"+.031*e+","+.055*t+"l"+.032*e+","+t*-.055+"l"+.005*e+","+t*-.009+"c"+.001*e+","+0*t+" "+.002*e+","+0*t+" "+.003*e+","+0*t+"l"+.006*e+","+.008*t+"l"+.041*e+","+.049*t+"l"+.022*e+","+t*-.06+"l"+.003*e+","+t*-.009+"c"+.001*e+","+0*t+" "+.002*e+","+t*-.001+" "+.003*e+","+t*-.001+"l"+.008*e+","+.006*t+"l"+.049*e+","+.041*t+"l"+.011*e+","+t*-.063+"l"+.002*e+","+t*-.01+"c"+.001*e+","+0*t+" "+.002*e+","+t*-.001+" "+.002*e+","+t*-.001+"l"+.009*e+","+.005*t+"l"+.055*e+","+.032*t+"l"+0*e+","+t*-.064+"l"+0*e+","+t*-.01+"c"+.001*e+","+0*t+" "+.001*e+","+t*-.001+" "+.002*e+","+t*-.001+"l"+.009*e+","+.003*t+"l"+.06*e+","+.022*t+"l"+e*-.012+","+t*-.063+"l"+e*-.002+","+t*-.01+"c"+.001*e+","+t*-.001+" "+.001*e+","+t*-.001+" "+.002*e+","+t*-.002+"l"+.01*e+","+.002*t+"l"+.063*e+","+.011*t+"l"+e*-.022+","+t*-.06+"l"+e*-.003+","+t*-.009+"c"+0*e+","+t*-.001+" "+.001*e+","+t*-.001+" "+.001*e+","+t*-.002+"l"+.01*e+","+0*t+"l"+.064*e+","+0*t+"l"+e*-.032+","+t*-.055+"l"+e*-.005+","+t*-.009+"c"+0*e+","+t*-.001+" "+.001*e+","+t*-.002+" "+.001*e+","+t*-.002+"l"+.01*e+","+t*-.002+"l"+.063*e+","+t*-.011+"l"+e*-.041+","+t*-.049+"l"+e*-.006+","+t*-.008+"c"+0*e+","+t*-.001+" "+.001*e+","+t*-.002+" "+.001*e+","+t*-.003+"l"+.009*e+","+t*-.002+"z");break;case"shape6":this.$el.find(".crop_wrapper svg polygon").attr("points",.962*e+", "+.592*t+" "+1*e+", "+.5*t+" "+.962*e+", "+.408*t+" "+.962*e+", "+.309*t+" "+.892*e+", "+.238*t+" "+.854*e+", "+.146*t+" "+.762*e+", "+.108*t+" "+.691*e+", "+.038*t+" "+.592*e+", "+.038*t+" "+.5*e+", "+0*t+" "+.408*e+", "+.038*t+" "+.309*e+", "+.038*t+" "+.238*e+", "+.108*t+" "+.146*e+", "+.146*t+" "+.108*e+", "+.238*t+" "+.038*e+", "+.309*t+" "+.038*e+", "+.408*t+" "+0*e+", "+.5*t+" "+.038*e+", "+.592*t+" "+.038*e+", "+.691*t+" "+.108*e+", "+.762*t+" "+.146*e+", "+.854*t+" "+.238*e+", "+.892*t+" "+.309*e+", "+.962*t+" "+.408*e+", "+.962*t+" "+.5*e+", "+1*t+" "+.592*e+", "+.962*t+" "+.691*e+", "+.962*t+" "+.762*e+", "+.892*t+" "+.854*e+", "+.854*t+" "+.892*e+", "+.762*t+" "+.962*e+", "+.691*t);break;case"shape7":this.$el.find(".crop_wrapper svg polygon").attr("points",.916*e+", "+.584*t+" "+1*e+", "+.5*t+" "+.916*e+", "+.416*t+" "+.916*e+", "+.328*t+" "+.854*e+", "+.265*t+" "+.854*e+", "+.146*t+" "+.735*e+", "+.146*t+" "+.672*e+", "+.084*t+" "+.584*e+", "+.084*t+" "+.5*e+", "+0*t+" "+.416*e+", "+.084*t+" "+.328*e+", "+.084*t+" "+.265*e+", "+.146*t+" "+.146*e+", "+.146*t+" "+.146*e+", "+.265*t+" "+.084*e+", "+.328*t+" "+.084*e+", "+.416*t+" "+0*e+", "+.5*t+" "+.084*e+", "+.584*t+" "+.084*e+", "+.672*t+" "+.146*e+", "+.735*t+" "+.146*e+", "+.854*t+" "+.265*e+", "+.854*t+" "+.328*e+", "+.916*t+" "+.416*e+", "+.916*t+" "+.5*e+", "+1*t+" "+.584*e+", "+.916*t+" "+.672*e+", "+.916*t+" "+.735*e+", "+.854*t+" "+.854*e+", "+.854*t+" "+.854*e+", "+.735*t+" "+.916*e+", "+.672*t);
break;case"shape8":this.$el.find(".crop_wrapper svg path").attr("d","m"+e+","+.5*t+"l"+e*-.037+","+t*-.037+"c"+e*-.025+","+t*-.025+" "+e*-.039+","+t*-.059+" "+e*-.039+","+t*-.094+"l0,"+t*-.199+"c0,"+t*-.052+" "+e*-.042+","+t*-.094+" "+e*-.094+","+t*-.094+"l"+e*-.199+",0c"+e*-.035+",0 "+e*-.069+","+t*-.014+" "+e*-.094+","+t*-.039+"l"+e*-.037+","+t*-.037+"l"+e*-.037+","+.037*t+"c"+e*-.025+","+.025*t+" "+e*-.059+","+.039*t+" "+e*-.094+","+.039*t+"l"+e*-.199+",0c"+e*-.052+",0 "+e*-.094+","+.042*t+" "+e*-.094+","+.094*t+"l0,"+.199*t+"c0,"+.035*t+" "+e*-.014+","+.069*t+" "+e*-.039+","+.094*t+"l"+e*-.037+","+.037*t+"l"+.037*e+","+.037*t+"c"+.025*e+","+.025*t+" "+.039*e+","+.059*t+" "+.039*e+","+.094*t+"l0,"+.199*t+"c0,"+.052*t+" "+.042*e+","+.094*t+" "+.094*e+","+.094*t+"l"+.199*e+",0c"+.035*e+",0 "+.069*e+","+.014*t+" "+.094*e+","+.039*t+"l"+.037*e+","+.037*t+"l"+.037*e+","+t*-.037+"c"+.025*e+","+t*-.025+" "+.059*e+","+t*-.039+" "+.094*e+","+t*-.039+"l"+.199*e+",0c"+.052*e+",0 "+.094*e+","+t*-.042+" "+.094*e+","+t*-.094+"l0,"+t*-.199+"c0,"+t*-.035+" "+.014*e+","+t*-.069+" "+.039*e+","+t*-.094+"l"+.037*e+","+t*-.037+"z");break;case"shape9":this.$el.find(".crop_wrapper svg path").attr("d","m"+.92*e+","+t+"l"+e*-.92+",0l0,"+t*-.92+"c0,"+t*-.044+" "+.036*e+","+t*-.08+" "+.08*e+","+t*-.08+"l"+.92*e+",0l0,"+.92*t+"c0,"+.044*t+" "+e*-.036+","+.08*t+" "+e*-.08+","+.08*t+"z");break;case"shape10":this.$el.find(".crop_wrapper svg polygon").attr("points",.118*e+", "+0*t+" "+0*e+", "+.118*t+" "+0*e+", "+.882*t+" "+.118*e+", "+1*t+" "+.882*e+", "+1*t+" "+1*e+", "+.882*t+" "+1*e+", "+.118*t+" "+.882*e+", "+0*t);break;case"shape11":this.$el.find(".crop_wrapper svg polygon").attr("points",.081*e+","+0*t+" "+0*e+","+.081*t+" "+0*e+","+.919*t+" "+.081*e+","+1*t+" "+.919*e+","+1*t+" "+1*e+","+.919*t+" "+1*e+","+.081*t+" "+.919*e+","+0*t);break;case"shape12":this.$el.find(".crop_wrapper svg path").attr("d","m"+e+","+.839*t+"l0,"+t*-.678+"c"+e*-.089+",0 "+e*-.161+","+t*-.072+" "+e*-.161+","+t*-.161+"l"+e*-.678+",0c0,"+.089*t+" "+e*-.072+","+.161*t+" "+e*-.161+","+.161*t+"l0,"+.678*t+"c"+.089*e+",0 "+.161*e+","+.072*t+" "+.161*e+","+.161*t+"l"+.678*e+",0c0,"+t*-.089+" "+.072*e+","+t*-.161+" "+.161*e+","+t*-.161+"z")}},bindMouseEvent:function(){this.bindMousedownEvent(),"publish"===app.settings.get("editMode")&&(this.$el.on("mouseenter",function(){this.mouseEnter()}.bind(this)),this.$el.on("mouseleave",function(){this.mouseLeave()}.bind(this)))}});n.defaults(a.prototype.events,o.prototype.events),n.defaults(a.prototype.render,o.prototype.render),t.exports=a},{"../../../../helpers/manageMediaAssets.js":61,"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],89:[function(e,t,i){t.exports={array:{settings:{widgets:["arrayPopup","colorPopup"]},render:function(){var e=20,t=this.$el.find("canvas")[0].getContext("2d"),i=e*parseInt(this.model.get("inarow")),n=44*Math.ceil(parseInt(this.model.get("param1"))/parseInt(this.model.get("inarow"))),o=this.model.get("width")/i;if(this.model.get("height")!==n*o){var s=n*o;s>5e3&&(s=5e3),this.model.set({height:s})}var r=this.model.get("width")/i,a=this.model.get("height")/n;this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):t.clearRect(0,0,this.model.get("width"),this.model.get("height")),t.save();var l=Math.min(r,a);t.scale(l,l);for(var d=0,h=0;h<parseInt(this.model.get("param1"));h++)h%parseInt(this.model.get("inarow"))===0&&0!==h&&d++,"male"!==this.model.get("icon")&&("mix"!==this.model.get("icon")||h%2!==0&&0!==h)||(t.save(),t.translate(0+20*(h-d*parseInt(this.model.get("inarow"))),44*d),t.beginPath(),t.moveTo(0,0),t.lineTo(17,0),t.lineTo(17,44),t.lineTo(0,44),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(.795,.905),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),this.model.get("colors")&&(t.fillStyle=this.model.get("colors")[0]),t.beginPath(),t.moveTo(16.189,11.477),t.bezierCurveTo(16.189,9.353,14.498,7.631,12.411,7.631),t.bezierCurveTo(12.394,7.631,12.379,7.633,12.363,7.633),t.lineTo(12.363,7.631),t.lineTo(3.865,7.631),t.lineTo(3.865,7.635),t.bezierCurveTo(3.837,7.635,3.8070000000000004,7.631,3.7790000000000004,7.631),t.bezierCurveTo(1.692,7.631,0,9.353,0,11.477),t.bezierCurveTo(0,11.505,.002,11.533,.003,11.561),t.lineTo(0,11.561),t.lineTo(0,23.427),t.lineTo(.004,23.427),t.bezierCurveTo(.025,24.178,.651,24.782,1.425,24.782),t.bezierCurveTo(2.198,24.782,2.825,24.178,2.846,23.427),t.lineTo(2.85,23.427),t.lineTo(2.85,13.745),t.lineTo(3.866,13.745),t.lineTo(3.866,41.067),t.lineTo(3.871,41.067),t.bezierCurveTo(3.899,41.909,4.735,42.586,5.7669999999999995,42.586),t.bezierCurveTo(6.7989999999999995,42.586,7.635,41.909,7.662999999999999,41.067),t.lineTo(7.667999999999999,41.067),t.lineTo(7.667999999999999,24.181),t.lineTo(8.56,24.181),t.lineTo(8.56,41.068),t.lineTo(8.566,41.068),t.bezierCurveTo(8.593,41.91,9.430000000000001,42.586999999999996,10.462,42.586999999999996),t.bezierCurveTo(11.493999999999998,42.586999999999996,12.329,41.91,12.357,41.068),t.lineTo(12.363,41.068),t.lineTo(12.363,13.745),t.lineTo(13.34,13.745),t.lineTo(13.34,23.427),t.lineTo(13.344,23.427),t.bezierCurveTo(13.365,24.178,13.991,24.782,14.764999999999999,24.782),t.bezierCurveTo(15.538999999999998,24.782,16.165,24.178,16.186,23.427),t.lineTo(16.19,23.427),t.lineTo(16.19,11.562),t.lineTo(16.188000000000002,11.562),t.bezierCurveTo(16.187,11.533,16.189,11.505,16.189,11.477),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),this.model.get("colors")&&(t.fillStyle=this.model.get("colors")[0]),t.beginPath(),t.arc(8.094,3.492,3.492,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()),("female"===this.model.get("icon")||"mix"===this.model.get("icon")&&h%2!==0&&0!==h)&&(t.save(),t.translate(0+20*(h-d*parseInt(this.model.get("inarow"))),44*d),t.beginPath(),t.moveTo(0,0),t.lineTo(20,0),t.lineTo(20,42),t.lineTo(0,42),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(.383,.905),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.arc(9.793,3.44,3.44,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.moveTo(13.249,40.769),t.lineTo(13.249,28.795),t.lineTo(18.113,28.795),t.lineTo(13.553999999999998,14.313000000000002),t.lineTo(13.553999999999998,12.544000000000002),t.bezierCurveTo(13.578999999999999,12.548000000000002,13.722999999999999,12.604000000000003,14.034999999999998,13.332000000000003),t.bezierCurveTo(14.383,14.143000000000002,16.459,21.400000000000002,17.064999999999998,22.310000000000002),t.bezierCurveTo(17.671,23.218000000000004,18.633,23.080000000000002,19.269999999999996,22.520000000000003),t.bezierCurveTo(19.756999999999994,22.094000000000005,19.491999999999997,20.837000000000003,19.268999999999995,19.831000000000003),t.bezierCurveTo(19.006999999999994,18.906000000000002,16.761999999999993,10.922000000000002,16.459999999999994,10.358000000000002),t.bezierCurveTo(16.156999999999993,9.794000000000002,15.756999999999994,9.295000000000002,15.302999999999994,8.871000000000002),t.bezierCurveTo(14.848999999999993,8.447000000000003,13.554999999999994,7.820000000000002,13.554999999999994,7.820000000000002),t.lineTo(5.99,7.820000000000002),t.bezierCurveTo(5.99,7.820000000000002,4.695,8.447000000000003,4.241,8.871000000000002),t.bezierCurveTo(3.7869999999999995,9.294000000000002,3.3869999999999996,9.794000000000002,3.085,10.358000000000002),t.bezierCurveTo(2.782,10.922000000000002,.5369999999999999,18.906000000000002,.2759999999999998,19.831000000000003),t.bezierCurveTo(.051999999999999796,20.837000000000003,-.2130000000000002,22.094,.2729999999999998,22.520000000000003),t.bezierCurveTo(.9089999999999998,23.080000000000002,1.8719999999999999,23.218000000000004,2.4779999999999998,22.310000000000002),t.bezierCurveTo(3.0839999999999996,21.400000000000002,5.16,14.143000000000002,5.507,13.332000000000003),t.bezierCurveTo(5.819999999999999,12.604000000000003,5.9639999999999995,12.549000000000003,5.989,12.544000000000002),t.lineTo(5.989,14.313000000000002),t.lineTo(1.4290000000000003,28.795),t.lineTo(5.989,28.795),t.lineTo(5.989,40.769000000000005),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.moveTo(9.284,40.769),t.lineTo(9.284,28.795),t.lineTo(9.955,28.795),t.lineTo(9.955,40.769),t.fill(),t.stroke(),t.restore(),t.restore());t.restore()}}}},{}],90:[function(e,t,i){t.exports=function(){function e(e,t,i){e.save(),e.translate(8+40*(i-1),0),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(41.719906,0),e.lineTo(41.719906,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),e.translate(-9.6557007,-.34375),e.beginPath(),e.moveTo(210.6557,137.19182),e.lineTo(252.375606,137.19182),e.quadraticCurveTo(252.375606,137.19182,252.375606,137.19182),e.lineTo(252.375606,224.82183300000003),e.quadraticCurveTo(252.375606,224.82183300000003,252.375606,224.82183300000003),e.lineTo(210.6557,224.82183300000003),e.quadraticCurveTo(210.6557,224.82183300000003,210.6557,224.82183300000003),e.lineTo(210.6557,137.19182),e.quadraticCurveTo(210.6557,137.19182,210.6557,137.19182),e.closePath(),e.clip(),e.save();var n=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);n.addColorStop(.0165,"#808080"),n.addColorStop(.1209,"#D9D9D9"),n.addColorStop(.3407,"#FFFFFF"),n.addColorStop(.6538,"#FFFFFF"),n.addColorStop(.8791,"#E0E0E0"),n.addColorStop(1,"#828282"),e.fillStyle=n,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#c4c4c4",e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#ea1d25",e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}function t(e,t,i){e.save(),e.translate(8+40*(i-1),0),e.fillStyle="#ffffff",e.fillRect(40,5,5,70),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(47.266228,0),e.lineTo(47.266228,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),e.transform(-1,0,0,1,450.26623,-.34375),e.beginPath(),e.moveTo(193.70395,134.32486),e.lineTo(249.26622899999998,134.32486),e.quadraticCurveTo(249.26622899999998,134.32486,249.26622899999998,134.32486),e.lineTo(249.26622899999998,233.663475),e.quadraticCurveTo(249.26622899999998,233.663475,249.26622899999998,233.663475),e.lineTo(193.70395,233.663475),e.quadraticCurveTo(193.70395,233.663475,193.70395,233.663475),e.lineTo(193.70395,134.32486),e.quadraticCurveTo(193.70395,134.32486,193.70395,134.32486),e.closePath(),e.clip(),e.save();var n=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);n.addColorStop(.0165,"#808080"),n.addColorStop(.1209,"#D9D9D9"),n.addColorStop(.3407,"#FFFFFF"),n.addColorStop(.6538,"#FFFFFF"),n.addColorStop(.8791,"#E0E0E0"),n.addColorStop(1,"#828282"),e.fillStyle=n,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}var i=function(e){e.save(),e.translate(0,0),e.fillStyle="#ffffff",e.fillRect(2,2,5,72),e.beginPath(),e.moveTo(0,0),e.lineTo(8.1091423,0),e.lineTo(8.1091423,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(-1,-.34375),e.beginPath(),e.moveTo(200.81781,141.38202),e.lineTo(210.1091422,141.38202),e.quadraticCurveTo(210.1091422,141.38202,210.1091422,141.38202),e.lineTo(210.1091422,223.36436600000002),e.quadraticCurveTo(210.1091422,223.36436600000002,210.1091422,223.36436600000002),e.lineTo(200.81781,223.36436600000002),e.quadraticCurveTo(200.81781,223.36436600000002,200.81781,223.36436600000002),e.lineTo(200.81781,141.38202),e.quadraticCurveTo(200.81781,141.38202,200.81781,141.38202),e.closePath(),e.clip(),e.save();var t=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);t.addColorStop(.0165,"#808080"),t.addColorStop(.1209,"#D9D9D9"),t.addColorStop(.3407,"#FFFFFF"),t.addColorStop(.6538,"#FFFFFF"),t.addColorStop(.8791,"#E0E0E0"),t.addColorStop(1,"#828282"),e.fillStyle=t,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#c4c4c4",e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#ea1d25",e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore()},n=function(n,o){i.call(this,n);for(var s=this.model.get("iDigits"),r=1;s>r;r++)e(n,"",r);t.call(this,n,"",s)},o=function(e,t,i){var n=e/Math.pow(10,t-i-1);return n-=n%1,n%10},s=function(e,t,i,n){e.restore(),e.save(),this.renderVectorText(String(n),this.$el.find("canvas")[0],60,10+40*i,60,"helvetica","normal","normal")};return{digitaldial:{settings:{widgets:["numberPopup","digitaldialsPopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),e.clearRect(0,0,this.model.get("width"),this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save();var t=parseInt(this.model.get("iDigits"));e.scale(this.model.get("height")/80,this.model.get("height")/80),n.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black";for(var i=parseInt(this.model.get("numParam")),r=0;t>r;r++){var a=o(i,t,r);s.call(this,e,"",r,a)}e.restore(),e.restore()}}}}()},{}],91:[function(e,t,i){t.exports=function(){function e(e){e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(202,0),e.lineTo(202,202),e.lineTo(0,202),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(.666992,.583984),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),this.model.get("radialStroke")&&n.call(this,e),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save();var s=e.createLinearGradient(58.530273,71.368652,120.928581,115.060417);s.addColorStop(0,"#F0F0F0"),s.addColorStop(.259647,"#EBEBEB"),s.addColorStop(.555871,"#DDDDDD"),s.addColorStop(.868948,"#C6C6C6"),s.addColorStop(.978022,"#BDBDBD"),e.fillStyle=s,e.strokeStyle="#86888a",e.beginPath(),e.arc(100.3125,100.625,93.90625,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f3f4f4",e.globalAlpha=.9599999785423279,e.beginPath(),e.arc(100.5,100.5,92.573242,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),s=e.createLinearGradient(99.715332,16.381836,99.715332,52.254238),s.addColorStop(.368132,"#EDEDED"),s.addColorStop(1,"#F2F2F2"),e.fillStyle=s,e.strokeStyle="#a5a7aa",e.beginPath(),e.moveTo(11.210938,100.084473),e.bezierCurveTo(11.210938,51.205567,50.835938,11.580567000000002,99.715821,11.580567000000002),e.bezierCurveTo(148.593751,11.580567000000002,188.219727,51.205567,188.219727,100.084473),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.fillStyle="#fafafa",e.beginPath(),e.moveTo(113.88916,20.965332),e.bezierCurveTo(121.373047,21.064941,128.597168,22.227539,135.452148,24.274414),e.bezierCurveTo(124.24658199999999,17.98584,111.43994099999999,14.324219,97.790039,14.142578),e.bezierCurveTo(53.005858999999994,13.547363,16.204589999999996,50.47168,15.591308999999995,96.61816400000001),e.lineTo(32.054199999999994,96.83691400000001),e.bezierCurveTo(35.899414,53.827637,71.265137,20.398926,113.88916,20.965332),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#a1a3a6",e.beginPath(),e.moveTo(10.75,100.591309),e.lineTo(188.496094,100.591309),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#e0e1e2",e.lineWidth=1.5,e.beginPath(),e.moveTo(11.026367,101.422852),e.lineTo(188.774414,101.422852),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),s=e.createLinearGradient(99.853516,142.013672,99.853516,131.667114),s.addColorStop(0,"#D9D9D9"),s.addColorStop(.506525,"#E6E6E6"),s.addColorStop(1,"#EDEDED"),e.fillStyle=s,e.strokeStyle="#9b9da0",e.beginPath(),e.moveTo(147.985352,142.172852),e.bezierCurveTo(147.985352,145.304688,145.891602,147.841797,143.31152400000002,147.841797),e.lineTo(56.394531,147.841797),e.bezierCurveTo(53.813476,147.841797,51.721679,145.30468800000003,51.721679,142.172852),e.lineTo(51.721679,127.99804700000001),e.bezierCurveTo(51.721679,124.86621100000002,53.813476,122.32910200000002,56.394531,122.32910200000002),e.lineTo(143.311523,122.32910200000002),e.bezierCurveTo(145.89160099999998,122.32910200000002,147.98535099999998,124.86621100000002,147.98535099999998,127.99804700000001),e.lineTo(147.98535099999998,142.172852),
e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(147.140625,141.580078),e.bezierCurveTo(147.140625,144.47363299999998,145.084961,146.81640599999997,142.54882800000001,146.81640599999997),e.lineTo(57.15625,146.81640599999997),e.bezierCurveTo(54.620117,146.81640599999997,52.564453,144.47363299999998,52.564453,141.58007799999996),e.lineTo(52.564453,128.48535099999995),e.bezierCurveTo(52.564453,125.59081999999995,54.620117,123.24706999999995,57.15625,123.24706999999995),e.lineTo(142.54882800000001,123.24706999999995),e.bezierCurveTo(145.08496100000002,123.24706999999995,147.140625,125.59081999999995,147.140625,128.48535099999995),e.lineTo(147.140625,141.580078),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),o.call(this,e),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#fff200",e.lineWidth=8,e.beginPath(),e.moveTo(133.157227,59.757324),e.bezierCurveTo(124.25976600000001,52.414550999999996,112.85351600000001,48.003417999999996,100.416993,48.003417999999996),e.bezierCurveTo(88.180665,48.003417999999996,76.942384,52.272949,68.109376,59.402832),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#f7f7f7",e.beginPath(),e.moveTo(144.583008,129.894531),e.bezierCurveTo(144.583008,132.995117,143.463867,135.505859,142.083008,135.505859),e.lineTo(57.33300800000001,135.505859),e.bezierCurveTo(55.952149000000006,135.505859,54.83300800000001,132.995117,54.83300800000001,129.89453099999997),e.lineTo(54.83300800000001,129.89453099999997),e.bezierCurveTo(54.83300800000001,126.79492199999997,55.952149000000006,124.28222599999997,57.33300800000001,124.28222599999997),e.lineTo(142.083008,124.28222599999997),e.bezierCurveTo(143.463867,124.282227,144.583008,126.794922,144.583008,129.894531),e.lineTo(144.583008,129.894531),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t.call(this,e),i.call(this,e),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#939598",e.beginPath(),e.moveTo(181.583008,98.136719),e.lineTo(186.895508,98.134766),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#919396",e.beginPath(),e.moveTo(17.684082,99.428223),e.lineTo(12.684082,99.362793),e.bezierCurveTo(12.688965,99.019043,12.695312,98.67627,12.704102,98.333496),e.lineTo(17.702149,98.458496),e.bezierCurveTo(17.694336,98.781738,17.687988,99.10498,17.684082,99.428223),e.lineTo(17.684082,99.428223),e.closePath(),e.moveTo(180.561523,89.754395),e.bezierCurveTo(180.528808,89.432129,180.49414,89.11084,180.45800699999998,88.79052800000001),e.lineTo(185.42577999999997,88.225098),e.bezierCurveTo(185.46484299999997,88.565918,185.50097499999998,88.907715,185.53613199999998,89.249512),e.lineTo(180.561523,89.754395),e.lineTo(180.561523,89.754395),e.closePath(),e.moveTo(18.505859,88.791016),e.lineTo(13.555664,88.087891),e.bezierCurveTo(13.604004,87.746582,13.654297,87.40625,13.707519,87.065918),e.lineTo(18.647949,87.835449),e.bezierCurveTo(18.598633,88.15332,18.55127,88.472168,18.505859,88.791016),e.lineTo(18.505859,88.791016),e.closePath(),e.moveTo(178.796875,79.243652),e.bezierCurveTo(178.72168,78.927734,178.64502,78.612793,178.566895,78.298339),e.lineTo(183.418458,77.089355),e.bezierCurveTo(183.501466,77.421386,183.582032,77.753906,183.66113399999998,78.087402),e.lineTo(178.796875,79.243652),e.lineTo(178.796875,79.243652),e.closePath(),e.moveTo(20.695313,78.358398),e.lineTo(15.879883,77.01171799999999),e.bezierCurveTo(15.972168,76.68163999999999,16.065918,76.35253799999998,16.16211,76.02392499999999),e.lineTo(20.961914999999998,77.42333899999998),e.bezierCurveTo(20.871582,77.734375,20.782715,78.045898,20.695313,78.358398),e.lineTo(20.695313,78.358398),e.closePath(),e.moveTo(175.65332,69.063965),e.bezierCurveTo(175.537597,68.762695,175.419922,68.461914,175.300293,68.16211),e.lineTo(179.943848,66.308594),e.bezierCurveTo(180.071289,66.62793,180.196778,66.948242,180.320313,67.269043),e.lineTo(175.65332,69.063965),e.lineTo(175.65332,69.063965),e.closePath(),e.moveTo(24.229492,68.292969),e.lineTo(19.630859,66.329102),e.bezierCurveTo(19.766113,66.01318400000001,19.902343000000002,65.698243,20.041015,65.383301),e.lineTo(24.617187,67.397949),e.bezierCurveTo(24.486328,67.695313,24.356934,67.993652,24.229492,68.292969),e.lineTo(24.229492,68.292969),e.closePath(),e.moveTo(171.165039,59.408691),e.bezierCurveTo(171.009766,59.126464,170.852539,58.845214,170.693848,58.565428999999995),e.lineTo(175.043457,56.099608999999994),e.bezierCurveTo(175.21191399999998,56.39697199999999,175.378906,56.69579999999999,175.54394499999998,56.994628999999996),e.lineTo(171.165039,59.408691),e.lineTo(171.165039,59.408691),e.closePath(),e.moveTo(29.047363,58.770508),e.lineTo(24.742675000000002,56.227539),e.bezierCurveTo(24.917968000000002,55.930664,25.094726,55.635254,25.273437,55.34082),e.lineTo(29.545898,57.937988000000004),e.bezierCurveTo(29.37793,58.214355,29.211914,58.492188,29.047363,58.770508),e.lineTo(29.047363,58.770508),e.closePath(),e.moveTo(165.407715,50.463867),e.bezierCurveTo(165.215332,50.205566,165.02148499999998,49.948242,164.825684,49.692871000000004),e.lineTo(168.79638699999998,46.653808000000005),e.bezierCurveTo(169.00488299999998,46.926757,169.211426,47.200683000000005,169.41650399999997,47.475585),e.lineTo(165.407715,50.463867),e.lineTo(165.407715,50.463867),e.closePath(),e.moveTo(35.058594,49.957031),e.lineTo(31.121094,46.875976),e.bezierCurveTo(31.332031999999998,46.606445,31.544434,46.33789,31.757324,46.0708),e.lineTo(35.663574,49.19287),e.bezierCurveTo(35.460449,49.446289,35.258789,49.701172,35.058594,49.957031),e.lineTo(35.058594,49.957031),e.closePath(),e.moveTo(158.48291,42.384766),e.bezierCurveTo(158.255371,42.153809,158.026367,41.923339999999996,157.796387,41.694825),e.lineTo(161.32080100000002,38.14795),e.bezierCurveTo(161.563477,38.389161,161.804199,38.631348,162.04443400000002,38.875001000000005),e.lineTo(158.48291,42.384766),e.lineTo(158.48291,42.384766),e.closePath(),e.moveTo(42.158691,41.992188),e.lineTo(38.648925,38.430665),e.bezierCurveTo(38.892576999999996,38.190919,39.137206,37.952638,39.3833,37.714845),e.lineTo(42.855956,41.312501),e.bezierCurveTo(42.622559,41.537598,42.389648,41.76416,42.158691,41.992188),e.lineTo(42.158691,41.992188),e.closePath(),e.moveTo(150.518066,35.311523),e.bezierCurveTo(150.26123,35.112793,150.003906,34.916015,149.744628,34.720703),e.lineTo(152.756347,30.729492),e.bezierCurveTo(153.030761,30.936523,153.303222,31.145019,153.574706,31.354492),e.lineTo(150.518066,35.311523),e.lineTo(150.518066,35.311523),e.closePath(),e.moveTo(50.222168,35.010254),e.lineTo(47.199707000000004,31.026856000000002),e.bezierCurveTo(47.472656,30.819825,47.74707,30.614258000000003,48.021973,30.410645000000002),e.lineTo(50.997559,34.4292),e.bezierCurveTo(50.738281,34.621094,50.479492,34.814941,50.222168,35.010254),e.lineTo(50.222168,35.010254),e.closePath(),e.moveTo(141.668945,29.370605),e.bezierCurveTo(141.38720700000002,29.208007000000002,141.104004,29.046875,140.820312,28.887207),e.lineTo(143.27246,24.529785),e.bezierCurveTo(143.571776,24.698242,143.869628,24.868164,144.166991,25.039551),e.lineTo(141.668945,29.370605),e.lineTo(141.668945,29.370605),e.closePath(),e.moveTo(59.115234,29.128906),e.lineTo(56.632812,24.789062),e.bezierCurveTo(56.930175,24.618652,57.228027000000004,24.451171000000002,57.527343,24.284667000000002),e.lineTo(59.958007,28.653808),e.bezierCurveTo(59.67627,28.810547,59.39502,28.969238,59.115234,29.128906),e.lineTo(59.115234,29.128906),e.closePath(),e.moveTo(132.098633,24.65625),e.bezierCurveTo(131.799317,24.532715,131.499512,24.410645,131.198242,24.290527),e.lineTo(133.051758,19.646972),e.bezierCurveTo(133.369629,19.773925000000002,133.687012,19.902831000000003,134.003906,20.033202000000003),e.lineTo(132.098633,24.65625),e.lineTo(132.098633,24.65625),e.closePath(),e.moveTo(68.689941,24.452637),e.lineTo(66.79248,19.82666),e.bezierCurveTo(67.108398,19.697265,67.424316,19.569824,67.741699,19.443847),e.lineTo(69.587402,24.090331000000003),e.bezierCurveTo(69.287598,24.209473,68.988281,24.330078,68.689941,24.452637),e.lineTo(68.689941,24.452637),e.closePath(),e.moveTo(121.997559,21.236328),e.bezierCurveTo(121.68457099999999,21.152344,121.371094,21.070312,121.05712899999999,20.990234),e.lineTo(122.29345699999999,16.145507000000002),e.bezierCurveTo(122.62597699999999,16.230468000000002,122.95703099999999,16.317382000000002,123.28759799999999,16.405273),e.lineTo(121.997559,21.236328),e.lineTo(121.997559,21.236328),e.closePath(),e.moveTo(78.793945,21.061523),e.lineTo(77.517578,16.227539),e.bezierCurveTo(77.848633,16.140137,78.18066400000001,16.054687,78.513183,15.970703),e.lineTo(79.734863,20.819336),e.bezierCurveTo(79.419922,20.898438,79.106445,20.979004,78.793945,21.061523),e.lineTo(78.793945,21.061523),e.closePath(),e.moveTo(111.530762,19.135254),e.bezierCurveTo(111.210449,19.091797,110.88964899999999,19.050293,110.56836,19.010254),e.lineTo(111.183594,14.04834),e.bezierCurveTo(111.524414,14.090332,111.864746,14.134765999999999,112.20459,14.181153),e.lineTo(111.530762,19.135254),e.lineTo(111.530762,19.135254),e.closePath(),e.moveTo(89.260254,19.016602),e.lineTo(88.621582,14.057617999999998),e.bezierCurveTo(88.96191400000001,14.013672999999997,89.303223,13.972168999999997,89.644531,13.932129999999997),e.lineTo(90.222656,18.898926999999997),e.bezierCurveTo(89.900879,18.936035,89.580078,18.975586,89.260254,19.016602),e.lineTo(89.260254,19.016602),e.closePath(),e.moveTo(100.878418,18.351074),e.lineTo(99.903809,18.344238),e.lineTo(99.91113299999999,13.344238),e.bezierCurveTo(100.25292999999999,13.344726000000001,100.59472699999999,13.347168,100.937012,13.351074),e.lineTo(100.878418,18.351074),e.lineTo(100.878418,18.351074),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(161.520508,38.728516),e.lineTo(152.083008,47.999512),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(39.011719,38.17334),e.lineTo(47.645508,46.853516),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(100.416504,12.853516),e.lineTo(100.416504,24.853516),e.fill(),e.stroke(),e.restore(),e.restore()}var t=function(e,t){this.renderVectorText(String(parseInt(this.model.get("min"))),this.$el.find("canvas")[0],13,21,98,"helvetica","normal","normal"),this.renderVectorText(String(parseInt(this.model.get("max"))),this.$el.find("canvas")[0],13,158,98,"helvetica","normal","normal")},i=function(e,t){e.translate(100,100);var i=parseInt(this.model.get("max")),n=parseInt(this.model.get("min")),o=i-n,s=parseInt(this.model.get("animParam1")*o/100);s=Math.abs(s);var r=s/o;r=Math.min(r,1),e.rotate((r-.5)*Math.PI);var a=e.createLinearGradient(94.150879,68.208984,106.535645,68.208984);a.addColorStop(.032967,"#3B3B3B"),a.addColorStop(.261715,"#353535"),a.addColorStop(.563195,"#242424"),a.addColorStop(.90393,"#090909"),a.addColorStop(1,"#000000"),e.fillStyle=a,e.strokeStyle="#4d4d4f",e.beginPath(),e.moveTo(1.749512,-70.750488),e.lineTo(6.535645,2.183594),e.lineTo(3.191895,7.189453),e.lineTo(-2.233887,7.175781),e.lineTo(-5.849121,2.087891),e.lineTo(-.500488,-70.771484),e.fill(),e.stroke()},n=function(e){var t=e.createLinearGradient(65.13623,59.277344,117.948776,120.839973);t.addColorStop(0,"#D1D1D1"),t.addColorStop(1,"#A6A6A6"),e.fillStyle=t,e.strokeStyle="#a5a7aa",e.beginPath(),e.arc(100.5,100.5,100,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f3f4f4",e.globalAlpha=.8999999761581421,e.beginPath(),e.arc(100.5,100.5,95.239258,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke()},o=function(e){var t="#8dc63f",i="#ed1c24";this.model.get("flipZone")&&(t="#ed1c24",i="#8dc63f"),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=t,e.lineWidth=8,e.beginPath(),e.moveTo(68.109375,59.402832),e.bezierCurveTo(56.420898,68.838379,48.944336,83.28417999999999,48.944336,99.476562),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=i,e.lineWidth=8,e.beginPath(),e.moveTo(151.888672,99.476563),e.bezierCurveTo(151.888672,83.48584,144.59668000000002,69.19824299999999,133.157227,59.757325),e.fill(),e.stroke(),e.restore(),e.save()};return{gauge:{settings:{widgets:["valuePopup","minPopup","maxPopup","strokePopup","flipzonePopup","textPopup","textcolorPopup"]},render:function(){var t=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),t.save(),t.scale(this.model.get("width")/202,this.model.get("height")/202),t.save(),t.translate(0,0),e.call(this,t),t.fillStyle=this.model.get("textColor"),t.save();var i=parseInt(this.model.get("max")),n=parseInt(this.model.get("min"));parseInt(this.model.get("animParam1")*(i-n)/100)+n<=9?this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,93,143,"helvetica","normal","normal"):parseInt(this.model.get("animParam1")*(i-n)/100+n)<=99?this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,90,143,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,87,143,"helvetica","normal","normal"),this.model.get("text")&&this.model.get("showtext")&&(t.fillStyle=this.model.get("textColor"),t.textAlign="center",this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],15,100,173,"helvetica","normal","normal"),t.textAlign="start"),t.restore()}}}}()},{}],92:[function(e,t,i){t.exports=function(){function e(e,t,i,n,o){e.save(),e.translate(22*(i-1),0),e.beginPath(),e.moveTo(0,0),e.lineTo(23,0),e.lineTo(23,23),e.lineTo(0,23),e.closePath(),e.clip(),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.translate(-363.5,-520.875),e.save(),"green"===n&&(o?e.fillStyle="#8dc63f":e.fillStyle="#19793B"),"yellow"===n&&(o?e.fillStyle="#ffe040":e.fillStyle="#685700"),"red"===n&&(o?e.fillStyle="#e84125":e.fillStyle="#6A0000"),e.strokeStyle="#50483e",e.beginPath(),e.moveTo(364,521.36218),e.lineTo(386,521.36218),e.quadraticCurveTo(386,521.36218,386,521.36218),e.lineTo(386,543.36218),e.quadraticCurveTo(386,543.36218,386,543.36218),e.lineTo(364,543.36218),e.quadraticCurveTo(364,543.36218,364,543.36218),e.lineTo(364,521.36218),e.quadraticCurveTo(364,521.36218,364,521.36218),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#ffffff",o?e.globalAlpha=.3499999940395355:e.globalAlpha=.1,e.beginPath(),e.moveTo(364.48541,521.87286),e.lineTo(385.48541,521.87286),e.quadraticCurveTo(385.48541,521.87286,385.48541,521.87286),e.lineTo(385.48541,532.87286),e.quadraticCurveTo(385.48541,532.87286,385.48541,532.87286),e.lineTo(364.48541,532.87286),e.quadraticCurveTo(364.48541,532.87286,364.48541,532.87286),e.lineTo(364.48541,521.87286),e.quadraticCurveTo(364.48541,521.87286,364.48541,521.87286),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}function t(e,t,i,n,o){e.save(),e.translate(22*(i-1),0);var s;o&&(e.save(),s=e.createLinearGradient(71.311996,97.857399,77.288597,97.857399),s.addColorStop(0,"#FFFFFF"),s.addColorStop(1,"#FFFFFF"),e.fillStyle=s,e.strokeStyle="#ffffff",e.translate(298.7948,432.30681),e.globalAlpha=.1600000113248825,e.beginPath(),e.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,!0),e.closePath(),e.fill(),e.restore()),e.beginPath(),e.moveTo(0,0),e.lineTo(23,0),e.lineTo(23,23),e.lineTo(0,23),e.closePath(),e.clip(),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.translate(-363.5,-520.875),e.save(),e.translate(298.7948,432.30681),e.save(),s=e.createRadialGradient(74.098602,97.076202,0,74.098602,97.076202,10.8811),o?("green"===n&&(s.addColorStop(.2747,"#B0D235"),s.addColorStop(.7802,"#39B54A")),"yellow"===n&&(s.addColorStop(.2747,"#F8E527"),s.addColorStop(.7802,"#FEBE2D")),"red"===n&&(s.addColorStop(.2747,"#EA8235"),s.addColorStop(.7802,"#ED1C24")),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 1)"):("green"===n&&(s.addColorStop(.2747,"#1C8444"),s.addColorStop(.7802,"#04622F")),"yellow"===n&&(s.addColorStop(.2747,"#847A1B"),s.addColorStop(.7802,"#685925")),"red"===n&&(s.addColorStop(.2747,"#8B1C1F"),s.addColorStop(.7802,"#690B0C"))),e.fillStyle=s,e.beginPath(),e.arc(76.191399,100.2979,8.0010004,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",o?("green"===n&&(e.strokeStyle="#6c8259"),"yellow"===n&&(e.strokeStyle="#93681f"),"red"===n&&(e.strokeStyle="#884d1a")):("green"===n&&(e.strokeStyle="#6c8259"),"yellow"===n&&(e.strokeStyle="#93681f"),"red"===n&&(e.strokeStyle="#884d1a")),e.beginPath(),e.moveTo(84.1919,100.2959),e.bezierCurveTo(84.1919,104.7168,80.6108,108.2988,76.1914,108.2988),e.bezierCurveTo(71.77250000000001,108.2988,68.1914,104.7168,68.1914,100.2959),e.bezierCurveTo(68.1914,95.8789,71.77250000000001,92.29690000000001,76.1914,92.29690000000001),e.bezierCurveTo(80.6108,92.29690000000001,84.1919,95.8789,84.1919,100.2959),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),o&&(s=e.createLinearGradient(71.311996,97.857399,77.288597,97.857399),s.addColorStop(0,"#FFFFFF"),s.addColorStop(1,"#FFFFFF"),e.fillStyle=s,e.strokeStyle="#ffffff",e.translate(298.7948,432.30681),e.globalAlpha=.1600000113248825,e.beginPath(),e.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,!0),e.closePath(),e.fill()),e.restore()}var i,n=function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()===this.model.get("width")&&this.$el.find("canvas").height()===this.model.get("height")||(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))),e.clearRect(0,0,this.model.get("width"),this.model.get("height"));var t=0;this.model.get("showtext")&&(t=100);var n=Math.min(this.model.get("width")/(221+t),this.model.get("height")/23);e.save(),e.scale(n,n),i.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black",e.restore()};return i=function(i){var n=parseInt(this.model.get("iDigits")),o=parseInt(this.model.get("animParam1")),s=parseInt(this.model.get("max")),r=1,a=n/(100/o);for(r=1;n>=r;r++){var l=!0;r>a&&(l=!1);var d;d=this.model.get("flipZone")?r<=Math.floor(.333*n+1)?"red":r<=Math.floor(.666*n+1)?"yellow":"green":r<=Math.floor(.333*n+1)?"green":r<=Math.floor(.666*n+1)?"yellow":"red",this.model.get("radialStroke")?t(i,"",r,d,l):e(i,"",r,d,l)}""!==this.model.get("text")&&this.model.get("showtext")&&(i.fillStyle=this.model.get("textColor"),this.model.get("radialStroke")?this.renderVectorText(String(parseInt(this.model.get("animParam1")*s/100)+" "+this.model.get("text")),this.$el.find("canvas")[0],16,22*this.model.get("iDigits")+5,18,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")*s/100)+" "+this.model.get("text")),this.$el.find("canvas")[0],18,22*this.model.get("iDigits")+10,18,"helvetica","normal","normal"))},{led:{settings:{widgets:["valuePopup","maxPopup","strokePopup","textPopup","textcolorPopup","strokePopup","flipzonePopup"]},render:function(){n.call(this)}}}}()},{}],93:[function(e,t,i){t.exports=function(){function e(e,t,i){e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(263.79199,0),e.lineTo(263.79199,24),e.lineTo(0,24),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(0,0),e.lineTo(24,0),e.lineTo(24,24),e.lineTo(0,24),e.lineTo(0,0),e.closePath(),e.fill(),e.restore(),e.save(),e.translate(0,0),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.lineTo(i,24),e.lineTo(29,24),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.28999999165534973,e.beginPath(),e.moveTo(0,0),e.lineTo(24,0),e.lineTo(24,12),e.lineTo(0,12),e.lineTo(0,0),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.28999999165534973,e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.lineTo(i,12),e.lineTo(29,12),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore()}function t(e,t,i){e.save(),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.translate(0,0),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.arc(i,12,12,-.5*Math.PI,.5*Math.PI),e.lineTo(29,24),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.translate(0,0),e.beginPath(),e.arc(12,12,12,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.3,e.beginPath(),e.arc(12,12,12,0,Math.PI,!0),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.3,e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.arc(i,12,12,-.5*Math.PI,0),e.lineTo(29,12),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.save(),e.restore(),e.restore()}return{linearbar:{settings:{widgets:["valuePopup","maxPopup","textPopup","textcolorPopup","roundnessPopup"]},render:function(){var i=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()===this.model.get("width")&&this.$el.find("canvas").height()===this.model.get("height")||(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,this.model.get("width"),this.model.get("height")),i.save(),i.scale(this.model.get("width")/200,this.model.get("height")/24),i.save(),i.translate(0,0);var n,o,s,r;o=this.model.get("max"),s=171,n=this.model.get("animParam1"),r=s*n/100+29,this.model.get("roundness")?t.call(this,i,"",r):e.call(this,i,"",r),i.fillStyle=this.model.get("textColor"),i.save(),parseInt(this.model.get("animParam1")*o/100)<=9?this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,8.5,17,"helvetica","normal","normal"):parseInt(this.model.get("animParam1")*o/100)<=99?this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,4.5,17,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,.5,17,"helvetica","normal","normal"),this.model.get("text")&&this.model.get("showtext")&&(i.fillStyle=this.model.get("textColor"),this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],13,33,17,"helvetica","normal","normal")),i.restore(),i.restore()}}}}()},{}],94:[function(e,t,i){t.exports={ometer:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/200),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(-3.167,-1.167),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save();var t=e.createLinearGradient(36.9351,167.4004,169.4001,34.9354);t.addColorStop(0,"#FFFFFF"),t.addColorStop(.6252,"#FBFBFB"),t.addColorStop(1,"#F5F5F5"),e.fillStyle=t,e.beginPath(),e.arc(103.167,101.167,93.667,0,6.283185307179586,!0),e.closePath(),e.shadowColor="#CCC",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=10,e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#dedede",e.beginPath(),e.arc(103.167,101.167,93.667,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t=e.createLinearGradient(102.8511,171.1006,102.8511,31.2334),t.addColorStop(0,"#F7F7F7"),t.addColorStop(.4251,"#F2F2F2"),t.addColorStop(.9845,"#E1E1E1"),t.addColorStop(1,"#E0E0E0"),e.fillStyle=t,e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#dadbdc",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.save(),e.restore(),e.save(),e.globalAlpha=.11999999731779099,e.save(),e.fillStyle="#030202",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#030202",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=6,e.beginPath();var i=2*Math.PI/100*this.model.get("animParam1")-.5*Math.PI;this.model.get("animParam1")>=100?e.arc(102.834,102.167,82.333,0,2*Math.PI,!1):this.model.get("animParam1")>0&&e.arc(102.834,102.167,82.333,1.5*Math.PI,i,!1),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t=e.createLinearGradient(109.833,31.2329,109.833,183.1636),t.addColorStop(0,this.model.get("colors")[0]),t.addColorStop(.2074,this.model.get("colors")[0]),t.addColorStop(.4547,this.model.get("colors")[0]),t.addColorStop(.7224,this.model.get("colors")[0]),t.addColorStop(1,this.model.get("colors")[0]),e.fillStyle=t;var n=parseFloat(this.model.get("animParam1"));e.beginPath(),this.model.get("animParam1")>0&&e.arc(102.851,101.167,69.934,.5*Math.PI+n/32.7,.5*Math.PI-n/32.7,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var o=0;this.model.get("text")&&this.model.get("showtext")&&(o=10,this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],12,102-3.2*String(this.model.get("text")).length,153-o,"arial","normal","normal")),this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,78,133-o,"impact","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,42,133-o,"impact","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,60,133-o,"impact","normal","normal"),e.scale(1,1),e.closePath(),e.restore(),e.restore()}}}},{}],95:[function(e,t,i){var n=e("./../../../../../helpers/colorLuminance.js");t.exports=function(){var e=function(e,t,i){e.fillStyle=n(t,-.3),e.beginPath(),e.moveTo(65.246329,92.314571),e.arc(65.246329,92.314571,62.4130854,1.5*Math.PI-.01*i*2*Math.PI,-.5*Math.PI,!1),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save()},t=function(e){e.fillStyle="rgba(175,177,180,0.75)",e.strokeStyle="rgba(125,126,129,0.75)",e.lineWidth=1.1666432619094849,e.beginPath(),e.moveTo(134.46562,92.313394),e.bezierCurveTo(134.46562,130.54431,103.4749,161.53268,65.246329,161.53268),e.bezierCurveTo(27.017761,161.53268,-3.9717873000000026,130.54313,-3.9717873000000026,92.313394),e.bezierCurveTo(-3.9717873000000026,54.088331000000004,27.017760999999997,23.097616000000002,65.246329,23.097616000000002),e.bezierCurveTo(103.4749,23.097616000000002,134.46562,54.087164,134.46562,92.313394),e.closePath(),e.fill(),e.stroke()},i=function(e){e.fillStyle="rgba(244, 244, 244, 0.75)",e.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),e.beginPath(),e.moveTo(65.5,0),e.lineTo(48.012,21.527),e.lineTo(0,21.527),e.lineTo(7.175,10.935),e.lineTo(0,0),e.lineTo(65.5,0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(229, 228, 228, 0.75)",e.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),e.beginPath(),e.moveTo(65.5,0),e.lineTo(65.5,21.527),e.lineTo(47.858,21.527),e.fill(),e.stroke(),e.restore(),e.save()},o=function(o){o.save(),o.translate(0,0),o.beginPath(),o.moveTo(0,0),o.lineTo(145.06351,0),o.lineTo(145.06351,200.0145),o.lineTo(0,200.0145),o.closePath(),o.clip(),o.translate(0,0),o.translate(0,0),o.scale(1,1),o.translate(10.001,37.884),o.strokeStyle="rgba(0,0,0,0)",o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,o.save(),o.restore(),o.save(),o.restore(),o.save(),this.model.get("radialStroke")&&t.call(this,o),o.restore(),o.save();var s=this.model.get("colors")[0],r=n(s,.07*parseFloat(this.model.get("animParam2")));o.fillStyle=r,o.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),o.beginPath(),o.arc(64.499001,111.601,53.498001,0,6.283185307179586,!0),o.closePath(),o.fill(),o.stroke(),o.restore(),o.save(),e.call(this,o,r,parseInt(this.model.get("animParam1"))),o.fillStyle="#1a1a1a",o.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),o.beginPath(),o.arc(64.5,111.603,2.872,0,6.283185307179586,!0),o.closePath(),o.fill(),o.stroke(),o.restore(),o.save(),i(o),o.fillStyle="#1a1a1a",o.beginPath(),o.moveTo(64.080856,-10.332556),o.lineTo(66.4141425,-10.332556),o.quadraticCurveTo(66.4141425,-10.332556,66.4141425,-10.332556),o.lineTo(66.4141425,89.51343700000001),o.quadraticCurveTo(66.4141425,89.51343700000001,66.4141425,89.51343700000001),o.lineTo(64.080856,89.51343700000001),o.quadraticCurveTo(64.080856,89.51343700000001,64.080856,89.51343700000001),o.lineTo(64.080856,-10.332556),o.quadraticCurveTo(64.080856,-10.332556,64.080856,-10.332556),o.closePath(),o.fill(),o.stroke(),o.restore(),o.restore()};return{pieceofapie:{settings:{widgets:["valuePopup","strokePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/145,this.model.get("height")/201),e.save(),o.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black",this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],17,20,18,"helvetica","normal","normal"),e.restore()}}}}()},{"./../../../../../helpers/colorLuminance.js":55}],96:[function(e,t,i){t.exports={radial:{settings:{widgets:["valuePopup","textcolorPopup","strokePopup","showvaluePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/200),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(6.5,6.5),e.strokeStyle="rgba(0,0,0,0)",
e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],this.model.get("radialStroke")?e.lineWidth=20:e.lineWidth=7,e.beginPath(),e.arc(93.5,93.5,90,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("textColor"),this.model.get("radialStroke")?e.lineWidth=20:e.lineWidth=7,e.beginPath();var t=2*Math.PI/100*this.model.get("animParam1")-.5*Math.PI;this.model.get("animParam1")>=100?e.arc(93.5,93.5,90,0,2*Math.PI,!1):this.model.get("animParam1")>0&&(e.strokeStyle="#FFF",e.arc(93.5,93.5,90,1.5*Math.PI-.01*Math.PI,t+.01*Math.PI,!1),e.stroke(),e.beginPath(),e.strokeStyle=this.model.get("textColor"),e.arc(93.5,93.5,90,1.5*Math.PI,t,!1)),e.fill(),e.stroke(),this.model.get("radialStroke")&&(e.beginPath(),e.strokeStyle="#FFF",e.lineWidth=3,e.arc(93.5,93.5,90,0,6.283185307179586,!0),e.stroke()),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var i=0;this.model.get("iSettings1")&&(this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,58,133-i-7,"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,19,133-i-7,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,40,133-i-7,"helvetica","normal","normal")),e.restore()}}}},{}],97:[function(e,t,i){var n=e("./../../../../../helpers/colorLuminance.js");t.exports={ribbon:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/15),e.save(),e.translate(0,-20),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,50),e.lineTo(0,50),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,19.966),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle=n(this.model.get("colors")[0],-.3),e.beginPath(),e.moveTo(0,3.734),e.lineTo(68.375,3.734),e.quadraticCurveTo(68.375,3.734,68.375,3.734),e.lineTo(68.375,15.044),e.quadraticCurveTo(68.375,15.044,68.375,15.044),e.lineTo(0,15.044),e.quadraticCurveTo(0,15.044,0,15.044),e.lineTo(0,3.734),e.quadraticCurveTo(0,3.734,0,3.734),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.rect(62.265,.534,parseInt(this.model.get("animParam1")),12),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=n(this.model.get("colors")[0],-.6),e.beginPath(),e.moveTo(62.255,12.834),e.lineTo(68.255,12.834),e.lineTo(68.255,15.039),e.fill(),e.stroke(),e.closePath(),e.restore(),e.restore(),e.translate(0,-20),e.fillStyle=this.model.get("textColor");var t=0;this.model.get("text")&&this.model.get("showtext")&&this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],10,2,33-t,"arial","normal","normal"),e.fillStyle="#000",this.model.get("tempCanvas")&&(this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,58+parseInt(this.model.get("animParam1"))+7+5,31,"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,19+parseInt(this.model.get("animParam1"))+40+7,31,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,40+parseInt(this.model.get("animParam1"))+20+7,31,"helvetica","normal","normal")),e.restore()}}}},{"./../../../../../helpers/colorLuminance.js":55}],98:[function(e,t,i){t.exports={semicircles:{settings:{widgets:["valuePopup","circlesPopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/50),e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,50),e.lineTo(0,50),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,3.196),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath();var t=Math.abs(this.model.get("animParam1")/2);e.moveTo(t,47),e.arc(t,47,t,Math.PI,0,!1),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[1];var i,n;this.model.get("circle2")&&(e.beginPath(),i=Math.abs(this.model.get("animParam2")/2),e.moveTo(2*t+i,47),e.moveTo(i+2*t,47),e.arc(i+2*t,47,i,Math.PI,0,!1),e.fill(),e.stroke(),e.closePath()),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[2],this.model.get("circle3")&&(e.beginPath(),e.moveTo(158,47),n=Math.abs(this.model.get("animParam3")/2),e.moveTo(n+2*t+2*i,47),e.arc(n+2*t+2*i,47,n,Math.PI,0,!1),e.fill(),e.closePath()),e.stroke(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor"),this.model.get("text")&&(e.fillStyle="#FFF"),e.fillStyle=this.model.get("textColor"),e.fillStyle="#FFF",this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],parseInt(t/2),t,53-t/2,"helvetica","normal","normal",0,0,0,1),this.model.get("circle2")&&this.renderVectorText(String(parseInt(this.model.get("animParam2")))+"%",this.$el.find("canvas")[0],parseInt(i/2),i+2*t,53-i/2,"helvetica","normal","normal",0,0,0,1),this.model.get("circle3")&&this.renderVectorText(String(parseInt(this.model.get("animParam3")))+"%",this.$el.find("canvas")[0],parseInt(n/2),n+2*i+2*t,53-n/2,"helvetica","normal","normal",0,0,0,1)}}}},{}],99:[function(e,t,i){t.exports={verticalmeter:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/86,this.model.get("height")/220),e.save(),e.translate(12,5),e.beginPath(),e.moveTo(0,0),e.lineTo(50,0),e.lineTo(50,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(2.417,7.75),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle="#c7c8ca",e.beginPath(),e.moveTo(22.583,.25),e.lineTo(26.583,.25),e.quadraticCurveTo(26.583,.25,26.583,.25),e.lineTo(26.583,180.25),e.quadraticCurveTo(26.583,180.25,26.583,180.25),e.lineTo(22.583,180.25),e.quadraticCurveTo(22.583,180.25,22.583,180.25),e.lineTo(22.583,.25),e.quadraticCurveTo(22.583,.25,22.583,.25),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,.25),e.lineTo(31.583,.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,45.25),e.lineTo(31.583,45.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,89.25),e.lineTo(31.583,89.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,135.25),e.lineTo(31.583,135.25),e.fill(),e.stroke(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.moveTo(24.583,180.25),e.lineTo(24.583,180.25-.9*parseInt(2*this.model.get("animParam1"))),e.stroke(),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,9.25),e.lineTo(29.583,9.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,18.25),e.lineTo(29.75,18.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,27.25),e.lineTo(29.75,27.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,36.25),e.lineTo(29.75,36.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,52.25),e.lineTo(29.583,52.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,61.25),e.lineTo(29.75,61.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,70.25),e.lineTo(29.75,70.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,79.25),e.lineTo(29.75,79.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,99.25),e.lineTo(29.583,99.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,108.25),e.lineTo(29.75,108.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,117.25),e.lineTo(29.75,117.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,126.25),e.lineTo(29.75,126.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.458,143.688),e.lineTo(29.458,143.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,152.688),e.lineTo(29.625,152.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,161.688),e.lineTo(29.625,161.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,170.688),e.lineTo(29.625,170.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.208,180.25),e.lineTo(31.208,180.25),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.save(),e.translate(0,72-.9*parseInt(2*this.model.get("animParam1"))),e.moveTo(6.683,101.427),e.bezierCurveTo(2.992,101.44,0,104.419,0,108.11),e.bezierCurveTo(0,111.801,2.992,114.795,6.683,114.793),e.bezierCurveTo(9.041,114.792,18.77,108.11000000000001,18.77,108.11000000000001),e.bezierCurveTo(18.77,108.11000000000001,9.291,101.417,6.683,101.427),e.restore(),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var t=0;this.model.get("text")&&this.model.get("showtext")&&this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],12,40-3.5*String(this.model.get("text")).length,208-t,"arial","normal","normal"),this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,19,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,15,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,17,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"),e.restore()}}}},{}],100:[function(e,t,i){var n=e("underscore"),o={update:function(e,t){this.renders[this.model.get("render")].render.call(this),this.model.subMenu.settings=n.extend({},this.renders[this.model.get("render")].settings.widgets),this._super(e,t)},renders:{}};n.extend(o.renders,e("./renders/ometer.js")),n.extend(o.renders,e("./renders/radial.js")),n.extend(o.renders,e("./renders/led.js")),n.extend(o.renders,e("./renders/ribbon.js")),n.extend(o.renders,e("./renders/semicircles.js")),n.extend(o.renders,e("./renders/verticalmeter.js")),n.extend(o.renders,e("./renders/linearbar.js")),n.extend(o.renders,e("./renders/pieceofapie.js")),n.extend(o.renders,e("./renders/gauge.js")),n.extend(o.renders,e("./renders/digitaldial.js")),n.extend(o.renders,e("./renders/array.js")),t.exports=o},{"./renders/array.js":89,"./renders/digitaldial.js":90,"./renders/gauge.js":91,"./renders/led.js":92,"./renders/linearbar.js":93,"./renders/ometer.js":94,"./renders/pieceofapie.js":95,"./renders/radial.js":96,"./renders/ribbon.js":97,"./renders/semicircles.js":98,"./renders/verticalmeter.js":99,underscore:52}],101:[function(e,t,i){t.exports={renderVectorText:function(e,t,i,n,o,s,r,a,l,d,h,c){var u=t.getContext("2d");c&&(u.textAlign="center",u.textBaseline="middle"),u.font=i+"px "+s,u.fillText(e,n,o)}}},{}],102:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){if(this._super(),"array"===this.get("render")||"gauge"===this.get("render")||"led"===this.get("render")){if(this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),1===this.get("colors").length){var e=this.get("colors")[0];this.set("colors",[e,"#d65642"])}}else this.propertyMenuItems=this.propertyMenuItems.concat(".btn-color",".btn-settings");this.nonTweenable=this.nonTweenable.concat(["circle2","circle3","radialStroke","roundness","showtext","iSettings1","flipZone"]),this.subMenu=n.extend({},o.prototype.subMenu),this.activeMenuItem=null},validators:{param1:{type:"number",params:{min:1,max:250}},inarow:{type:"number",params:{min:1,max:100}},animParam1:{type:"number",params:{min:0,max:100}},numParam:{type:"number",params:{min:0}},animParam2:{type:"number",params:{min:0,max:100}},param2:{type:"number",params:{min:0,max:100}},animParam3:{type:"number",params:{min:0,max:100}},param3:{type:"number",params:{min:0,max:100}},arrParam:{type:"number",params:{min:1,max:250}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"infogrWidget",colors:["#00b0d8"],textColor:"#000",param1:45,animParam1:45,render:""}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],103:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("./updateMixin.js"),r=e("./vectorTextMixin.js");t.exports=o.extend(n.extend({},s,r,{template:"#infogr-widget",initialize:function(){this._super(),this.setParams()},render:function(){this._super(),this.update()},setParams:function(){!n.isUndefined(this.model.get("render"))&&"array"===this.model.get("render")&&n.isUndefined(this.model.get("arrParam"))?this.model.set("arrParam",this.model.get("param1")):"array"===this.model.get("render")||"led"===this.model.get("render")||n.isUndefined(this.model.get("animParam1"))||this.model.set("param1",this.model.get("animParam1")),!n.isUndefined(this.model.get("param2"))&&n.isUndefined(this.model.get("animParam2"))&&this.model.set("animParam2",this.model.get("param2")),!n.isUndefined(this.model.get("param3"))&&n.isUndefined(this.model.get("animParam3"))&&this.model.set("animParam3",this.model.get("param3"))}}))},{"../../objectView.js":76,"./updateMixin.js":100,"./vectorTextMixin.js":101,underscore:52}],104:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.activeMenuItem=null,this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.nonTweenable=this.nonTweenable.concat(["scope","transfer","name","data","dataColumnsRender","states","latlng","defaultFill","borderColor","legend","showBorder","popupOnHover","popupTheme","highlightOnHover","hideStates"]),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"]},validateRow:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]=e[t].replace(/[^\d.-]/g,""));return e},validators:{width:{type:"number",params:{min:1,max:1e5}},height:{type:"number",params:{min:1,max:1e5}}},defaults:{type:"map",name:"World",height:460,width:460,data:{},dataColumnsRender:[],states:[],scope:"world",latlng:[0,0],defaultFill:"#93c317",borderColor:"#fff",legend:{activeData:!1,display:!1,data:"",title:"",textColor:"#000000",colors:[],labels:[]},showBorder:!0,popupOnHover:!0,popupTheme:"light",highlightOnHover:!0,hideStates:[],proportionLock:!0}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],105:[function(e,t,i){var n=e("underscore"),o=e("datamaps"),s=e("d3"),r=e("../../objectView.js");t.exports=r.extend({template:"#map",map:"",initialize:function(){this._super(),n.bindAll(this,"drawMap","transitionToSlide","setMapPosition","refreshMapOnSlide"),this.isIE=app.settings.isIE(),app.bind("slide:transitionTo",this.transitionToSlide),app.bind("slide:new-selected",this.refreshMapOnSlide)},refresh:function(){this.model.changed=n.clone(this.model.attributes),this.update(this.model)},update:function(e,t){var i=this;if("object"==typeof this.map){if((n.has(this.model.changed,"width")||n.has(this.model.changed,"height"))&&this.setMapPosition(e),n.has(this.model.changed,"data")&&void 0!==this.model.get("data")){var o=this.model.get("data");this.map.updateChoropleth(o)}n.has(this.model.changed,"hideStates")&&(s.select("#"+i.model.get("id")+" .map-container svg").selectAll("path").attr("visibility","visible"),n.each(this.model.get("hideStates"),function(e){s.select("#"+i.model.get("id")+" .map-container svg").select("."+e).attr("visibility","hidden")})),n.has(this.model.changed,"legend")&&void 0!==this.model.get("legend")&&(this.map.svg.remove(),this.drawMap(),delete this.model.changed.legend),n.has(this.model.changed,"defaultFill")&&(this.$el.find("path").css("fill",this.model.get("defaultFill")),delete this.model.changed.defaultFill),n.has(this.model.changed,"borderColor")&&(this.$el.find("path").css("stroke",this.model.get("borderColor")),delete this.model.changed.borderColor),n.has(this.model.changed,"showBorder")&&(this.$el.find("path").css("stroke-width",this.model.get("showBorder")===!0?1:0),delete this.model.changed.showBorder),(n.has(this.model.changed,"popupOnHover")||n.has(this.model.changed,"popupTheme"))&&(this.map.svg.remove(),this.drawMap())}this._super(e,t)},render:function(){this._super()},afterRender:function(){if(this.map){var e=this.model.get("data");this.map.updateChoropleth(e)}else this.drawMap();this._super()},drawMap:function(){var e=this;e.$el.addClass("loading"),e.map&&(e.map.svg.remove(),e.$el.find(".map-container .datamaps-legend").remove()),this.model.get("scope")===this.model.previous("scope")&&this.result?this.newMap():app.settings.get("Html5Download")?(e.result=JSON.parse(this.model.get("mapJson")),e.newMap()):setTimeout(function(){$.ajax({url:"/utils/maps/"+e.model.get("scope")+"/topo",dataType:"json",success:function(t){e.result=t,e.newMap()}})},0)},newMap:function(){var e,t=Object.keys(this.result.objects)[0];app.settings.get("Html5Download")&&(e=this.result),this.map=new o({element:this.$el.find(".map-container")[0],scope:t,setProjection:function(e,t){var i;i="usa"===t.scope?s.geo.albersUsa():s.geo.mercator().center([this.model.get("latlng")[1],this.model.get("latlng")[0]]).scale((this.model.get("width")+1)/2/Math.PI);var n=s.geo.path().projection(i);return{path:n,projection:i}}.bind(this),responsive:!0,geographyConfig:{mapJson:e,dataUrl:"/utils/maps/"+this.model.get("scope")+"/topo",borderWidth:this.model.get("showBorder")===!0?1:0,borderOpacity:1,borderColor:this.model.get("borderColor"),popupTemplate:function(e,t){app.settings.isIE()?$("#"+this.model.get("id")+" ."+e.id.replace(".","-")).css({"stroke-width":this.model.get("showBorder")===!0?1.1/this.model.get("transfer")[0]:0,fill:this.addOpacityToColor(t.fillColor,70)}):$("#"+this.model.get("id")+" ."+e.id.replace(".","-")).css("fill",this.addOpacityToColor(t.fillColor,70));var i="";return"object"==typeof t&&n.each(Object.keys(t),function(e){return"fillColor"===e||e.endsWith("-title")?{}:void(i+="<p>"+t[e+"-title"]+": "+t[e]+"</p>")}),'<div class="hoverinfo '+("light"===this.model.get("popupTheme")?"lightCaption":"darkCaption")+'"><p><b>'+e.properties.name+"</b></p>"+(""!==i?i:"")+"</div>"}.bind(this),popupOnHover:this.model.get("popupOnHover"),highlightOnHover:this.model.get("highlightOnHover"),highlightFillColor:this.addOpacityToColor(this.model.get("defaultFill"),70),highlightBorderColor:this.model.get("borderColor"),highlightBorderWidth:this.model.get("showBorder")===!0?1.1:0,highlightBorderOpacity:1,hideAntarctica:!0,hideHawaiiAndAlaska:!1},fills:{defaultFill:this.model.get("defaultFill"),q0:this.model.get("legend").colors[0]||"#314152",q1:this.model.get("legend").colors[1]||"#4a6244",q2:this.model.get("legend").colors[2]||"#628235",q3:this.model.get("legend").colors[3]||"#7ba326",q4:this.model.get("legend").colors[4]||"#93c317"},data:this.model.get("data"),done:function(){this.setMapPosition(this.model),n.each(s.select("#"+this.model.get("id")+" .map-container svg").selectAll("path")[0],function(e){var t=e.attributes["class"].value;e.setAttribute("class",t.replace(".","-"))}),this.map.updateChoropleth(this.model.get("data")),s.select("#"+this.model.get("id")+" .map-container svg").selectAll("path").attr("visibility","visible"),n.each(this.model.get("hideStates"),function(e){s.select("#"+this.model.get("id")+" .map-container svg").select("."+e).attr("visibility","hidden")}.bind(this)),this.setLegend(),app.settings.isIE()&&s.select("#"+this.model.get("id")+" .map-container svg").selectAll("path").style("stroke-width",this.model.get("showBorder")===!0?1.1/this.model.get("transfer")[0]:0),this.$el.removeClass("loading");var e=this.$el.parents("section.stage").attr("id");app.trigger(e+":change",this.model)}.bind(this)})},refreshMapOnSlide:function(e){var t=e.get("objects");if(t.length>0){var i=n.filter(t,function(e){return e.id===this.model.get("id")}.bind(this));i.length>0&&setTimeout(function(){this.setMapPosition(this.model)}.bind(this),0)}},setMapPosition:function(e){e||(e=this.model);var t=this;if(s.select("#"+e.get("id")+" .map-container g").node()){var i=e.get("width"),n=e.get("height");if(e.get("legend")&&e.get("legend").display){var o=1;i>=n?(o=(i-145)/i,i-=145,n*=o):(o=(n-130)/n,n-=130,i*=o)}var r,a=s.select("#"+e.get("id")+" .map-container g").node().getBBox(),l=1,d=-a.y,h=-a.x,c=a.width,u=a.height;c>0&&u>0?(c>=u?(l=i/c,u*=l,d=-a.y+(n-u)/l/2):(l=n/u,c*=l,h=-a.x+(i-c)/l/2),"right"===e.get("legend").display&&(d+=130/l/2),"left"===e.get("legend").display&&(h+=145/l,d+=130/l/2),"top"===e.get("legend").display&&(h+=145/l/2,d+=130/l),"bottom"===e.get("legend").display&&(h+=145/l/2),e.set("transfer",[l,h+","+d],{silent:!0}),r=h+","+d):e.get("transfer")&&(l=e.get("transfer")[0],r=e.get("transfer")[1]),l&&r&&(s.select("#"+this.model.get("id")+" .map-container g").attr({transform:"scale("+l+")translate("+r+")"}),t.$el.find(".map-container").css({"padding-bottom":0}))}},setLegend:function(){if(this.model.get("legend").activeData)if(this.model.get("legend").display){var e=n.isUndefined(this.model.get("legend").textColor)?"#000000":this.model.get("legend").textColor;this.map.legend({legendTitle:this.model.get("legend").title,labels:{q0:this.model.get("legend").labels[0],q1:this.model.get("legend").labels[1],q2:this.model.get("legend").labels[2],q3:this.model.get("legend").labels[3],q4:this.model.get("legend").labels[4]},textColor:e}),this.$el.find(".map-container .datamaps-legend").attr("class","datamaps-legend "+this.model.get("legend").display+"-side")}else this.$el.find(".map-container .datamaps-legend").remove();else this.$el.find(".map-container .datamaps-legend").remove()},transitionToSlide:function(e){var t=this.model;this.setMapPosition(t)},addOpacityToColor:function(e,t){if(-1!==e.indexOf("rgba"))e=e.replace(/,\s*[\d.]+\s*\)/,","+t/100+")");else if(-1!==e.indexOf("rgb"))e=e.replace(e.slice(-2,-1),","+t/100+")");else if(-1!==e.indexOf("#")){e=e.replace("#","");var i=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);e="rgba("+i+","+n+","+o+","+t/100+")"}return e},dblclick:function(){app.trigger("mapPopup:show",this.model)}})},{"../../objectView.js":76,d3:"d3",datamaps:"datamaps",underscore:52}],106:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["crop","ext","filename"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-replace"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null,this.get("src")||this.set("src","404.pdf")},defaults:{type:"pdf",src:"",proportionLock:!1}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],107:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax"),r=o.extend({template:"#pdf",pdfDbclick:function(){$("#upload-trigger").click()},events:{dblclick:"pdfDbclick"},initialize:function(){n.bindAll(this,"beginDragging","finishDragging","replacePdf"),app.listenTo(app,"object:handle-drag-start",this.beginDragging),app.listenTo(app,"object:handle-drag-end",this.finishDragging),app.listenTo(app,"pdf-replaced",this.replacePdf),this._super()},beginDragging:function(){this.dragActive=!0},finishDragging:function(){this.dragActive=!1},replacePdf:function(e){parseInt(this.model.get("assetid"),10)===parseInt(e.id,10)&&(this.model.set("link",e.link),this.model.set("ext",e.ext),this.model.set("originsize",e.size),this.model.set("size",parseInt(e.size/1e3,10)+" KB"),this.model.set("filename",e.hash),this.model.set("updatedat",e.updatedAt),this.model.set("updatedby",e.updatedBy),this.model.set("src",e.hash+"."+e.ext),this.model.set("proportionLock",0),setTimeout(function(){app.trigger("save:force")},3e3))},update:function(e,t){s.set(this.$el.find("iframe"),{css:{"-webkit-box-reflect":"none"}}),n.has(this.model.changed,"src")&&($("#"+this.$el[0].id+" .crop_wrapper iframe").attr("src","https://docs.google.com/gview?url="+app.settings.get("usersDataStorage")+this.model.changed.src+"&embedded=true"),delete this.model.changed.src),""!==this.model.get("src")?this.disableLoading():this.enableLoading(),this._super(e,t)},enableLoading:function(){s.set(this.$el.find(".loader_code"),{css:{display:"block"}})},disableLoading:function(){s.set(this.$el.find(".loader_code"),{css:{display:"none"}})},render:function(){this._super(),this.$el.find("iframe").error(function(){$(this).attr("src",app.settings.get("usersDataStorage")+"404.pdf")})}});n.defaults(r.prototype.events,o.prototype.events),n.defaults(r.prototype.render,o.prototype.render),t.exports=r},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],108:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["value","percentValue","rangeValue","iSettings1"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null},validators:{value:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"progressbar",height:43.2,width:300,value:25,rangeValue:[0,100],percentValue:!0,iSettings1:!0,textColor:"#FFFFFF",colors:["#1DAFBA","#414042","#1DAFBA"]}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],109:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({template:"#progressbar",settings:{widgets:["valueRangePopup","colorPopup","textcolorPopup","showvaluePopup"]},options:{colorslabel:["Circle","Range","Progress Bar"]},initialize:function(){this.model.subMenu.settings=n.extend({},this.settings.widgets),this.model.subMenu.options=n.extend({},this.options),n.bindAll(this,"setStyle","setProgress","setColors","setTextColor","toggleValue"),this._super()},update:function(e,t){n.has(this.model.changed,"style")&&this.setStyle(),(n.has(this.model.changed,"value")||n.has(this.model.changed,"rangeValue")||n.has(this.model.changed,"percentValue"))&&this.setProgress(),n.has(this.model.changed,"colors")&&this.setColors(),n.has(this.model.changed,"textColor")&&this.setTextColor(),n.has(this.model.changed,"iSettings1")&&this.toggleValue(),this._super(e,t)},render:function(){this._super(),this.setStyle(),this.setProgress(),this.setColors(),this.setTextColor(),this.toggleValue()},setStyle:function(){this.$el.find("svg").hide(),this.$el.find("#"+this.model.get("style")).show()},setProgress:function(){var e=this.model.get("rangeValue")[0],t=this.model.get("rangeValue")[1],i=this.model.get("value");this.model.validators.value.params={min:this.model.get("rangeValue")[0],max:this.model.get("rangeValue")[1]},i>t?(this.model.set("value",t),i=t):e>i&&(this.model.set("value",e),i=e);var n=(i-e)/(t-e)*100;s.set(this.$el.find("#ProgressBar"),{drawSVG:Math.round(n)+"%"}),s.set(this.$el.find("#ProgressBarBg"),{drawSVG:Math.round(n)+"% 100%"}),s.set(this.$el.find("#Background"),{x:2.59*Math.round(n)+"px"}),s.set(this.$el.find("#CircleBackground"),{x:2.59*Math.round(n)+"px"}),s.set(this.$el.find("#progressbarValue"),{x:2.59*Math.round(n)+"px"});var o=this.model.get("percentValue")?this.model.get("value")+"%":this.model.get("value");this.$el.find("#progressbarValue").text(o)},setColors:function(){s.set(this.$el.find("#Background"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#ProgressBarBg"),{stroke:this.model.get("colors")[1]}),s.set(this.$el.find("#ProgressBar"),{stroke:this.model.get("colors")[2]})},setTextColor:function(){s.set(this.$el.find("#progressbarValue"),{fill:this.model.get("textColor")})},toggleValue:function(){this.model.get("iSettings1")?this.$el.find("#progressbarValue").show():this.$el.find("#progressbarValue").hide()}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],110:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["value","percentValue","rangeValue","iSettings1"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],
this.activeMenuItem=null},validators:{value:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"radials",height:200,width:200,value:35,rangeValue:[0,100],percentValue:!0,iSettings1:!0,textColor:"#FFFFFF",colors:["#1DAFBA","#414042","#1DAFBA"]}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],111:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({template:"#radial",settings:{widgets:["valueRangePopup","colorPopup","textcolorPopup","showvaluePopup"]},options:{colorslabel:["Frame","Range","Progress Bar"]},initialize:function(){this.model.subMenu.settings=n.extend({},this.settings.widgets),this.model.subMenu.options=n.extend({},this.options),n.bindAll(this,"setStyle","setValue","setColors","setTextColor","toggleValue"),this._super()},update:function(e,t){n.has(this.model.changed,"style")&&this.setStyle(),(n.has(this.model.changed,"value")||n.has(this.model.changed,"rangeValue")||n.has(this.model.changed,"percentValue"))&&this.setValue(),n.has(this.model.changed,"colors")&&this.setColors(),n.has(this.model.changed,"textColor")&&this.setTextColor(),n.has(this.model.changed,"iSettings1")&&this.toggleValue(),this._super(e,t)},render:function(){var e=this;setTimeout(function(){e.setStyle(),e.setValue(),e.setColors(),e.setTextColor(),e.toggleValue()},0),this._super()},setStyle:function(){this.$el.find("svg").hide(),this.$el.find("#"+this.model.get("style")).show()},setValue:function(){var e=this.model.get("rangeValue")[0],t=this.model.get("rangeValue")[1],i=this.model.get("value");this.model.validators.value.params={min:this.model.get("rangeValue")[0],max:this.model.get("rangeValue")[1]},i>t?(this.model.set("value",t),i=t):e>i&&(this.model.set("value",e),i=e);var n=(i-e)/(t-e)*100;s.set(this.$el.find("#ProgressBar"),{drawSVG:"0% "+Math.round(n)+"%"}),s.set(this.$el.find("#ProgressBarBg"),{drawSVG:Math.round(n)+"% 99.99%"}),"radial-5"===this.model.get("style")&&this.$el.find("#step-2, #step-3").attr("offset",100-Math.round(n)+"%");var o=this.model.get("percentValue")?i-e+"%":i-e,r=this.model.get("percentValue")?t-i+"%":t-i;this.$el.find("#radialValue").text(o),this.$el.find("#radialValueRest").text(r)},setColors:function(){"radial-5"!==this.model.get("style")?(s.set(this.$el.find("#Background"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#ProgressBarBg"),{stroke:this.model.get("colors")[1]}),s.set(this.$el.find("#radialValueRest"),{fill:this.model.get("colors")[1]}),s.set(this.$el.find("#divider"),{fill:this.model.get("colors")[1]}),s.set(this.$el.find("#ProgressBar"),{stroke:this.model.get("colors")[2]})):(s.set(this.$el.find("#Background"),{stroke:this.model.get("colors")[0]}),this.$el.find("#ProgressBarBg").attr("fill","url(#"+this.model.get("id")+"Grad)"),this.$el.find("linearGradient").attr("id",this.model.get("id")+"Grad"),s.set(this.$el.find("#ProgressBar"),{stroke:this.model.get("colors")[2]}),s.set(this.$el.find("#step-1, #step-2"),{css:{"stop-color":this.model.get("colors")[1]}}),s.set(this.$el.find("#step-3, #step-4"),{css:{"stop-color":this.model.get("colors")[2]}}))},setTextColor:function(){s.set(this.$el.find("#radialValue"),{fill:this.model.get("textColor")})},toggleValue:function(){this.model.get("iSettings1")?this.$el.find("#radialValue, #radialValueRest, #divider").show():this.$el.find("#radialValue, #radialValueRest, #divider").hide()}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],112:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){setTimeout(function(){this.get("svg.src").match(/(Shapes|Lines)/)&&this.set({proportionLock:!1})}.bind(this),0),this.nonTweenable=this.nonTweenable.concat(["removeText","thumbnail","svgHtml","absolutePos","folder","flipX","flipY"]),this._super(),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.subMenu.flip=["flipsPopup"],this.propertyMenuItems=this.propertyMenuItems.concat(".btn-flip"),this.activeMenuItem=null,this.get("svg.src").match(/(Shape-1.svg)/)&&(this.subMenu.effect=this.subMenu.effect.concat("borderPopup")),this.get("folder")||this.get("svg.src").match(/(Lines)/)&&this.set("folder","Lines"),"Lines"===this.get("folder")?(this.subMenu.color=["linePopup","colorPopup"],this.subMenu.settings=["linePopup","colorPopup"],this.set("preserveAspectRatio","xMinYMid meet"),this.validators.thickness={type:"number",params:{min:1,max:100}},this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings")):this.propertyMenuItems=this.propertyMenuItems.concat(".btn-color")},defineReadyPromise:function(){var e=$.Deferred(),t=this;this.bind("object:ajax-loaded",e.resolve),e.done(function(e){t.trigger("ready")}),this.promise=e.promise()},tempAttributes:["xml","parseTextCallback","svgHtml"],validators:{"svg.src":{type:"string",params:{notblank:!0}},borderWidth:{type:"number",params:{min:0,max:200}},borderRadius:{type:"number",params:{min:0,max:100}}},defaults:{type:"svg",colors:!1,patterns:!1,repeat:!1,border:{style:"none",size:1,color:"#000"},borderRadius:0,borderWidth:10,flipY:!1,flipX:!1}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),n.defaults(s.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=s},{"./../../objectModel.js":75,underscore:52}],113:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({initialize:function(){this._super(),this.asyncProperties=this.asyncProperties.concat(["svgHtml"]),n.bindAll(this,"svgLoadedSuccess")},localCache:{data:{},pendingData:{},remove:function(e){delete this.data[e]},addPending:function(e){this.pendingData[e]=1},pending:function(e){return this.pendingData.hasOwnProperty(e)&&1===this.pendingData[e]},exist:function(e){return this.data.hasOwnProperty(e)&&null!==this.data[e]},get:function(e){return this.data[e]},set:function(e,t,i){this.remove(e),this.data[e]=t}},template:"#svg",setXml:function(){var e=this.model.get("xml");if(e.find("svg").attr({width:"100%",height:"100%"}),this.$el.find("svg").eq(0).remove(),this.$el.append(e.find("svg").eq(0)),this.model.get("absolutePos")&&(this.$el.find("svg").css("position","absolute"),"Lines"===this.model.get("folder")&&this.$el.find("svg").first().attr("class","vertical-center")),this.model.get("preserveAspectRatio")?"true"!==this.model.get("preserveAspectRatio").toString()&&this.$el.find("svg").get(0).setAttribute("preserveAspectRatio",this.model.get("preserveAspectRatio")):this.$el.find("svg").get(0).setAttribute("preserveAspectRatio","none"),this.$el.find("svg").get(0).setAttribute("overflow","hidden"),this.model.get("colors")||(this.model.set("colors",this.parseColors(this.el)),$(".btn-color").show().find("#propertiesIconColorpicker").css("background",this.model.get("colors")[0])),!this.model.get("removeText")&&this.model.get("parseText")&&this.model.get("parseTextCallback")&&(this.parseText(),this.model.set("removeText",!0)),this.model.get("removeText")&&this.removeText(),this.model.set("pattern",this.parsePatterns(this.model.get("svgHtml"))),!this.model.get("width")||this.model.get("width")<4)if(this.model.set({width:this.model.get("svg.width"),height:this.model.get("svg.height")}),"Lines"===this.model.get("folder")){var t={width:800,thickness:20};this.$el.find("svg:eq(0)").attr("data-defaults")&&(t=JSON.parse(this.$el.find("svg:eq(0)").attr("data-defaults"))),this.model.set({width:t.width,thickness:t.thickness,height:1.6*t.thickness})}else this.model.set({width:this.model.get("svg.width"),height:this.model.get("svg.height")});"Lines"===this.model.get("folder")&&(this.model.get("thickness")||this.model.set("thickness",this.model.get("height"))),setTimeout(function(){s.set(this.$el,{css:{"box-sizing":"border-box"}}),s.set(".vertical-center",{yPercent:-50})}.bind(this),0)},update:function(e,t){n.has(this.model.changed,"xml")&&this.model.get("xml")&&(this.setXml(),n.has(this.model.changed,"colors")||(this.model.changed.colors=JSON.parse(JSON.stringify(this.model.get("colors"))),$(".btn-color").show().find("#propertiesIconColorpicker").css("background",this.model.get("colors")[0])),delete this.model.changed.xml),s.set(this.$el.find("svg"),{rotationY:this.model.get("flipX")?180:0,delay:0}),s.set(this.$el.find("svg"),{rotationX:this.model.get("flipY")?180:0,delay:0}),this.model.get("pattern")!==!1&&n.has(this.model.changed,"thickness")&&(this.$el.find("svg").eq(0).attr("height",this.model.changed.thickness),this.renderPattern()),this.model.get("thickness")>this.model.get("height")&&this.model.set("height",this.model.get("thickness")),this.model.get("pattern")!==!1&&n.has(this.model.changed,"width")&&this.renderPattern(),n.has(this.model.changed,"pattern")&&delete this.model.changed.pattern,n.has(this.model.changed,"svg")&&delete this.model.changed.svg,n.has(this.model.changed,"colors")&&(!n.isNull(this.model.changed.colors)&&this.model.changed.colors.length&&n.each(this.model.changed.colors,function(e,t){var i=this.$el.find('[id^="Color'+(t+1)+'"]'),n=this.$el.find('[id^="Strokecolor'+(t+1)+'"]');0===i.length&&0===n.length?this.$el.find("g").css("fill",e):(i.css("fill",e),n.css("stroke",e))},this),delete this.model.changed.colors),this._super(e,t)},getSvgXml:function(){var e=this.model.get("svg.src"),t=app.settings.get("assetsStorage"),i=e.indexOf(t)>-1?e:t+e;if(this.model.get("svgHtml")){var n=this.model.get("svgHtml");this.$el.find("img").hide();var o=$('<div class="fake-doc">').append($("<div>"+n+"</div>").find("svg").eq(0));o=$("<a>").append(o);var s=o.html();this.model.set("xml",$(s)),this.model.get("pattern")&&(this.renderPattern(),this.updateThickness()),this.model.trigger("object:ajax-loaded"),app.trigger("object:ajax-loaded")}else $.ajax({url:i,dataType:"xml",context:this,cache:!0,beforeSend:function(){return this.localCache.exist(i)?(this.svgLoadedSuccess("<div>"+this.localCache.get(i).responseText+"</div>"),!1):this.localCache.pending(i)?(app.once("svg:loaded"+i.replace(/ /g,"-"),this.svgLoadedSuccess,this),!1):(this.localCache.addPending(i),!0)}.bind(this),complete:function(e,t){this.localCache.set(i,e,this.svgLoadedSuccess),app.trigger("svg:loaded"+i.replace(/ /g,"-"),"<div>"+this.localCache.get(i).responseText+"</div>")}.bind(this),success:this.svgLoadedSuccess})},svgLoadedSuccess:function(e){this.$el.find("img").hide();var t=$('<div class="fake-doc">').append($(e).find("svg").eq(0));t=$("<a>").append(t);var i=t.html();this.model.set({xml:$(i),svg:{width:this.parseSize(i,"width"),height:this.parseSize(i,"height"),src:this.model.get("svg.src")},svgHtml:i}),"Lines"===this.model.get("folder")&&this.model.set("svg.height",100),this.updateThickness(),this.model.get("pattern")&&(this.renderPattern(),this.updateThickness()),this.model.trigger("object:ajax-loaded"),app.trigger("object:ajax-loaded");var n=this.$el.parents("section.stage").attr("id");app.trigger(n+":change",this.model)},updateThickness:function(){this.model.get("thickness")&&this.$el.find("svg").eq(0).attr("height",this.model.get("thickness"))},render:function(){this._super(),n.isUndefined(this.model.get("xml"))?this.getSvgXml():(this.model.set("xml",$(this.model.get("svgHtml"))),this.setXml())},removeText:function(e){for(var t=this.$el.find("text"),i=t.length,n=0;i>n;n++)t.eq(n).remove()},parseText:function(e){var t=this.$el.find("text"),i=t.length,o=[];t.find("tspan").length>0&&(t=t.find("tspan"),i=t.length),this.$el.find("svg").css("position","absolute");for(var s=0;i>s;s++){var r=t.eq(s).position().top+this.model.get("y"),a=t.eq(s).position().left+this.model.get("x");isNaN(Number(t.eq(s).attr("x")))||(a+=Number(t.eq(s).attr("x")));var l=t.eq(s).css("fill"),d=t.eq(s).css("font-family"),h=t.eq(s).css("font-size").replace("px","");n.each(app.settings.get("fonts"),function(e){-1!==d.toLowerCase().indexOf(e.toLowerCase())&&(d=e)});var c="",u="";-1!==d.toLowerCase().indexOf("italic")&&(c="font-style:italic;"),-1!==d.toLowerCase().indexOf("bold")&&(u="font-weight:bold;"),-1!==d.toLowerCase().indexOf("light")&&-1!==d.toLowerCase().indexOf("lato")&&(u="font-weight:300;"),o.push({type:"text",name:t.eq(s).text(),x:a,y:r,text:"<span style='color:"+l+";"+u+c+";'>"+t.eq(s).text()+"</span>",padding:{vertical:0,horizontal:0},lineHeight:1,font:{name:d,size:h,usedFonts:[d]},width:t.eq(s).width(),height:t.eq(s).height()}),t.eq(s).remove()}this.model.get("parseTextCallback.callback").call(this.model.get("parseTextCallback.scope"),o,this.model.get("parseTextCallback.done"))},parseColors:function(e){var t;if($(e).find('[id^="Color"]').length>0||$(e).find('[id^="Strokecolor"]').length>0){var i=[];for(t=0;3>=t;t++)$(e).find('[id^="Color'+(t+1)+'"]').length&&(i[t]=$(e).find('[id^="Color'+(t+1)+'"]').css("fill")),$(e).find('[id^="Strokecolor'+(t+1)+'"]').length&&(i[t]=$(e).find('[id^="Strokecolor'+(t+1)+'"]').css("stroke"));return i}return!1},parsePatterns:function(e){var t=!1;return $(e).find('[id^="repeat"]').length>0&&(t=$(e).find('[id^="repeat"]').attr("width")?parseInt($(e).find('[id^="repeat"]').attr("width").replace("px","")):$(e).find('[id^="repeat"]').children().eq(0).attr("width")?parseInt($(e).find('[id^="repeat"]').children().eq(0).attr("width").replace("px","")):$(e).find("svg").attr("width")?parseInt($(e).find("svg").attr("width").replace("px","")):$(e).find('[id^="repeat"]').children().eq(0).attr("cx")?parseInt($(e).find('[id^="repeat"]').children().eq(0).attr("cx").replace("px","")):100),t},parseSize:function(e,t){return parseInt($(e).find("svg").attr(t).replace("px",""))},renderPattern:function(){var e=this.model.get("thickness")/this.model.get("svg.height");"Lines"!==this.model.get("folder")&&(e=1);var t=this.model.get("width")-this.model.get("svg.width")*e,i=this.model.get("pattern"),n=Math.ceil(t/(i*e)),o=this.$el.find('[id^="repeat"]').clone();o.attr("id","rclone");var s=this.$el.find('[id^="rclone"]').length,r=Number(this.$el.find('[id^="repeat"]').first().attr("x"));if(isNaN(r)&&(r=Number(this.$el.find('[id^="repeat"]').first().attr("cx"))),isNaN(r)&&(r=Number(this.$el.find('[id^="repeat"]').first().attr("width"))),isNaN(r)&&(r=i),s>n&&this.$el.find("svg").eq(0).find('[id^="rclone"]').eq(n).nextAll('[id^="rclone"]').remove(),n)for(var a=s;n>=a;a++){var l=o.clone();l.attr("id","rclone_"+a),l.attr("transform","translate("+(r+a*i)+")"),this.$el.find("svg").find('[id="rzone"]').length>0?this.$el.find("svg").find('[id="rzone"]').append(l):this.$el.find("svg").find('[id^="rclone"]').length>0?this.$el.find("svg").find('[id^="rclone"]').last().after(l):this.$el.find("svg").find('[id^="repeat"]').last().after(l)}if(this.$el.find("#alignright").length>0){var d=this.$el.find("#alignright").attr("width");this.$el.find("#alignright").attr("transform","translate("+(this.model.get("width")/e-d-(this.model.get("svg.width")-d))+")"),this.$el.find("#rzone").length>0&&this.$el.find("#rzone").attr("width",this.model.get("width")/e-d)}this.$el.find("svg").eq(0).attr("width",this.model.get("width")),this.model.get("svg.height")&&this.model.get("pattern")>0&&this.$el.find("svg").get(0)&&this.$el.find("svg").get(0).setAttribute("viewBox","0 0 "+this.model.get("width")+" "+this.model.get("svg.height"))}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],114:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["font","lineHeight","letterSpacing","text","padding","paddingHorizontal","paddingVertical","tableObject","fixedWidth","theme"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings-ic","tableEditor"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.settings=["colorPopup","spacingPopup","transformPopup","borderPopup"],this.activeMenuItem=null},tempAttributes:["forceStartEditorOnce"],validators:{text:{type:"string",params:{notblank:!0}},lineHeight:{type:"number",params:{min:0,max:3}},letterSpacing:{type:"number",params:{min:-10,max:80}},"padding.horizontal":{type:"number",params:{min:0,max:100}},"padding.vertical":{type:"number",params:{min:0,max:100}},borderWidth:{type:"number",params:{min:0,max:100}},borderRadius:{type:"number",params:{min:0,max:45}}},defaults:{type:"table",font:{name:"Arial",usedFonts:[]},theme:"theme5",padding:{vertical:10,horizontal:10},border:{style:"none",size:1,color:"#000"},align:"left",lineHeight:1.2,letterSpacing:0,fixedWidth:!1,proportionLock:!1,borderRadius:0,borderWidth:1,backgroundColor:"transparent",tableObject:!0}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),n.defaults(s.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=s},{"./../../objectModel.js":75,underscore:52}],115:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("../../../../helpers/fontLoader.js"),r=e("TweenMax"),a=o.extend({template:"#table",groupHold:!1,textRenderingBuff:1,initialize:function(){n.bindAll(this,"setGroupHold","startEditor","stopEditor","initCellsWidth","initCellsHeight"),app.on("groupHold",this.setGroupHold),app.on("object:onclick",this.startEditor),app.bind("object:deselect-object object:new-selected",this.stopEditor),app.on("table:rewidth",this.initCellsWidth),this._super(),this.model.get("forceStartEditorOnce")&&(setTimeout(function(){this.startEditor(this.model)}.bind(this),500),this.model.set({forceStartEditorOnce:!1},{silent:!0}))},initCellsWidth:function(e,t){this.initCellsHeight(e,t);var i,n,o=this.$vmTable||e,s=o.find("tr").first().find("td"),a=[],l=[];for(n=0;n<s.length;n++)i=s.eq(n).attr("style")||"",-1!==i.indexOf("width")&&-1===i.indexOf("width: auto")?a.push(s.eq(n)):l.push(s.eq(n));var d,h=0;for(n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),h+=d;var c,u=100/parseFloat(s.length),p=0;if(t)for(n=0;n<s.length;n++)r.set(s.eq(n),{css:{width:u+"%"}});else if(!(h>99&&0===l.length))if(h>99){for(n=0;n<l.length;n++)r.set(l[n],{css:{width:u+"%"}}),p+=u;for(c=parseFloat(p)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),d-c>1&&r.set(a[n],{css:{width:d-c+"%"}})}else for(c=parseFloat(100-h)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),r.set(a[n],{css:{width:d+c+"%"}})},initCellsHeight:function(e,t){var i,n,o=this.$vmTable||e,s=o.find("tr"),a=[],l=[];for(n=0;n<s.length;n++)i=s.eq(n).attr("style")||"",-1!==i.indexOf("height")&&-1===i.indexOf("height: auto")?a.push(s.eq(n)):l.push(s.eq(n));var d,h=0;for(n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),h+=d;var c,u=100/parseFloat(s.length),p=0;if(t)for(n=0;n<s.length;n++)r.set(s.eq(n),{css:{height:u+"%"}});else if(!(h>99&&0===l.length))if(h>99){for(n=0;n<l.length;n++)r.set(l[n],{css:{height:u+"%"}}),p+=u;for(c=parseFloat(p)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),d-c>1&&r.set(a[n],{css:{height:d-c+"%"}})}else for(c=parseFloat(100-h)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),r.set(a[n],{css:{height:d+c+"%"}})},setGroupHold:function(e){this.groupHold=e},startEditor:function(e){this.groupHold||this.model!==e||"table"!==e.get("type")||(app.trigger("textEditorPopup:show",this.model),this.$el.find(".vm-table").css("z-index",1))},stopEditor:function(e){this.groupHold||this.model===e?this.model===e&&"table"===e.get("type")&&this.$el.find(".vm-table").css("z-index",-1):this.$el.find(".vm-table").css("z-index",-1)},update:function(e,t){var i=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");if(n.has(this.model.changed,"theme")&&(this.$el.find("table").attr("data-theme",this.model.changed.theme),delete this.model.changed.theme),n.has(this.model.changed,"fixedWidth")&&delete this.model.changed.fixedWidth,n.has(this.model.changed,"tableObject")&&delete this.model.changed.tableObject,n.has(this.model.changed,"borderRadius")&&(r.set(this.$el,{borderRadius:this.model.changed.borderRadius+"px"}),delete this.model.changed.borderRadius),n.has(this.model.changed,"lineHeight")&&(r.set(this.$vmTable,{lineHeight:this.model.changed.lineHeight}),delete this.model.changed.lineHeight),n.has(this.model.changed,"letterSpacing")&&(r.set(this.$el.find(".vm-text"),{letterSpacing:this.model.get("letterSpacing")/100+"em"}),delete this.model.changed.letterSpacing),n.has(this.model.changed,"padding")){var o=this.model.get("padding");r.set(this.$vmTable,{css:{"padding-bottom":o.vertical,"padding-top":o.vertical,"padding-left":o.horizontal,"padding-right":o.horizontal}}),r.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),delete this.model.changed.padding}n.has(this.model.changed,"text")&&(""===$("<div>"+this.model.changed.text+"</div>").text()&&app.trigger("objectCollection:remove:view-model",[this.model]),this.$el.find(".vm-table").html(this.model.changed.text),delete this.model.changed.text,this.initCellsWidth()),n.has(this.model.changed,"font.usedFonts")&&delete this.model.changed["font.usedFonts"],n.has(this.model.changed,"font")&&(s.add(this.model.get("font.name")),n.each(this.model.get("font.usedFonts"),function(e){s.add(e)},this),r.set(this.$vmTable,{css:{fontSize:this.model.get("font.size")}}),delete this.model.changed["font.size"],delete this.model.changed["font.name"],delete this.model.changed["font.usedFonts"]),n.has(this.model.changed,"align")&&(this.$el.find(".vm-table").css("text-align",this.model.changed.align),delete this.model.changed.align),(n.has(this.model.changed,"borderStyle")||n.has(this.model.changed,"borderWidth"))&&r.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),this._super(e,t)},render:function(){this._super(),r.set(this.$el,{css:{"box-sizing":"border-box"}}),r.set(this.$el.find(".drag-helper"),{width:this.model.get("width")+this.extraDragSpace,height:this.model.get("height")+this.extraDragSpace,x:-this.extraDragSpace/2,y:-this.extraDragSpace/2}),r.set(this.$el.find(".drag-helper div"),{width:this.model.get("width"),height:this.model.get("height"),x:this.extraDragSpace/2,y:this.extraDragSpace/2}),this.$vmTable=this.$el.find(".vm-table")}});n.defaults(a.prototype.events,o.prototype.events),t.exports=a},{"../../../../helpers/fontLoader.js":56,"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],116:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["font","lineHeight","letterSpacing","text","padding","paddingHorizontal","paddingVertical","initList","textEffect"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings-ic","textEditor"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.list=["listPopup"],this.subMenu.settings=["colorPopup","spacingPopup","transformPopup","borderPopup"],this.activeMenuItem=null},tempAttributes:["forceStartEditorOnce"],validators:{text:{type:"string",params:{notblank:!0}},lineHeight:{type:"number",params:{min:0,max:3}},letterSpacing:{type:"number",params:{min:-10,max:80}},"padding.horizontal":{type:"number",params:{min:0,max:100}},"padding.vertical":{type:"number",params:{min:0,max:100}},borderWidth:{type:"number",params:{min:0,max:100}},borderRadius:{type:"number",params:{min:0,max:45}}},defaults:{type:"text",font:{name:"Arial",usedFonts:[]},padding:{vertical:10,horizontal:10},border:{style:"none",size:1,color:"#000"},align:"left",lineHeight:1.2,letterSpacing:0,fixedWidth:!1,proportionLock:!1,borderRadius:0,borderWidth:1,backgroundColor:"transparent"}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),n.defaults(s.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=s},{"./../../objectModel.js":75,underscore:52}],117:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("../../../../helpers/fontLoader.js"),r=e("TweenMax"),a=o.extend({template:"#text",groupHold:!1,initialize:function(){n.bindAll(this,"fitToTextSize","fitToTextSizeVertical","setGroupHold","startEditor","stopEditor","initList","proportionTextInGroup"),this.model.bind("change:lineHeight change:letterSpacing change:borderWidth change:borderStyle change:fixedWidth",this.fitToTextSizeVertical),this.model.bind("change:padding.vertical resize-end change:font.size change:font.name change:font.usedFonts",this.fitToTextSize),this.model.get("fixedWidth")||app.on("object:resize",function(){this.model.set("fixedWidth",!0)}.bind(this)),app.on("groupHold",this.setGroupHold),app.on("object:onclick",this.startEditor),app.bind("object:deselect-object object:new-selected",this.stopEditor),this.model.bind("group:text:proportion",this.proportionTextInGroup),this._super(),this.model.get("forceStartEditorOnce")&&(setTimeout(function(){this.startEditor(this.model)}.bind(this),500),this.model.set({forceStartEditorOnce:!1},{silent:!0}))},proportionTextInGroup:function(e){for(var t=this.model.get("text"),i=t.match(/font-size:((\s?)\d+(\.\d+)?)px/),n="";i;){var o=i[0],s=i[1],r=t.indexOf(i[0]);n+=t.substr(0,r),n+=o.replace(s,parseFloat(s*e).toFixed(2)),t=t.substr(r+i[0].length),i=t.match(/font-size:((\s?)\d+(\.\d+)?)px/)}n+=t,this.model.set("text",n);var a=this.model.get("padding.horizontal"),l=this.model.get("padding.vertical"),d=this.model.get("font.size");this.model.set("font.size",(d*e).toFixed(1)),this.model.set("padding",{horizontal:parseFloat((a*e).toFixed(1)),vertical:parseFloat((l*e).toFixed(1))})},INIT_BS:7,INIT_BI:0,INIT_TI:10,INIT_BA:5,initList:function(){var e={bulletSize:this.INIT_BS,bulletIndent:this.INIT_BI,TextIndent:this.INIT_TI,bulletAlign:{center:!0},newDrop:!0},t=app.settings.get("assetsStorage")+"bullets/Bullet-17.svg";app.trigger("texteditor:list:style",t,e)},isFForIE:function(){return-1!==navigator.platform.indexOf("Win")},setGroupHold:function(e){this.groupHold=e},startEditor:function(e){this.groupHold||this.model!==e||"text"!==e.get("type")||(this.initText(),app.trigger("textEditorPopup:show",this.model),this.$el.find(".vm-text").css("z-index",1),this.model.get("initList")&&(this.model.set({initList:!1},{silent:!0}),this.initList()))},stopEditor:function(e){this.groupHold||this.model===e?this.model===e&&"text"===e.get("type")&&this.$el.find(".vm-text").css("z-index",-1):this.$el.find(".vm-text").css("z-index",-1)},initText:function(){if(!this.model.get("fixedWidth")){var e=this,t=this.$el.find(".vm-text");t.one("paste",function(){e.model.set("fixedWidth",!0)}),t.css({width:"auto"})}},update:function(e,t){var i=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");if(n.has(this.model.changed,"borderRadius")&&(r.set(this.$el,{borderRadius:this.model.changed.borderRadius+"px"}),delete this.model.changed.borderRadius),n.has(this.model.changed,"lineHeight")&&(r.set(this.$vmText,{lineHeight:this.model.changed.lineHeight}),delete this.model.changed.lineHeight),n.has(this.model.changed,"letterSpacing")&&(r.set(this.$vmText,{letterSpacing:this.model.get("letterSpacing")/100+"em"}),this.$vmText.find("*").css("letter-spacing",""),this.$vmText.find("li").length>0&&r.set(this.$vmText.find("li").children().eq(0),{letterSpacing:this.model.get("letterSpacing")/100+"em"}),delete this.model.changed.letterSpacing),n.has(this.model.changed,"padding")){var o=this.model.get("padding");r.set(this.$vmText,{css:{"padding-bottom":o.vertical,"padding-top":o.vertical,"padding-left":o.horizontal,"padding-right":o.horizontal}}),this.$vmText.outerWidth()>this.model.get("width")&&(this.$vmText.css({width:"auto"}),this.model.set({width:this.$vmText.outerWidth()}),this.$vmText.css({width:this.$vmText.outerWidth()})),delete this.model.changed.padding}n.has(this.model.changed,"fixedWidth")&&delete this.model.changed.fixedWidth,n.has(this.model.changed,"text")&&(""===$("<div>"+this.model.changed.text+"</div>").text()&&app.trigger("objectCollection:remove:view-model",[this.model]),this.$el.find(".vm-text").html(this.model.changed.text),delete this.model.changed.text),n.has(this.model.changed,"font.usedFonts")&&delete this.model.changed["font.usedFonts"],n.has(this.model.changed,"font")&&(s.add(this.model.get("font.name")),n.each(this.model.get("font.usedFonts"),function(e){s.add(e)},this),r.set(this.$vmText,{css:{fontSize:this.model.get("font.size")}}),delete this.model.changed["font.size"],delete this.model.changed["font.name"],delete this.model.changed["font.usedFonts"]),n.has(this.model.changed,"align")&&(this.$el.find(".vm-text").css("text-align",this.model.changed.align),delete this.model.changed.align),n.has(this.model.changed,"width")&&"editor"!==app.settings.get("editMode")&&this.model.get("fixedWidth")&&(this.model.attributes.width=this.model.changed.width+this.textRenderingBuff),(n.has(this.model.changed,"borderStyle")||n.has(this.model.changed,"borderWidth"))&&r.set(this.$vmText,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),this._super(e,t)},textRenderingBuff:1,fitToTextSizeVertical:function(){var e=this,t=this.$el.find(".vm-text"),i=this.model.get("padding.vertical"),o=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");setTimeout(function(){var n=t.height()+2*(i+o);n>e.model.get("height")&&e.model.set("height",n)}.bind(this),500)},fitToTextSize:function(){var e=this,t=this.$el.find(".vm-text"),i=this.model.get("padding.horizontal"),o=this.model.get("padding.vertical"),s=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");setTimeout(function(){var n=t.height()+2*(o+s),r=t.width()+2*(i+s);e.model.set("width",r),n>e.model.get("height")&&e.model.set("height",n)}.bind(this),0)},render:function(){this._super(),r.set(this.$el,{css:{"box-sizing":"border-box"}}),this.$vmText=this.$el.find(".vm-text"),0===this.model.get("height")&&this.fitToTextSizeVertical()}});n.defaults(a.prototype.events,o.prototype.events),t.exports=a},{"../../../../helpers/fontLoader.js":56,"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],118:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["value","percentValue","rangeValue"]),this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu),this.activeMenuItem=null},validators:{value:{type:"number",params:{min:0,max:100}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"thermometer",height:400,width:127.79,value:20,rangeValue:[0,100],percentValue:!0,textColor:"#414042",colors:["#414042","#1DAFBA","#FFFFFF"]}}));n.defaults(s.prototype.defaults,o.prototype.defaults),n.defaults(s.prototype.validators,o.prototype.validators),t.exports=s},{"./../../objectModel.js":75,underscore:52}],119:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=e("TweenMax");t.exports=o.extend({template:"#thermometer",settings:{widgets:["valueRangePopup","colorPopup","textcolorPopup"]},options:{colorslabel:["Frame","Range","Progress Bar"]},initialize:function(){this.model.subMenu.settings=n.extend({},this.settings.widgets),this.model.subMenu.options=n.extend({},this.options),this.model.validators.value.params={min:this.model.get("rangeValue")[0],max:this.model.get("rangeValue")[1]},n.bindAll(this,"setStyle","setValue","setColors","setTextColor"),this._super()},update:function(e,t){(n.has(this.model.changed,"value")||n.has(this.model.changed,"rangeValue")||n.has(this.model.changed,"percentValue"))&&this.setValue(),
n.has(this.model.changed,"colors")&&this.setColors(),n.has(this.model.changed,"textColor")&&this.setTextColor(),this._super(e,t)},render:function(){this._super();var e=this;setTimeout(function(){e.setStyle(),e.setValue(),e.setColors(),e.setTextColor()},0)},setStyle:function(){this.style=this.model.get("style"),this.$el.find("svg").hide(),this.$el.find(".svg-wrapper").attr("class","svg-wrapper svg-wrapper-thermometer svg-wrapper-"+this.model.get("style")),this.$el.find("#"+this.style).show()},setValue:function(){var e=this.model.get("rangeValue")[0],t=this.model.get("rangeValue")[1],i=this.model.get("value");this.model.validators.value.params={min:this.model.get("rangeValue")[0],max:this.model.get("rangeValue")[1]},i>t?(this.model.set("value",t),i=t):e>i&&(this.model.set("value",e),i=e);var n=(i-e)/(t-e)*100;s.set(this.$el.find("#thermometer-1 #ProgressBar"),{drawSVG:Math.round(n)+"%"}),s.set(this.$el.find("#thermometer-2 #ProgressBar"),{drawSVG:100-Math.round(n)+"%"}),s.set(this.$el.find("#thermometer-2 #arrow"),{y:167-2.45*Math.round(n)+"px"}),s.set(this.$el.find("#thermometer-2 #thermometerValue"),{y:167-2.45*Math.round(n)+"px"}),s.set(this.$el.find("#thermometer-3 #ProgressBar"),{drawSVG:"50% "+(n/2+50)+"%"}),s.set(this.$el.find("#thermometer-3 #ProgressBarBg"),{drawSVG:n/2+50+"% 100%"});var o=this.model.get("percentValue")?this.model.get("value")+"%":this.model.get("value");this.$el.find("#thermometerValue").text(o),this.$el.find("#MeasurementMin").text(this.model.get("rangeValue")[0]),this.$el.find("#MeasurementMax").text(this.model.get("rangeValue")[1]),this.$el.find("#thermometerValue").text(this.model.get("percentValue")?Math.round(n)+"%":this.model.get("value"))},setColors:function(){s.set(this.$el.find("#thermometer-1 #Background"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#thermometer-1 #ProgressBarBg"),{fill:this.model.get("colors")[1]}),s.set(this.$el.find("#thermometer-1 #ProgressBar"),{stroke:this.model.get("colors")[2]}),s.set(this.$el.find("#thermometer-2 #arrow"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#thermometer-2 #Background"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#thermometer-2 #ProgressBarBg"),{fill:this.model.get("colors")[1]}),s.set(this.$el.find("#thermometer-2 #ProgressBar"),{stroke:this.model.get("colors")[1]}),s.set(this.$el.find("#thermometer-3 #Background"),{fill:this.model.get("colors")[0]}),s.set(this.$el.find("#thermometer-3 #ProgressBarBg"),{stroke:this.model.get("colors")[1]}),s.set(this.$el.find("#thermometer-3 #ProgressBar"),{stroke:this.model.get("colors")[2]}),s.set(this.$el.find("#ProgressBarTank"),{fill:this.model.get("colors")[2],stroke:this.model.get("colors")[2]})},setTextColor:function(){s.set(this.$el.find("#thermometerValue"),{fill:this.model.get("textColor")})}})},{"../../objectView.js":76,TweenMax:"TweenMax",underscore:52}],120:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),s=o.extend(n.extend({},{initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["controls","autoplay","loop","mute","thumbnail","provider","videoLink","videoid"]),this.activeMenuItem=null,this.propertyMenuItems=this.propertyMenuItems.concat(".btn-settings"),this.subMenu=n.extend({},o.prototype.subMenu)},useVideoTemplate:function(){this.set("type","video")},useThumbTemplate:function(){this.set("type","video-thumb")},defaults:{type:"video-thumb",controls:!0,autoplay:!1,loop:!1,mute:!1,thumbnail:".images/video_placeholder.jpg",videoLink:"",provider:"",videoid:"",src:"",width:500,height:300},getVideoId:function(){}}));n.defaults(s.prototype.defaults,o.prototype.defaults),t.exports=s},{"./../../objectModel.js":75,underscore:52}],121:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),s=o.extend({youtubeSrc:"https://www.youtube.com/embed/",vimeoSrc:"https://player.vimeo.com/video/",args:"{videoid}?{startTime}&controls={controls}&loop={loop}&mute={mute}&enablejsapi=1",vimeoVideoTemplate:"#vimeo-video",youtubeVideoTemplate:"#youtube-video",vismeVideoTemplate:"#visme-video",thumbnailTemplate:"#video-thumb",initialize:function(){this.template=this.getTemplate(),this.model.attributes.src=this.generateSrc(),this._super(),this.player=this.$el.find("video")[0],n.bindAll(this,"stop","play","setVolume","setupVimeoAPI","setVimeoVideo"),app.bind("slide:transitionTo",this.stop),!this.model.get("autoplay")||!n.isUndefined(app.settings.get("presentation_mode"))&&app.settings.get("presentation_mode")||app.bind("timeline:play timeline:no-animations-play",this.play),app.settings.bind("change:mute",this.setVolume)},isActiveSlide:function(){return this.$el.closest(".stage").attr("id")===$(".stage")[app.views.slidesView.currentSlideIndex].id},afterRender:function(){if("publish"===app.settings.get("editMode"))if("youtube"===this.model.get("provider"))this.setupYoutubeAPI();else if("vimeo"===this.model.get("provider"))this.setupVimeoAPI();else if("visme"===this.model.get("provider")||"vismeold"===this.model.get("provider")){this.$el.find("video").get(0).pause(),this.$el.find("video").get(0).mute=!0,this.$el.find("video").get(0).addEventListener("ended",function(){app.trigger("video:ended")},!1);var e=this.model.get("startTime");if(e){var t=60*e.minute+e.second;this.$el.find("video").get(0).addEventListener("loadedmetadata",function(){t>this.duration?this.currentTime=this.duration:this.currentTime=t},!1)}this.$el.on("click","video",function(e){var t=e.pageY-$(this).offset().top,i=parseFloat($(this).height());return t>.92*i?void 0:(this.paused?this.play():this.pause(),!1)})}this._super()},setupYoutubeAPI:function(){if(!$("#youtube-api-script").length){var e=document.createElement("script");$(e).attr("id","youtube-api-script"),e.src="//www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=function(){window.players={};for(var e=function(e){console.log("state changed : "+e.data),e.data===YT.PlayerState.ENDED&&app.trigger("video:ended",app.views.slidesView.currentSlideIndex)},t=function(e){$(e.target.getIframe()).hasClass("muted")?e.target.mute():e.target.unMute()},i=0;i<$(".ytplayer").length;i++){var o=$(".ytplayer")[i].id.replace("ytvel",""),s={};s[o]=new YT.Player($(".ytplayer")[i].id,{events:{onReady:t,onStateChange:e}}),n.extend(window.players,s)}}}},setupVimeoAPI:function(){if(n.isUndefined(window.Vimeo)?this.listenTo(app,"vimeo:api-script-loaded",this.setVimeoVideo):this.setVimeoVideo(),!$("#vimeo-api-script").length){var e=document.createElement("script");$(e).attr("id","vimeo-api-script");var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),e.onload=function(){app.trigger("vimeo:api-script-loaded")}.bind(this),e.src="//player.vimeo.com/api/player.js"}},setVimeoVideo:function(){var e=this.$el.find("iframe");this.player=new Vimeo.Player(e[0]),this.player.ready().then(function(){t(),this.player.on("finish",i),this.model.get("loop")&&this.player.setLoop(!0)["catch"](function(e){})}.bind(this));var t=function(){this.player.pause(),this.model.get("mute")&&this.player.setVolume(0)["catch"](function(e){switch(e.name){case"RangeError":}})}.bind(this),i=function(){this.isActiveSlide()&&app.trigger("video:ended",app.views.slidesView.currentSlideIndex)}.bind(this)},dblclick:function(){app.trigger("videoPopup:show",this.model)},generateSrc:function(){var e=""+this.args,t=this.model.get("startTime"),i=0;if("youtube"===this.model.get("provider"))e=this.youtubeSrc+e,this.model.get("loop")&&(e+="&playlist="+this.model.get("videoid")),i=n.isUndefined(t)?0:60*t.minute+t.second,e=e.replace("{startTime}","start="+i),e+="&rel=0";else if("vimeo"===this.model.get("provider"))e=this.vimeoSrc+e,t?(i=t.minute+"m"+t.second+"s",e=e.replace("?{startTime}&","#t="+i+"?")):e=e.replace("{startTime}&",""),e=e.replace("enablejsapi","api"),e=e.replace("controls={controls}&",""),e=e.replace("mute={mute}&",""),e=e+"&player_id=vplayer_"+this.model.get("id");else{if("vismeold"===this.model.get("provider")){var o="//ec2-50-17-186-69.compute-1.amazonaws.com/getvideo.php?id=";return e=-1!==this.model.get("src").indexOf("ec")?this.model.get("src"):o+this.model.get("link.target")+"&t=v&f=.mp4"}e=e.replace("{startTime}&","")}return n.each(["videoid","controls","loop","mute"],function(t){var i="";i="videoid"===t?this.model.get(t):this.model.get(t)?"1":"0",e=e.replace("{"+t+"}",i)},this),e},updateHeight:function(){var e=this.$el.find("img, iframe");e.attr("height",this.model.get("height")),e.attr("width",this.model.get("width")),e.css({height:this.model.get("height"),width:this.model.get("width")})},update:function(e,t){(n.has(this.model.changed,"height")||n.has(this.model.changed,"width"))&&this.updateHeight(),n.has(this.model.changed,"thumbnail")&&this.$el.find("img").attr("src",this.model.changed.thumbnail),this._super(e,t)},getTemplate:function(){var e=app.settings.get("editMode"),t=this.thumbnailTemplate;return"publish"===e&&"Download"!==app.settings.get("project_type")&&("youtube"===this.model.get("provider")?t=this.youtubeVideoTemplate:"vimeo"===this.model.get("provider")?t=this.vimeoVideoTemplate:"visme"===this.model.get("provider")?t=this.vismeVideoTemplate:"vismeold"===this.model.get("provider")&&(t=this.vismeVideoTemplate)),t},stop:function(e){if($("#"+this.model.get("id")).parents(".stage").attr("id")!==e.model.get("id"))if("youtube"===this.model.get("provider")){var t=this.model.get("id"),i=$("#"+t).find(".ytplayer")[0];$(i).length&&i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else if("vimeo"===this.model.get("provider")){var n=this.model.get("id"),o=$("#"+n).find(".vplayer")[0];o.contentWindow.postMessage('{"method":"pause","value":""}',"*")}else $("#"+this.model.get("id")).find("video").length&&$("#"+this.model.get("id")).find("video").get(0).pause()},setVolume:function(){var e=app.settings.get("mute"),t=0;if("youtube"===this.model.get("provider")){var i=this.model.get("id"),n=$("#"+i).find(".ytplayer")[0];e?n.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"*"):n.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*")}else if("vimeo"===this.model.get("provider")){e||(t=1);var o=this.model.get("id"),s=$("#"+o);s.find("iframe")[0].contentWindow.postMessage('{"method":"setVolume","value":'+t+"}","*")}else e||(t=1),$("#"+this.model.get("id")).find("video").length&&($("#"+this.model.get("id")).find("video").get(0).volume=t)},play:function(e){if(this.isActiveSlide()&&$("#"+this.model.get("id")).parents(".stage").attr("id")===e.get("id"))if("youtube"===this.model.get("provider")){var t=this.model.get("id"),i=$("#"+t).find(".ytplayer")[0];i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else"vimeo"===this.model.get("provider")?$("#"+this.model.get("id")).find("iframe")[0].contentWindow.postMessage('{"method":"play","value":""}',"*"):$("#"+this.model.get("id")).find("video").get(0).play()}});n.defaults(s.prototype.events,o.prototype.events),t.exports=s},{"../../objectView.js":76,underscore:52}],122:[function(e,t,i){var n=e("TweenMax");t.exports=function(e,t){var i=1,o=e.get("animation.enter.delay"),s=0,r=0,a=10;switch(e.get("animation.enter.name")){case"Fly from Left":s=Math.abs(e.get("height")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("width")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{x:-(e.get("width")+s)/2-a}),t.to($("#content #"+e.get("id")),i,{x:e.get("x")},o);break;case"Fly from Right":s=Math.abs(e.get("height")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("width")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{x:app.settings.get("slideWidth")+(s-e.get("width"))/2+a}),t.to($("#content #"+e.get("id")),i,{x:e.get("x")},o);break;case"Fly from Top":r=Math.abs(e.get("width")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("height")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{y:-(e.get("height")+r)/2-a}),t.to($("#content #"+e.get("id")),i,{y:e.get("y")},o);break;case"Fly from Bottom":r=Math.abs(e.get("width")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("height")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{y:app.settings.get("slideHeight")+(r-e.get("height"))/2+a}),t.to($("#content #"+e.get("id")),i,{y:e.get("y")},o);break;case"Fade In":n.set($("#content #"+e.get("id")),{opacity:0}),t.to($("#content #"+e.get("id")),i,{opacity:e.get("opacity")/100},o);break;case"Pop Out":n.set($("#content #"+e.get("id")),{scale:[0,0]}),t.to($("#content #"+e.get("id")),i,{scale:[1,1]},o);break;case"Custom animation":app.trigger("error","old animation detected");break;case"None":0!==o&&(n.set($("#content #"+e.get("id")),{css:{opacity:0}}),t.to($("#content #"+e.get("id")),.1,{css:{opacity:e.get("opacity")/100}},o));break;default:if(o>=0){var l=function(){};"audio"===e.get("type")&&(l=function(){e.set("state","play")}),t.to($("#content #"+e.get("id")),.1,{},o).call(l)}}}},{TweenMax:"TweenMax"}],123:[function(e,t,i){t.exports=function(){function e(e,t){var i,n=Number(e.get("animation.enter.delay"));console.log($("#"+e.get("id")).find("audio")[0].readyState),$("#"+e.get("id")).find("audio")[0].readyState>=3||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?(i=n+$("#"+e.get("id")).find("audio")[0].duration,t.to($("#content #"+e.get("id")),0,{x:-e.get("width")},i),$("#"+e.get("id")).closest(".stage").trigger("timeline:ready"),t.ready=!0):(t.ready=!1,e.bind("oncanplay",function(){console.log($("#"+e.get("id")).find("audio")[0].readyState),i=n+$("#"+e.get("id")).find("audio")[0].duration,t.to($("#content #"+e.get("id")),0,{x:-e.get("width")},i),e.unbind("oncanplay"),$("#"+e.get("id")).closest(".stage").trigger("timeline:ready"),t.ready=!0}))}return{setUp:function(t,i){var n="audio"===t.get("type")?0:1,o=0,s=Number(t.get("animation.enter.delay"));"audio"===t.get("type")?t.get("loop")?o=s+216e3:e(t,i):o=s+Number(t.get("animation.exit.delay")),"audio"!==t.get("type")&&(o=Number(t.get("animation.enter.delay"))+1+Number(t.get("animation.exit.delay")));var r="audio"===t.get("type")?"Fly to Left":t.get("animation.exit.name");switch(r){case"Fly to Left":i.to($("#content #"+t.get("id")),n,{x:-t.get("width")},o);break;case"Fly to Right":i.to($("#content #"+t.get("id")),n,{x:app.settings.get("slideWidth")},o);break;case"Fly to Top":i.to($("#content #"+t.get("id")),n,{y:-t.get("height")},o);break;case"Fly to Bottom":i.to($("#content #"+t.get("id")),n,{y:app.settings.get("slideHeight")},o);break;case"Fade Out":i.to($("#content #"+t.get("id")),n,{css:{opacity:0}},o);break;case"Pop Away":i.to($("#content #"+t.get("id")),n,{scale:[0,0]},o)}}}}()},{}],124:[function(e,t,i){t.exports=function(e,t){function i(e){var t=$("<div></div>"),n=e.contents().clone();return n.each(function(){if(3===this.nodeType){for(var e="",n=this.wholeText,o=0;o<n.length;o++)e+=" "===n[o]?"<span>&nbsp;</span>":"<span class='letter'>"+n[o]+"</span>";t.append($(e))}else $(this).html(i($(this))),t.append($(this))}),t.html()}var n=e.get("animation.enter.delay")+1;$("#content #"+e.get("id")+" .vm-text").html(i($("#content #"+e.get("id")+" .vm-text")));var o=$("#content #"+e.get("id")+" .vm-text .letter");switch(e.set("width",e.get("width")+1),e.get("textEffect")){case"wave":t.staggerFrom(o,.48,{alpha:0},.06,n),t.staggerFrom(o,.96,{rotationY:"-270deg",top:60,transformOrigin:"50% 50% -80",ease:"Back.easeOut"},.06,n);break;case"impact":o.css("opacity",0),t.to(o,0,{scale:[3,3],rotationY:"-270deg",opacity:0},n),t.staggerTo(o,1,{scale:[1,1],rotationY:0,opacity:1,ease:"Back.easeOut"},.06,n);break;case"typewriter":o.css("opacity",0),t.set(o,{top:-5,opacity:0},0),t.staggerTo(o,.2,{top:0,opacity:1,ease:"Back.easeOut"},.06,n)}}},{}],125:[function(e,t,i){var n=e("underscore");t.exports=function(e,t){e.tweenAnimParam1=0,e.set("animParam1",0);var i=0;e.get("animation.enter.delay")&&(i=e.get("animation.enter.delay")+1),n.isUndefined(e.get("arrParam"))?t.fromTo(e,1,{tweenAnimParam1:0},{tweenAnimParam1:e.get("param1"),onUpdateParams:["{self}","tweenAnimParam1"],onUpdate:function(e){e.target.set("animParam1",Number(e.target.tweenAnimParam1))},ease:"Bounce.easeOut"},i):(e.tweenArrParam=0,e.set("arrParam",0),t.fromTo(e,1,{tweenArrParam:0},{tweenArrParam:e.get("param1"),onUpdateParams:["{self}","tweenArrParam"],onUpdate:function(e){e.target.set("arrParam",Number(e.target.tweenArrParam))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param2"))||(e.tweenAnimParam2=0,e.set("animParam2",0),t.fromTo(e,1,{tweenAnimParam2:0},{tweenAnimParam2:e.get("param2"),onUpdateParams:["{self}","tweenAnimParam2"],onUpdate:function(e){e.target.set("animParam2",Number(e.target.tweenAnimParam2))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param2"))||(e.tweenAnimParam2=0,e.set("animParam2",0),t.fromTo(e,1,{tweenAnimParam2:0},{tweenAnimParam2:e.get("param2"),onUpdateParams:["{self}","tweenAnimParam2"],onUpdate:function(e){e.target.set("animParam2",Number(e.target.tweenAnimParam2))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param3"))||(e.tweenAnimParam3=0,e.set("animParam3",0),t.fromTo(e,1,{tweenAnimParam3:0},{tweenAnimParam3:e.get("param3"),onUpdateParams:["{self}","tweenAnimParam3"],onUpdate:function(e){e.target.set("animParam3",Number(e.target.tweenAnimParam3))},ease:"Bounce.easeOut"},i))}},{underscore:52}],126:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("./../../helpers/gradient.js"),r=e("./../../helpers/fontLoader.js"),a=e("perfect-scrollbar"),l=e("TweenMax");t.exports=n.View.extend(o.extend({},{el:"#content",resizeTimeout:!1,footerTimeout:!1,hideFooter:function(){this.footerTimeout||(this.footerTimeout=setTimeout(function(){this.$controls.fadeOut("fast"),this.footerTimeout=!1}.bind(this),800))},toggleControls:function(){(this.isFullScreenMode()||this.isEmbedded())&&this.hideFooter()},showFooter:function(){this.footerTimeout&&(clearTimeout(this.footerTimeout),this.footerTimeout=!1),this.$controls.is(":visible")||this.$controls.fadeIn()},renderCustomBackground:function(e){if(o.isEmpty(e.value)||-1!==e.value.indexOf("background")||(e=JSON.parse(e.value)),!o.isNull(e.type)&&"gradient"===e.type){var t=$("#wrapper").width(),i=$("#wrapper").height(),n=document.createElement("canvas");$(n).css({width:t,height:i}),$(n).attr({width:t,height:i}),s(n,t,i,e.value);var r=n.toDataURL();$("body").css("background","url("+r+")")}},initialize:function(){o.bindAll(this,"windowResize","hideFooter","iFrameMessage","bindMobileEvent","bindWindowResize","setPreNotes","startPreTimer"),this.$footer=$(".bottom-controls"),this.$controls=$(".bottom-controls").find("#controls-container");var e=this;this.$footer.bind("mouseenter",function(){e.showFooter()}),this.$footer.bind("mouseleave",function(){e.toggleControls()}),this.removeBrand(),this.windowResize(),this.isEmbedded()&&this.hideFooter(),this.isMobile()?this.bindMobileEvent():this.bindWindowResize(),this.isPreNotes()&&this.setPresenterMode(),setTimeout(function(){$(document).width()>$(window).width()&&this.windowResize()}.bind(this),500)},setPresenterMode:function(){app.bind("slide:transitionTo",this.setPreNotes),this.listenTo(app,"timeline:play",this.startPreTimer),this.listenTo(app,"timeline:no-animations-play",this.startPreTimer),$(".presentation_water").hide(),this.$el.css("overflow","hidden"),$(".bottom-controls").addClass("pre-notes-on"),a.initialize($(".pre-notes-content-container").get(0)),$(".pre-notes-content-container").mouseenter(function(){a.update($(".pre-notes-content-container").get(0))}.bind(this)),this.setRealTime(),$(".pause-clock").click(function(e){this.pauseResumeClock(e)}.bind(this)),$(".reset-clock").click(function(e){this.resetClock(e)}.bind(this)),$(".smaller-text").click(function(e){this.decreaseNotesSize(e)}.bind(this)),$(".larger-text").click(function(e){this.increaseNotesSize(e)}.bind(this))},noteTextProportion:1,DECREASE_PROPORTION:.8,INCREASE_PROPORTION:1.2,decreaseNotesSize:function(e){this.noteTextProportion*=this.DECREASE_PROPORTION,this.changeNotesTextSize(this.DECREASE_PROPORTION)},increaseNotesSize:function(e){this.noteTextProportion*=this.INCREASE_PROPORTION,this.changeNotesTextSize(this.INCREASE_PROPORTION)},changeNotesTextSize:function(e){var t=$(".pre-notes-content").html();if(!(t.length<1)){$(".pre-notes-content").find(".pre-note-fontsize").length<1&&$(".pre-notes-content").html('<div class="pre-note-fontsize">'+t+"</div>");var i=$(".pre-notes-content").children().css("font-size");$(".pre-notes-content").children().css("font-size",i);for(var n=$(".pre-notes-content").html(),o=n.match(/font-size:((\s?)\d+(\.\d+)?)px/),s="";o;){var r=o[0],a=o[1],l=n.indexOf(o[0]);s+=n.substr(0,l),s+=r.replace(a,parseFloat(a*e).toFixed(2)),n=n.substr(l+o[0].length),o=n.match(/font-size:((\s?)\d+(\.\d+)?)px/)}s+=n,$(".pre-notes-content").html(s)}},setPreNotes:function(e){var t=e.index,i=e.model;if($(".next-slide-preview").remove(),this.$el.find(".total-slide-number").html(this.$el.find(".stage").length),this.$el.find(".current-slide-index").html(t+1),this.$el.find(".stage").length>t){var n=i.get("presentationNotes.text");n?($(".pre-notes-content").html(i.get("presentationNotes.text")),this.changeNotesTextSize(this.noteTextProportion),this.loadNoteFonts()):$(".pre-notes-content").html("")}this.$el.find(".stage").length>t+1?(!o.isUndefined(e.initLoading)&&e.initLoading?setTimeout(function(){this.appendNextSlidePreview(t),this.removePreviewAnim(t)}.bind(this),500):(this.appendNextSlidePreview(t),this.removePreviewAnim(t)),$(".end-presentation").hide(),$(".next-slide-text").show()):($(".end-presentation").show(),$(".next-slide-text").hide()),!o.isUndefined(e.initLoading)&&e.initLoading||window.opener.crossWindowOperation({type:"navigateSlide",data:e})},appendNextSlidePreview:function(e){var t=this.$el.find(".stage").eq(++e);this.$el.find(".next-slide-index").html(e+1);var i=t.clone();i.addClass("next-slide-preview");var n=i.attr("id");i.attr("id","preview-"+n),o.each(i.find(".el"),function(e){var t=$(e).attr("id");$(e).attr("id","preview-"+t)}),i.find("iframe").length>0&&o.each(i.find("video"),function(e){e.pause()}),$("#content").append(i)},removePreviewAnim:function(e){var t=this.$el.find(".next-slide-preview"),i=app.collections.slides.models[++e],n=i.objectCollection.models;o.each(n,function(e){l.set(t.find("#preview-"+e.get("id")),{x:e.get("x"),y:e.get("y"),opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity"),rotation:o.isUndefined(e.get("rotation"))?0:e.get("rotation")}),o.isUndefined(e.get("textEffect"))||l.set(t.find("#preview-"+e.get("id")),{opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity")})})},loadNoteFonts:function(){var e=[];$($(".pre-notes-content").html()).find("font[face]").each(function(){$.inArray($(this).attr("face"),e)<0&&e.push($(this).attr("face"))}),o.each(e,function(e){r.add(e)},this)},setRealTime:function(){var e=function(){var e=new Date,t=e.getHours(),i=e.getMinutes(),n=e.getSeconds(),o="";12>t?o="AM":(t-=12,o="PM"),10>n&&(n="0"+parseInt(n)),10>i&&(i="0"+parseInt(i)),10>t&&(t="0"+parseInt(t)),$(".realtime-hour").html(t),$(".realtime-minute").html(i),$(".realtime-second").html(n),$(".realtime-period").html(o)};this.realTimer=setInterval(function(){e()},500)},startPreTimer:function(){if(!this.timerClock){var e=$(".timer-second").html(),t=$(".timer-minute").html(),i=$(".timer-hour").html();this.timerClock=setInterval(function(){e=parseInt(e)+1,e%60===0&&(e=0,t=parseInt(t)+1,t%60===0&&(t=0,i=parseInt(i)+1)),10>e&&(e="0"+parseInt(e)),10>t&&(t="0"+parseInt(t)),10>i&&(i="0"+parseInt(i)),$(".timer-hour").html(i),$(".timer-minute").html(t),$(".timer-second").html(e)},1e3)}},pauseResumeClock:function(e){$(e.target).hasClass("paused")?(this.startPreTimer(),$(e.target).removeClass("paused"),$(e.target).html("Pause")):($(e.target).addClass("paused"),clearInterval(this.timerClock),this.timerClock=!1,$(e.target).html("Resume"))},resetClock:function(e){$(".timer-hour").html("00"),$(".timer-minute").html("00"),$(".timer-second").html("00"),clearInterval(this.timerClock),this.timerClock=!1,this.startPreTimer()},bindMobileEvent:function(){$(window).on("orientationchange",function(e){setTimeout(function(){this.windowResize()}.bind(this),500)}.bind(this)),this.isEmbedded()&&app.bind("iframe-message",this.iFrameMessage)},bindWindowResize:function(){$(window).resize(function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.windowResize()}.bind(this),300)}.bind(this))},iFrameMessage:function(e){console.log(e),o.isUndefined(e)||"embed-iframe"===e.type&&(this.iFrameWidth=e.width,this.iFrameHeight=e.height)},removeBrand:function(){o.contains(app.settings.get("permissions"),"player:watermarkRemoveBranding")&&$(".bottom-controls").find("#logosmall").hide()},isFullScreenMode:function(){return!o.isUndefined(app.settings.get("fullscreen"))&&app.settings.get("fullscreen")},isResponsive:function(){return!o.isUndefined(app.settings.get("is_responsive"))&&app.settings.get("is_responsive")},isEmbedded:function(){return!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")},isPreview:function(){return!o.isUndefined(app.settings.get("mode"))&&"preview"===app.settings.get("mode")},isMobile:function(){return!o.isUndefined(app.settings.get("is_mobile"))&&app.settings.get("is_mobile")},isPreNotes:function(){return"presentation"===app.settings.get("project_type")&&!o.isUndefined(app.settings.get("presentation_mode"))&&1===app.settings.get("presentation_mode")},ratioThreshold:1.8,windowResize:function(){var e=this.isResponsive(),t=this.isFullScreenMode(),i=app.settings.get("type"),n=this.isEmbedded(),o=this.isPreview(),s=this.isMobile(),r=Number(app.settings.get("slideWidth")),a=Number(app.settings.get("slideHeight")),d=0,h=app.settings.get("project_type"),c=this.isPreNotes();if("render"===app.settings.get("mode"))"plain"===i?this.$el.css({width:r,height:a*app.settings.get("slidesData").length}):this.$el.css({width:r,height:a});else{var u=$("#slide-panel").find(".slide_zone"),p=u.width(),g=u.height(),f=Math.min(p/r,g/a);l.set($("#slide-panel").find("section"),{scaleX:f,scaleY:f,y:-(a*f)/2,transformOrigin:"0% 0%"});var m,v,b,y,w=$(".bottom-controls").height(),T=$("#logos").is(":visible")?Number($("#logos").height()):0;if(c&&!n){$(".presentation-notes").css("height",Math.max(250,.4*($(window).height()-70))+"px");var x=$(".presentation-clock").is(":visible")?Number($(".presentation-clock").height()):0,k=$(".presentation-notes").is(":visible")?Number($(".presentation-notes").height()):0,S=Math.min($(window).width()/1500*30,30);if($(".slide-index-text").css("font-size",S+"px"),b=Number($(window).height())-T-w-x-k,y=(b-2*$(".current-slide-div").height())/a,y*r<.55*$(window).width())m=y,$(".current-slide-div").css("margin-top",0),$(".next-slide-div").css("margin-top",m*a*.175+"px");else{m=.55*$(window).width()/r;var P=(b-m*a)/2-$(".slide-index-text").height();$(".current-slide-div").css({"margin-top":P});var j=P+m*a*.175;$(".next-slide-div").css({"margin-top":j})}$(".current-slide-div").css({width:m*r,"margin-left":-m*r/2}),$(".next-slide-div").css({width:m*r*.65,"margin-left":-m*r*.65/2}),this.$el.css({width:$(window).width(),height:b+w}),l.to($(".stage"),.5,{position:"absolute",scaleX:m,scaleY:m,left:"30%",top:b/2})}else if(t){m=$(window).width()/r;var C=m*a;v=a/r,v<this.ratioThreshold&&"infographic"!==h?(d=$(window).height(),m=C>d?d/a:$(window).width()/r):d=C,setTimeout(function(){l.set($("#content"),{css:{height:d,width:$(window).width()}})},0),l.to($(".stage"),.5,{position:"absolute",scaleX:m,scaleY:m,left:"50%",top:"50%"}),this.$controls.fadeOut("fast")}else if(n){var M=this;if("infographic"===h){var I=this.iFrameHeight?this.iFrameHeight:$(window).height();I>2e3&&($(".player-loading-overlay .sk-cube-grid").css("top","500px"),$(".player-loading-overlay span").css("top","500px"))}setTimeout(function(){$("body").css("overflow","hidden"),s&&M.iFrameWidth&&M.iFrameHeight?(M.$el.css({width:M.iFrameWidth,height:M.iFrameHeight}),m=parseInt(M.iFrameWidth)/r,M.iFrameWidth=null,M.iFrameHeight=null):(M.$el.css({width:Math.min($(document).width(),$(window).width()),height:$(window).height()}),m=Math.min($(document).width(),$(window).width())/r),l.to($(".stage"),.5,{position:"absolute",scaleX:m,scaleY:m,left:"50%",top:"50%"})},500)}else e&&!o||s||c?(v=a/r,w||(w=20),b=Number($(window).height())-T-w,y=b/a,v<this.ratioThreshold&&"infographic"!==h?(m=y*r<.9*$(window).width()?y:.9*$(window).width()/r,this.$el.css({width:$(window).width(),height:b+w}),l.to($(".stage"),.5,{position:"absolute",scaleX:m,scaleY:m,left:"50%",top:b/2})):(m=.9*$(window).width()/r,d=a*m,this.$el.css({width:$(window).width(),height:d+w}),l.to($(".stage"),0,{position:"absolute",scaleX:m,scaleY:m,left:"50%",top:a*m/2}))):(d=a>$(window).height()-w-T?a+w:$(window).height()-T,this.$el.css({width:Math.max($(window).width(),r),height:d}),l.to($(".stage"),.5,{scaleX:1,scaleY:1,marginLeft:-(r/2),marginTop:-((a+w)/2)}));$("#profile-content").css("width",Math.min($(window).width()-100,1e3)),$(".publ_h2, .pname").css("width",Math.min($(window).width()-200,900)),$("#disqus_thread").css("width",Math.min($(window).width()-100,1e3))}this.renderCustomBackground({value:app.settings.get("background")})}}))},{"./../../helpers/fontLoader.js":56,"./../../helpers/gradient.js":57,TweenMax:"TweenMax",backbone:"backbone","perfect-scrollbar":31,underscore:52}],127:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("./fullscreen.js");t.exports=n.View.extend(o.extend({},{el:"#controls",inactiveClass:"inactive",autotransitionTimeout:!1,events:{"click #next-slide":"nextClick","click #prev-slide":"prevClick","click #play":"playClick","click #fullscreen":"fullScreenClick","click #sound":"soundClick","click #download":"downloadClick","click #btn-presentation-notes":"openPreNotes"},initialize:function(){this.$currentSlide=this.$el.find("span:eq(0)"),this.$slidesConter=this.$el.find("span:eq(1)"),this.$nextButton=this.$el.find("#next-slide"),this.$prevButton=this.$el.find("#prev-slide"),this.$playButton=this.$el.find("#play"),o.bindAll(this,"setSlidesCounter","setCurrentSlide","playStarted","playPaused","updateProgressBar","toggleFullScreen","proceedAutoadvance","keyPress","bindClickTransition","unbindClickTransition","touchstart","touchend","touchmove","playOverlayClick"),app.bind("slide:transitionTo",this.setCurrentSlide),app.bind("slides:rendered",this.setSlidesCounter),app.bind("timeline:play backgroundMusic:play",this.playStarted),app.bind("timeline:pause",this.playPaused),app.bind("timeline:progress",this.updateProgressBar),app.bind("slide:complete-animations",this.proceedAutoadvance),this.$timelineSlider=$("#timeline"),this.$timelineSlider.slider({value:0,min:0,animate:!0,max:1,step:.01,range:"min",slide:function(e,t){app.trigger("timeline:set-progress",t.value)}}),$("#play-overlay").length&&$("#play-overlay").bind("click",this.playOverlayClick),s.init(this.toggleFullScreen),this.bmusicView=null,this.bmusicModel=null;var e=app.settings.get("background_music");if(e&&"number"!=typeof e){var t=e.indexOf("audio")>-1?app.settings.get("assetsStorage"):app.settings.get("audioStorage");app.settings.get("Html5Download")&&e.indexOf("audio")>-1&&(t="https://dh7fnycu2r4y5.cloudfront.net/");var i=app.settings.get("background_music_volume"),n=o.isUndefined(i)||null===i?100:parseInt(app.settings.get("background_music_volume"));this.bmusicModel=new app.models.objects.audio({name:"Background Music",loop:0!==parseInt(app.settings.get("is_loop_background_music")),hash:e,volume:n,is_bmusic:!0,audioStorage:t}),this.bmusicView=new app.views.objects.audio({model:this.bmusicModel})}$(document).on("keydown",this.keyPress),$(document).on("touchstart",this.touchstart),$(document).on("touchend",this.touchend),$(document).on("touchmove",this.touchmove),"embed"===app.settings.get("mode")&&this.$el.find("#btn-presentation-notes").hide()},swipeX:0,swipeY:0,swipeThreshold:150,
swipeAllowedTime:250,swipeStartTime:0,touchstart:function(e){var t=e.originalEvent.changedTouches[0];this.swipeX=t.pageX,this.swipeY=t.pageY,this.swipeStartTime=(new Date).getTime()},touchend:function(e){var t=e.originalEvent.changedTouches[0],i=Math.abs(t.pageX-this.swipeX),n=(new Date).getTime()-this.swipeStartTime,o=n<=this.swipeAllowedTime,s=i>=this.swipeThreshold,r=Math.abs(t.pageY-this.swipeY)<=100,a=this.swipeX>t.pageX;o&&r&&s&&(a?this.nextClick():this.prevClick())},touchmove:function(e){return!0},keyPress:function(e){switch(e.which){case 37:case 33:return clearTimeout(this.autotransitionTimeout),app.trigger("slide:prev"),!1;case 39:case 34:return clearTimeout(this.autotransitionTimeout),app.trigger("slide:next"),!1;case 190:return this.toggleContentVisibility(e),!1;case 27:return 1===app.settings.get("presentation_mode")?window.close():this.playClick(),!1}},toggleContentVisibility:function(e){0===$("input:focus").length&&("hidden"!==$("#content").css("visibility")?$("#content").css("visibility","hidden"):$("#content").css("visibility","visible"))},isLastSlide:function(){return $("#next-slide").hasClass("inactive")},proceedAutoadvance:function(e){if(app.settings.get("auto_advance")&&!this.autotransitionTimeout&&!$("#play-overlay").length)if("timer"===e.get("transition.type")){var t=parseFloat(e.get("transition.duration"));this.isLastSlide()&&"0"!==app.settings.get("loop_presentation")&&(t+=parseFloat(app.settings.get("loop_presentation"))),this.autotransitionTimeout=setTimeout(function(){app.trigger("slide:next"),this.autotransitionTimeout=!1}.bind(this),1e3*t)}else e.get("transition.type")||(this.autotransitionTimeout=setTimeout(function(){app.trigger("slide:next"),this.autotransitionTimeout=!1}.bind(this),1e3*app.settings.get("loop_presentation")))},playOverlayClick:function(){$("#play-overlay").remove(),app.trigger("timeline:set-play"),this.bmusicModel&&this.bmusicModel.set("state","play")},toggleFullScreen:function(e){app.settings.set("fullscreen",e),e||($(".ui-standard-el").show(),$(".at4-share-outer").show())},fullScreenClick:function(){app.settings.get("fullscreen")?(s.exit(),$("#wrapper").removeClass("fullscreen")):($(".ui-standard-el").hide(),$(".at4-share-outer").hide(),$("#wrapper").addClass("fullscreen"),s.enter())},playClick:function(){$("#play").hasClass("pause-mode")?app.trigger("timeline:set-pause","pauseClicked"):app.trigger("timeline:set-play")},downloadClick:function(){return app.trigger("player-download:show"),!1},playStarted:function(e){"bgmusic"!==e&&this.$playButton.addClass("pause-mode"),o.isNull(this.bmusicModel)||"play"===this.bmusicModel.get("state")||this.playBMusic()},playBMusic:function(){$("body").children("#"+this.bmusicModel.get("id")).find("audio")[0].readyState>=3||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?this.bmusicModel.set("state","play"):this.bmusicModel.bind("oncanplay",function(){this.set("state","play")})},updateProgressBar:function(e){this.$timelineSlider.slider("value",e),this.updateViewedProgress(),1===e&&this.setViewedInterval()},updateViewedProgress:function(){if($("#time-viewed").length>0&&$(".ui-slider-handle").length>0){var e=$("#time-viewed"),t=Math.ceil($(".ui-slider-handle").offset().left-e.offset().left);e.css("width",Math.min(100*t/$(".timeline-container").width(),96)+"%")}},setViewedInterval:function(){window.viewedInterval||(window.viewedInterval=setInterval(this.updateViewedProgress,50),setTimeout(this.removeViewedInterval,5e3))},removeViewedInterval:function(){clearInterval(window.viewedInterval),delete window.viewedInterval},playPaused:function(e){this.setViewedInterval(),o.isNull(this.bmusicModel)&&this.$playButton.removeClass("pause-mode"),o.isNull(this.bmusicModel)||"play"!==this.bmusicModel.get("state")||(this.$playButton.removeClass("pause-mode"),"pauseClicked"===e&&this.bmusicModel.set("state","pause"))},setSlidesCounter:function(e){this.maxSlides=e.length,this.$slidesConter.text(this.maxSlides)},setCurrentSlide:function(e){0===e.index?this.$prevButton.addClass(this.inactiveClass):this.$prevButton.removeClass(this.inactiveClass),e.index+1===this.maxSlides?this.$nextButton.addClass(this.inactiveClass):this.$nextButton.removeClass(this.inactiveClass),this.$currentSlide.text(e.index+1),this.unbindClickTransition(),"onclick"===e.model.get("transition.type")&&this.bindClickTransition()},bindClickTransition:function(){},unbindClickTransition:function(){},nextClick:function(){this.$nextButton.hasClass("inactive")||(clearTimeout(this.autotransitionTimeout),app.trigger("slide:next"))},prevClick:function(){clearTimeout(this.autotransitionTimeout),app.trigger("slide:prev")},soundClick:function(e){var t=$(e.currentTarget);if(t.toggleClass("inactive"),app.settings.set("mute",t.hasClass("inactive")),this.bmusicModel)if(t.hasClass("inactive")){var i=this.bmusicModel.get("volume");this.lastBmusicVolume=null!==i&&i>=0?i:null!==this.lastBmusicVolume&&this.lastBmusicVolume>=0?this.lastBmusicVolume:100,this.bmusicModel.set("volume",0)}else this.bmusicModel.set("volume",this.lastBmusicVolume)},openPreNotes:function(e){var t=window.location.pathname;t=1===t.indexOf("embed")?"/presenterview"+t.substr(6,t.length):"/presenterview"+t.substr(9,t.length),window.open(window.location.origin+t+window.location.hash,"Presentation Mode","width=1000,height=800")}}))},{"./fullscreen.js":129,backbone:"backbone",underscore:52}],128:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("../mixin/view/showHideMixin.js"),r=e("../popup/publishViewMixins/downloadMixin.js"),a=[r],l=n.View.extend(o.extend({},s,{el:"#player-download",events:{"click #download-close":"hide"},initHooks:[],initialize:function(){o.bindAll(this,"show","hide"),app.bind("player-download:show",this.show),this.initHooks.length&&o.each(this.initHooks,function(e){e.call(this)},this)}}));o.each(a,function(e){o.extend(this.prototype,e.methods),o.extend(this.prototype.events,e.events),this.prototype.initHooks.push(e.initializeHook)},l),t.exports=l},{"../mixin/view/showHideMixin.js":70,"../popup/publishViewMixins/downloadMixin.js":135,backbone:"backbone",underscore:52}],129:[function(e,t,i){var n=e("underscore");t.exports={onChangeCallback:!1,init:function(e){this.onChangeCallback=e,n.bindAll(this,"onChange"),document.addEventListener("webkitfullscreenchange",this.onChange,!1),document.addEventListener("mozfullscreenchange",this.onChange,!1),document.addEventListener("fullscreenchange",this.onChange,!1),document.addEventListener("MSFullscreenChange",this.onChange,!1)},onChange:function(e){this.onChangeCallback.call(this,!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement))},enter:function(){var e=document.documentElement,t=e.requestFullscreen||e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.call(e)},exit:function(){var e=document,t=e.exitFullscreen||e.webkitExitFullScreen||e.msExitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen;t.call(e)}}},{underscore:52}],130:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("TweenMax");t.exports=n.View.extend(o.extend({},{initialize:function(){o.bindAll(this,"checkLinks","checkObjectLinkIn","checkObjectLinkOut","checkTextLinkIn","textLink","checkTextLinkOut"),app.bind("object:click",this.checkLinks),app.bind("object:mouseenter",this.checkObjectLinkIn),app.bind("object:mouseleave",this.checkObjectLinkOut),$(".vm-text a").click(this.textLink),$(".vm-text a").mouseleave(this.checkTextLinkOut),$(".vm-text a").mouseenter(this.checkTextLinkIn)},isObjectTextLink:function(e){var t=$(e.target).closest("a")[0].href.split(":"),i=t[0];return"object"===i&&2===t.length?t[1]:!1},isSlideTextLink:function(e){var t=$(e.target).closest("a")[0].href.split(":"),i=t[0];return 2!==t.length||"slide"!==i&&"slde"!==i?!1:t[1]},textLink:function(e){var t=this.isSlideTextLink(e);t?this.gotoSlide(t):t=this.isObjectTextLink(e),t&&e.preventDefault()},checkTextLinkIn:function(e){var t=this.isObjectTextLink(e);t&&this.fadeObjectIn($("#"+t,'section[style*="opacity: 1"]'))},checkTextLinkOut:function(e){var t=this.isObjectTextLink(e);t&&this.fadeObjectOut($("#"+t,'section[style*="opacity: 1"]'))},checkLinks:function(e){var t=e.get("link");if(t){var i=t.type;switch(i){case"hyperlink":var n=t.target;(o.isUndefined(t.linkTo)||"website"===t.linkTo)&&n.toLowerCase().indexOf("http://")<0&&n.toLowerCase().indexOf("https://")<0&&(n="http://"+n),"newWindow"===t.options[0]?this.openInNewWindow(n):this.openInSameWindow(n);break;case"slide":case"slde":o.isUndefined(t.options)&&(t.options=["0","play"]);var s=function(){app.trigger("timeline:set-time",t.options)};this.gotoSlide(t.target,s);break;case"object":if("Click"===t.options[0])if($.isArray(t.target)){var r=t.target;o.each(r,function(e){0===parseFloat($("#"+e,'section[style*="opacity: 1"]').css("opacity"))?this.fadeObjectIn($("#"+e,'section[style*="opacity: 1"]')):this.fadeObjectOut($("#"+e,'section[style*="opacity: 1"]'))},this)}else 0===parseFloat($("#"+t.target,'section[style*="opacity: 1"]').css("opacity"))?this.fadeObjectIn($("#"+t.target,'section[style*="opacity: 1"]')):this.fadeObjectOut($("#"+t.target,'section[style*="opacity: 1"]'))}}},checkObjectLinkOut:function(e){var t=e.get("link");if(t&&"object"===t.type&&"Hover"===t.options[0])if($.isArray(t.target)){var i=t.target;o.each(i,function(e){this.fadeObjectOut($("#"+e,'section[style*="opacity: 1"]'))},this)}else this.fadeObjectOut($("#"+t.target,'section[style*="opacity: 1"]'))},checkObjectLinkIn:function(e){var t=e.get("link");if(t){if($("#"+e.get("id")).css("cursor","pointer"),"object"===t.type&&"Hover"===t.options[0])if($.isArray(t.target)){var i=t.target;o.each(i,function(e){this.fadeObjectIn($("#"+e,'section[style*="opacity: 1"]'))},this)}else this.fadeObjectIn($("#"+t.target,'section[style*="opacity: 1"]'))}else"text"===e.get("type")},openInNewWindow:function(e){window.open(e,"_blank")},openInSameWindow:function(e){window.location=e},fadeObjectIn:function(e){s.to(e,1,{css:{opacity:1,display:"block"}}),e.css("pointer-events","auto")},fadeObjectOut:function(e){s.to(e,1,{css:{opacity:0}}),e.css("pointer-events","none")},gotoSlide:function(e,t){$('section[style*="opacity: 1"]').attr("id")!==e&&app.trigger("slide:find",e,t)}}))},{TweenMax:"TweenMax",backbone:"backbone",underscore:52}],131:[function(e,t,i){var n=e("underscore"),o=e("./animations/enterAnimations.js"),s=e("./animations/exitAnimations.js"),r=e("./animations/textAnimations.js"),a=e("./animations/widgetAnimations.js");t.exports={initHook:function(){n.bindAll(this,"setupTimeline","transitionComplete","play","pause","progress","completeAnimation","setProgress","volume","seekToTime"),app.bind("slides:rendered",this.setupTimeline),app.bind("slide:transition-complete",this.transitionComplete),app.bind("timeline:set-progress",this.setProgress),app.bind("timeline:set-play",this.play),app.bind("timeline:set-pause",this.pause),app.settings.bind("change:mute",this.volume),app.bind("timeline:set-time",this.seekToTime),this.timeline=new TimelineLite({paused:!0,defaultEase:"Quad.easeOut",onUpdate:this.progress,onComplete:this.completeAnimation})},methods:{setupTimeline:function(){var e=this;this.exitAnimationsSetUp=s.setUp,setTimeout(function(){"Download"!==app.settings.get("project_type")&&e.model.objectCollection.each(function(e){this.applyAnimation(e)}.bind(e))},500)},applyAnimation:function(e){o(e,this.timeline),this.exitAnimationsSetUp(e,this.timeline),"text"===e.get("type")&&e.get("textEffect")&&r(e,this.timeline),$("#"+e.get("id")).length&&$("#"+e.get("id")).css("display","block"),"infogrWidget"===e.get("type")&&a(e,this.timeline)},transitionComplete:function(e){this.selected&&!this.timeline.totalDuration()?($("#play").addClass("inactive"),$("#timeline").hide()):this.selected&&($("#timeline").show(),$("#play").removeClass("inactive")),$("#play-overlay").length||(n.isUndefined(e)?app.settings.get("is_autoplay_animation")&&this.play():e())},hasBackgroundMusic:function(){var e=app.settings.get("background_music");return e&&"number"!=typeof e},play:function(){n.isUndefined(this.timeline.ready)||this.timeline.ready?this.timeLinePlay():this.$el.on("timeline:ready",function(){this.timeLinePlay(),this.$el.off("timeline:ready"),this.timeline.ready=!0}.bind(this))},timeLinePlay:function(){this.hasBackgroundMusic()&&app.trigger("backgroundMusic:play","bgmusic"),this.selected&&this.timeline.totalDuration()?(1===this.timeline.progress()&&this.setProgress(0),this.timeline.play(),this.audioApply("play"),app.trigger("timeline:play",this.model)):this.selected&&(this.timeline.totalDuration()||app.trigger("timeline:no-animations-play",this.model),app.trigger("slide:complete-animations",this.model))},progress:function(){app.trigger("timeline:progress",this.timeline.progress())},pause:function(e){this.timeline.pause(),this.audioApply("pause"),"pauseClicked"===e?app.trigger("timeline:pause",e):app.trigger("timeline:pause")},completeAnimation:function(){this.pause(),1!==$("#timeline").slider("value")&&$("#timeline").length||!this.selected||app.trigger("slide:complete-animations",this.model)},setProgress:function(e){this.pause(),this.timeline.progress(e),this.audioApply("seek",this.timeline._time)},seekToTime:function(e){this.pause(),e[0]>this.timeline._duration?this.timeline.progress(1):this.timeline.time(e[0]),this.audioApply("seek",this.timeline._time),"stop"===e[1]?this.pause():this.play()},audioApply:function(e,t){n.each(this.objectsCollectionView.subViews,function(i){if("audio"===i.model.get("type"))switch(e){case"seek":i.timelineSeek(t);break;case"pause":i.model.set("state","pause");break;case"play":i.model.get("animation.enter.delay")<=this.timeline._time&&i.model.set("state","play");break;case"stop":i.model.set("state","stop");break;case"volume":t?i.model.set("volume",this.lastVolume):(this.lastVolume=i.model.get("volume")||this.lastVolume||100,i.model.set("volume",0))}},this)},volume:function(){this.audioApply("volume",!app.settings.get("mute"))}}}},{"./animations/enterAnimations.js":122,"./animations/exitAnimations.js":123,"./animations/textAnimations.js":124,"./animations/widgetAnimations.js":125,underscore:52}],132:[function(e,t,i){var n=e("underscore"),o=e("TweenMax");t.exports={initHook:function(){n.bindAll(this,"transitionTo"),app.bind("slide:transitionTo",this.transitionTo),"onclick"===this.model.get("transition.type")||"render"===app.settings.get("mode")||"Download"===app.settings.get("project_type")?$("#content").on("click","section#"+this.model.get("id"),function(e){1!==$(e.target).closest($(".linked")).length&&app.trigger("slide:next")}):"video"===this.model.get("transition.type")&&app.bind("video:ended",function(e){this.selected&&"video"===this.model.get("transition.type")&&this.$el.closest(".stage").attr("id")===$(".stage")[e].id&&app.trigger("slide:next")}.bind(this))},methods:{transitionTo:function(e){var t=this.getTransition(this.model.get("transition.effect"),e.direction),i=1;"render"!==app.settings.get("mode")&&"Download"!==app.settings.get("project_type")||(t=this.getTransition("show"),i=0),"none"===this.model.get("transition.effect")&&(i=.01,t=this.getTransition("show")),this.model.get("id")!==e.model.get("id")||this.selected?this.selected&&(this.selected=!1,this.$el.css({"pointer-events":"none"}),o.to(this.$el,i,t.current)):(this.selected=!0,this.$el.css({"pointer-events":"auto"}),n.isUndefined(e.callback)?(o.fromTo(this.$el,i,t.from,t.to),app.trigger("timeline:set-progress",0)):o.fromTo(this.$el,i,t.from,n.extend(t.to,{onComplete:function(){app.trigger("slide:transition-complete",e.callback)}})))},getTransition:function(e,t){var i={},n=function(){app.trigger("slide:transition-complete")};switch(e){case"scroll":i.from={x:app.settings.get("slideWidth")*t,autoAlpha:0,display:"block"},i.to={x:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={x:-app.settings.get("slideWidth")*t,autoAlpha:0,ease:"Power3.easeOut",display:"block"};break;case"flip":i.from={rotationY:180,autoAlpha:0,display:"block"},i.to={rotationY:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={rotationY:180,autoAlpha:0,ease:"Power3.easeOut"};break;case"shuffle":i.from={autoAlpha:0,display:"block",transformPerspective:500,y:100},i.to={y:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={autoAlpha:0,display:"block",transformPerspective:500,y:100,ease:"Power3.easeOut"};break;case"show":i.from={autoAlpha:0,display:"block"},i.to={autoAlpha:1,onComplete:n,ease:"Power3.easeOut"},i.current={autoAlpha:0,ease:"Power3.easeOut",display:"block"};break;default:i.from={autoAlpha:0,display:"block"},i.to={autoAlpha:1,onComplete:n,ease:"Power3.easeOut"},i.current={autoAlpha:0,ease:"Power3.easeOut",display:"block"}}return i}}}},{TweenMax:"TweenMax",underscore:52}],133:[function(e,t,i){var n=e("underscore");t.exports={currentSlideIndex:0,hookListeners:function(){n.bindAll(this,"nextSlide","prevSlide","gotoSlide","findSlide"),app.bind("slide:next",this.nextSlide),app.bind("slide:prev",this.prevSlide),app.bind("slide:find",this.findSlide),app.bind("slide:change",this.gotoSlide)},gotoSlide:function(e,t){var i=1;e<this.currentSlideIndex&&(i=-1),this.currentSlideIndex=e,app.trigger("slide:transitionTo",{model:this.collection.at(this.currentSlideIndex),index:this.currentSlideIndex,direction:i,callback:t}),window.location="#s"+(this.currentSlideIndex+1)},nextSlide:function(){return 1===this.collection.length?(app.trigger("timeline:set-play"),!1):(this.currentSlideIndex===this.collection.length-1&&(this.currentSlideIndex=-1),void this.gotoSlide(this.currentSlideIndex+1))},prevSlide:function(){return 0===this.currentSlideIndex?!1:void this.gotoSlide(this.currentSlideIndex-1)},findSlide:function(e,t){var i=this.collection.get(e);i&&this.currentSlideIndex!==this.collection.indexOf(i)&&this.gotoSlide(i.get("order"),t)}}},{underscore:52}],134:[function(e,t,i){var n=e("./windowView.js"),o=e("underscore"),s=e("TweenMax");t.exports=n.extend(o.extend({},{el:"#editor-loading-overlay",initialize:function(){o.bindAll(this,"loadingDone"),app.on("slides:loaded",this.loadingDone)},render:function(){return this},loadingDone:function(){setTimeout(function(){s.set("#content-panel, header",{display:"block"}),s.to(this.$el,1,{autoAlpha:0,onComplete:function(){this.$el.css({width:0,height:0})}.bind(this)}),app.settings.set("state","loaded")}.bind(this),0)}}))},{"./windowView.js":136,TweenMax:"TweenMax",underscore:52}],135:[function(e,t,i){t.exports={initializeHook:function(){this.$downloadIframe=$("<iframe>",{id:"idown"}).hide().appendTo("body"),this.$download={},this.$download.jpg={button:this.$el.find(".download-jpg"),loader:this.$el.find(".jpg-loader")},this.$download.png={button:this.$el.find(".download-png"),loader:this.$el.find(".png-loader")},this.$download.pdf={button:this.$el.find(".download-pdf"),loader:this.$el.find(".pdf-loader")},this.$download.html={button:this.$el.find(".download-html"),loader:this.$el.find(".html-loader")}},events:{"click .download-jpg":"downloadJPG","click .download-pdf":"downloadPDF","click .download-html":"downloadHTML","click .download-png":"downloadPNG"},methods:{jobs:{},downloadPDF:function(){return this.requestRenderJob("pdf"),!1},downloadHTML:function(){return this.downloadURL("/actions/download/"+app.settings.get("project_id")+"/html/0"),!1},downloadJPG:function(){return this.requestRenderJob("jpg"),!1},downloadPNG:function(){return this.requestRenderJob("png"),!1},requestRenderJob:function(e){var t=this;$.ajax({type:"GET",url:"/actions/requestrender/"+app.settings.get("project_id")+"/"+e,success:function(e){t.longPoll(e.id,e.type),t.startDownloadAnimation(e.type)},error:function(){app.trigger("alertView:show",{content:"There was an error while sending the request. Please check your internet connection or contact support.",height:200,title:"Error Downloading Project"})}})},downloadURL:function(e){this.$downloadIframe.attr("src",e)},longPoll:function(e,t){setTimeout(function(){var i=this;$.ajax({url:"/actions/checkjobstatus/"+app.settings.get("project_id")+"/"+e+"/"+t,success:function(e){"complete"===e.status?(i.stopDownloadAnimation(e.type),i.downloadURL("/actions/download/"+app.settings.get("project_id")+"/"+e.type+"/"+app.collections.slides.filter(function(e){return e.get("hidden")!==!0&&"Library"!==e.get("type")&&"LibraryGroup"!==e.get("type")}).length)):"failed"!==e.status&&e.status?i.longPoll(e.id,e.type):(i.stopDownloadAnimation(e.type),app.trigger("alertView:show",{content:"There was an error while downloading. Please try again later or contact support.",height:200,title:"Error Downloading Project"}))},error:function(e){app.trigger("alertView:show",{content:"There was an error while downloading. Please try again later or contact support.",height:200,title:"Error Downloading Project"})}})}.bind(this),3e3)},startDownloadAnimation:function(e){this.$download[e].button.hide(),this.$download[e].loader.show()},stopDownloadAnimation:function(e){this.$download[e].button.show(),this.$download[e].loader.hide()}}}},{}],136:[function(e,t,i){var n=e("backbone"),o=e("TweenMax"),s=e("underscore"),r=e("./../../helpers/localStorage.js");t.exports=n.View.extend({events:{"click .close i, .close":"hide","click .video_apply":"doneButton"},initialize:function(e){s.bindAll(this,"show","hide","bodyCloseEvent","onDragStop","savePosition","checkBoundary"),this.loadDefaultOptions(e),this.render(),this.listenTo(app,this.viewName+":show",this.show),this.listenTo(app,this.viewName+":hide",this.hide),this.ignoreElements||(this.ignoreElements=""),this.ignoreElements+=" .cpicker .color_picker_div #color-picker",this.draggable&&this.$el.draggable(this.dragoptions),this.$overlay=$("#popup-overlay");var t=this.getLocalStorageId();s.isUndefined(t)||this.loadLocalSettings(t)},getLocalStorageId:function(){return this.$el.attr("id")},loadLocalSettings:function(e){var t=app.settings.get("project_id"),i=r.get(t,e+"-top"),n=r.get(t,e+"-left");return i&&n&&!s.isUndefined(e)?(o.set(this.$el,{left:n,top:i}),!0):!1},loadDefaultOptions:function(e){e=e||{},this.dragoptions=s.isUndefined(e.dragoptions)?{}:e.dragoptions,this.overlay=s.isUndefined(e.overlay)?!0:e.overlay,this.draggable=s.isUndefined(e.draggable)?!0:e.draggable,this.positionSavable=s.isUndefined(e.positionSavable)?this.draggable:e.positionSavable,this.animateShow=s.isUndefined(e.animateShow)?"show":e.animateShow,this.animateHide=s.isUndefined(e.animateHide)?"hide":e.animateHide,this.dragoptions.stop=this.onDragStop,this.dragoptions.drag=this.onDrag,s.isUndefined(this.dragtarget)||(this.dragoptions.handle=this.dragtarget)},render:function(){return this},onDrag:function(){},savePosition:function(e){r.add(app.settings.get("project_id"),e+"-top",this.$el.position().top),r.add(app.settings.get("project_id"),e+"-left",this.$el.position().left)},hide:function(){this.hideOverLay(),$("body").unbind("mousedown",this.bodyCloseEvent),this.$el[this.animateHide]()},show:function(e){this.hideOverLay(),this.overlay&&this.showOverlay(),this.$el[this.animateShow](),$("body").bind("mousedown",this.bodyCloseEvent),app.trigger("popup:show",this.$el)},showOverlay:function(){o.set(this.$overlay,{css:{width:"100%",height:"100%"}})},hideOverLay:function(){o.set(this.$overlay,{css:{width:"0%",height:"0%"}})},showCenter:function(){var e=window.innerWidth/2-this.$el.innerWidth()/2,t=window.innerHeight/2-this.$el.height()/2;o.set(this.$el,{css:{left:e,top:t}}),this.$el.show()},bodyCloseEvent:function(e){var t=1===$(e.target).closest(this.$el).length;s.each(this.ignoreElements.split(" "),function(i){1===$(e.target).closest(i).length&&(t=!0)}),t||this.hide()},checkBoundary:function(e){var t=0,i=0;s.isUndefined(e)?(t=this.$el.height(),i=this.$el.width()):(t=this.$el.find(e).height(),i=this.$el.find(e).width());var n=this.getLocalStorageId(),a=r.get(app.settings.get("project_id"),n+"-top"),l=r.get(app.settings.get("project_id"),n+"-left");a&&l&&a>=$(window).height()-t?o.set(this.$el,{top:$(window).height()-t}):0>a&&o.set(this.$el,{top:0}),l>=$(window).width()-i?o.set(this.$el,{left:$(window).width()-i}):0>l&&o.set(this.$el,{left:0})},onDragStop:function(){var e=this.getLocalStorageId();this.positionSavable&&!s.isUndefined(e)&&(this.savePosition(e),this.checkBoundary())},disableDrag:function(){this.$el.draggable("disable")},enableDrag:function(){this.$el.draggable("enable")}})},{"./../../helpers/localStorage.js":60,TweenMax:"TweenMax",backbone:"backbone",underscore:52}],137:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("./slideModel.js"),r=e("../mixin/collection/ordinalMixin.js"),a=n.Collection.extend(o.extend({},r,{defaults:{},model:s,initialize:function(e,t){this.eventType="slideCollection",this.sortKey="order",o.bindAll(this,"defineReadyPromise"),app.bind("slides:rendered",this.defineReadyPromise)},toJSON:function(e){var t=this._super(e);return e&&e.saving&&(t=t.filter(function(e){return"temp"!==e.type})),t=o.sortBy(t,function(e){return e.order})},defineReadyPromise:function(){var e=$.Deferred();e.done(function(e){app.trigger("slides:loaded")}),$.when($,this.getPromises()).done(function(){e.resolve()}),this.promise=e.promise()},getPromises:function(){for(var e=[],t=this.models.length,i=0;t>i;++i){var n=this.models[i];e=e.concat(n.getPromises())}return e}}));t.exports=a},{"../mixin/collection/ordinalMixin.js":66,"./slideModel.js":139,backbone:"backbone",underscore:52}],138:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("./slideView.js");t.exports=n.View.extend({el:"#content",views:{},initialize:function(){o.bindAll(this,"renameAudioClip","removeSlide","render","renderOne"),this.listenTo(this.collection,"add",this.renderOne),this.listenTo(this.collection,"reset",this.render),this.listenTo(app,"slideCollection:remove:model-view",this.removeSlide),app.listenTo(app,"audio-library:clip:rename",this.renameAudioClip),this.render(),this.hookListeners&&this.hookListeners()},renameAudioClip:function(e,t){for(var i=this.collection.models,n=0;n<i.length;++n)for(var o=i[n],s=o.objectCollection,r=0;r<s.length;++r){var a=s.models[r];"audio"===a.get("type")&&a.get("delete_key")===t&&a.set("name",e)}},createSlideView:function(e){return new s({model:e})},getSlideEl:function(e){return e.render().el},renderOne:function(e){var t=this.createSlideView(e);this.views[e.get("id")]=t,this.$el.append(this.getSlideEl(t)),o.each(e.objectCollection.models,function(e){e.trigger("object:render:after")},this)},render:function(){return this.collection.each(function(e){this.renderOne(e)},this),app.trigger("slides:rendered",this.collection),this},removeSlide:function(e){this.views[e.get("id")].remove()}})},{"./slideView.js":141,backbone:"backbone",underscore:52}],139:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("../../helpers/gradientCss.js"),r=e("../objects/objectCollection.js"),a=e("../mixin/model/attributeValidatorMixin.js"),l=e("../../helpers/uniqueId.js");n.DeepModel=e("backbone-deep-model"),t.exports=n.DeepModel.extend(o.extend({},a,{validators:{width:{type:"number",params:{min:1,max:9999}},height:{type:"number",params:{min:1,max:9999}}},defaults:{id:null,name:null,type:"regular",order:-1,width:1e3,height:800,hidden:!1,editable:!0,transition:{effect:"fade",duration:.5,type:"onclick"}},setSlibObjAttr:function(e){return o.each(e,function(e){e.onLibSlide=!0}),e},getSlideLibrary:function(){return $.ajax({type:"GET",url:"/actions/getSlideLibrary/"+app.settings.get("project_id")+"/"+(this.get("projectId")?this.get("projectId"):this.get("project").id),async:!1,success:function(e){var t=JSON.parse(e.data.pd.data).slides[0];delete t.id,t.type="temp",t.editable=!1,t.order=this.get("order"),t.transition=this.get("transition"),t.libraryGroupId=this.get("id"),t.hidden=this.get("hidden"),t.objects=this.setSlibObjAttr(t.objects),this.set("synced",!0),this.set("project",e.data.p),this.set("libraryGroupId",this.get("id")),this.set("name",e.data.p.title),app.trigger("addToJobQueue",function(){app.trigger("slideCollection:add",t)},"loaded")}.bind(this),error:function(){}}).responseText},getSlideGroupLibrary:function(){return $.ajax({type:"GET",url:"/actions/getSlideLibraryGroup/"+app.settings.get("project_id")+"/"+this.get("projectId"),async:!1,success:function(e){var t,i=this.get("order");o.each(e.data,function(e){var n=JSON.parse(e.data).slides[0];t=e.name,n.libraryGroupId=this.get("id"),n.type="temp",n.editable=!1,n.transition=this.get("transition"),n.hidden=this.get("hidden"),n.objects=this.setSlibObjAttr(n.objects),n.order=++i,delete n.id,app.trigger("addToJobQueue",function(){app.trigger("slideCollection:add",n)},"loaded")},this),this.set("project",{title:t}),this.set("synced",!0),this.set("libraryGroupId",this.get("id"))}.bind(this)}).responseText},synchronizeSlide:function(){if(!this.get("synced"))switch(this.get("type")){case"Library":this.getSlideLibrary();break;case"LibraryGroup":if(!this.get("projectId")){this.set("type","Library"),this.getSlideLibrary();break}this.getSlideGroupLibrary()}},requiresSync:function(){return"Library"===this.get("type")||"LibraryGroup"===this.get("type")},getPromises:function(){return this.objectCollection.getPromises()},getBackgrounds:function(e){var t=["white"];switch(this.get("background.type")){case"solid":this.get("background.hash")&&(-1!==this.get("background.hash").indexOf("rgb")?t[0]=this.get("background.hash"):t[0]="#"+this.get("background.hash"));break;case"gradient":var i=s(this.get("background.hash")).split(";");$.each(i,function(e,i){i=$.trim(i),""!==i&&t.push(i)}.bind(this));break;case"image":this.get("background.hash")&&this.get("background.ext")?t[0]="url("+app.settings.get("usersDataStorage")+this.get("background.hash")+"."+this.get("background.ext")+")":t[0]="#fff";break;case"library-image":t[0]="url("+app.settings.get("assetsStorage")+"themes/"+this.get("background.url")+")";break;case"none":"editor"===app.settings.get("editMode")?t[0]="url(../images/transparent.gif)":t[0]="transparent"}return t},toJSON:function(e){return e&&e.saving&&this.requiresSync()&&this.set("synced",!1),o.extend(this.attributes,{objects:this.objectCollection.toJSON()})},initialize:function(e){o.isNull(this.get("id"))?this.set("id",l.uniqueId("sl","slide")):l.notifyIdCounter(this.get("id"),"slide"),this.get("name")||this.set("name","Slide "+(this.get("order")+1)),this.requiresSync()&&this.synchronizeSlide(),e.objectCollection&&(this.objectCollection=e.objectCollection),this.objectCollection&&e.objectCollection||(this.objectCollection=new r(this.get("objects"))),o.bindAll(this,"updateTransitions","requiresSync","getSlideLibrary","getSlideGroupLibrary"),app.on("update-transitions",this.updateTransitions)},updateTransitions:function(e){this.set("transition",e)}},{SLIDETYPE:{regular:"regular",library:"library",group:"group"}}))},{"../../helpers/gradientCss.js":58,"../../helpers/uniqueId.js":62,"../mixin/model/attributeValidatorMixin.js":67,"../objects/objectCollection.js":73,backbone:"backbone","backbone-deep-model":1,underscore:52}],140:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("TweenMax"),r=e("../mixin/view/scrollBarMixin.js");t.exports=n.View.extend(o.extend({},r,{el:"#slide-panel",template:"#slide-panel-template",controlsHover:!1,controlsTimeout:0,events:{"click .slide_zone":"changeSlide"},currentThumbsIndex:0,initialize:function(e){if(app.collections.slides.models.length>25)return $("#thumbnails").remove(),!1;if(o.bindAll(this,"updateSlidePreviewObject","updateBackground","removeSlidePreviewObject","onControlsHover","onControlsBlur","updateCurrentThumb","updateThumbs","thumbsLeft","thumbsRight"),this.slideWidth=e.slideWidth,this.slideHeight=e.slideHeight,this.render(),this.$el.find(".slide_zone").length>1){this.$el.closest(".bottom-controls").on("mouseenter",this.onControlsHover).on("mouseleave",this.onControlsBlur);var t=this;$(window).on("resize",function(){setTimeout(function(){t.updateThumbs()},0)})}app.bind("slide:transitionTo",this.updateCurrentThumb)},updateBackground:function(e){this.$section=this.$el.find("section");var t=$(".slide"),i=t.width(),n=t.height(),r=this.slideWidth,a=this.slideHeight,l=Math.min(i/r,n/a);
$(".slide section").css({position:"relative",top:"50%"});var d=e.getBackgrounds();o.each(d,function(e){s.set($("#"+this.slideId).find(".section_wrap"),{css:{background:e}})},this);var h=e.get("background"),c=$("#"+this.slideId).find(".section_wrap");!o.isUndefined(h)&&"image"===h.type&&1===parseInt(h.tile)&&h.scale?c.attr("style",c.attr("style")+" background-size: "+h.scale+"% !important;"):c.attr("style",c.attr("style")+" background-size: 100% !important;"),s.set(this.$section,{scaleX:l,scaleY:l,y:-(a*l)/2,transformOrigin:"0% 0%"}),app.bind(e.get("id")+":change",this.updateSlidePreviewObject)},updateSlidePreviewObject:function(e){var t=e.get("id"),i=$("#"+t),n=i.closest("section"),r=e.get("type");if("audio"!==r&&n.find("#"+t).length){this.removeSlidePreviewObject(e);var a;if("video"!==r?a=i.clone():(a=$('<div class="el"></div>'),a.attr("style",i.attr("style"))),"video"===r){if(o.isUndefined(e.get("thumbnail")))return;a.find("iframe").remove(),o.each(a.find("video"),function(e){e.pause()}),a.find("video").remove();var l=document.createElement("img");l.setAttribute("src",e.get("thumbnail")),a.prepend(l)}a.removeAttr("id"),a.attr("id","m-"+t),a.removeClass("selected"),a.css("display","block"),$("#small-"+n.attr("id")).append(a),a.find("canvas").length>0&&a.find("canvas")[0].getContext("2d").drawImage(i.find("canvas")[0],0,0),s.set($("#small-"+n.attr("id")+" #m-"+t),{x:e.get("x"),y:e.get("y"),opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity"),rotation:o.isUndefined(e.get("rotation"))?0:e.get("rotation")}),o.isUndefined(e.get("textEffect"))||s.set($("#small-"+n.attr("id")+" #m-"+t+" .letter"),{opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity")})}},removeSlidePreviewObject:function(e){var t=e.get("id");$("#m-"+t).remove()},renderOne:function(e){var t=o.template($(this.template).html(),e.toJSON());this.$el.append(t),this.slideId=$(t).find(".slide").attr("id"),this.updateBackground(e)},render:function(){return this.collection.each(function(e){this.renderOne(e)},this),this.updateThumbs(),$("#thumbnails").fadeOut(),this},changeSlide:function(e){var t=$(e.currentTarget);t.hasClass("active")||app.trigger("slide:change",t.index())},onControlsHover:function(){return app.settings.get("fullscreen")||!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")?($("#thumbnails").is(":visible")||$("#thumbnails").show(),void setTimeout(function(){this.updateThumbs()}.bind(this),0)):void(this.controlsTimeout?(clearTimeout(this.controlsTimeout),this.controlsTimeout=!1):$("#thumbnails").is(":visible")||($("#thumbnails").fadeIn("fast"),this.updateThumbs()))},onControlsBlur:function(){app.settings.get("fullscreen")||!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")||this.controlsTimeout||(this.controlsTimeout=setTimeout(function(){$("#thumbnails").fadeOut("fast"),this.controlsTimeout=!1}.bind(this),1e3))},updateCurrentThumb:function(e){var t=0;t=o.isUndefined(e)?app.views.slidesView.currentSlideIndex:e.index;var i=$("#slide-panel").find(".slide_zone");i.removeClass("active"),i.eq(t).addClass("active"),parseInt($("#slide-container").width())-parseInt($("#slide-panel").css("margin-left"))<(t+2)*$(".slide_zone").width()?this.thumbsRight():-parseInt($("#slide-panel").css("margin-left"))>t*$(".slide_zone").width()&&this.thumbsLeft()},updateThumbs:function(){if("none"!==$("#thumbnails").css("display")){var e=$("#slide-panel"),t=e.find(".slide_zone"),i=(t.width()+20)*t.length+40;e.width(i),i>$("#slide-container").width()-70?this.showThumbsArrows():this.hideThumbsArrows(),this.updateCurrentThumb()}},showThumbsArrows:function(){var e=$("#thumbnails");e.find("#slide-container").width("calc(100% - 70px)"),e.find(".thumbs-arrows").show(),e.find("#thumb-left").on("click",this.thumbsLeft),e.find("#thumb-right").on("click",this.thumbsRight),this.updateArrowsState()},hideThumbsArrows:function(){this.currentThumbsIndex=0;var e=$("#thumbnails");e.find("#slide-panel").css("margin-left","0"),e.find("#slide-container").width("100%"),e.find(".thumbs-arrows").hide(),e.find("#thumb-left").off("click"),e.find("#thumb-right").off("click"),this.updateArrowsState()},thumbsLeft:function(){if(0!==this.currentThumbsIndex){this.currentThumbsIndex--;var e=$("#slide-panel"),t=e.find(".slide_zone").eq(0).width()+7,i=3*-t*this.currentThumbsIndex;e.css("margin-left",i),setTimeout(this.updateArrowsState,600)}},thumbsRight:function(){this.currentThumbsIndex++;var e=$("#slide-panel"),t=e.find(".slide_zone").eq(0).width()+7,i=3*-t,n=i*this.currentThumbsIndex,o=-e.width()+$("#slide-container").width();return i>n-o?void this.currentThumbsIndex--:(e.css("margin-left",n),void setTimeout(this.updateArrowsState,600))},updateArrowsState:function(){var e=$("#thumbnails"),t=parseInt(e.find("#slide-panel").css("margin-left"),10),i=-e.find("#slide-panel").width()+$("#slide-container").width();e.find(".thumbs-arrows").removeClass("inactive"),0===t&&e.find("#thumb-left").addClass("inactive"),i>t&&e.find("#thumb-right").addClass("inactive")}}))},{"../mixin/view/scrollBarMixin.js":69,TweenMax:"TweenMax",backbone:"backbone",underscore:52}],141:[function(e,t,i){var n=e("backbone"),o=e("underscore"),s=e("TweenMax"),r=e("../objects/objectCollectionView.js"),a=e("./../../helpers/manageMediaAssets.js");t.exports=n.View.extend(o.extend({},a,{template:"#slide-template",initHooks:[],initialize:function(){this.selected=!1,o.bindAll(this,"selectSlide","addObject","update","updateSize"),this.model.bind("change",this.update),app.bind("slide:new-selected",this.selectSlide),app.settings.bind("change:slideHeight change:slideWidth",this.updateSize),this.initHooks.length&&o.each(this.initHooks,function(e){e.call(this)},this),"player"!==app.settings.get("mode")&&"preview"!==app.settings.get("mode")&&"embed"!==app.settings.get("mode")||"Download"===app.settings.get("project_type")||this.listenTo(app.settings,"change:state",function(){this.hideLinkObject()})},hideLinkObject:function(){var e=this.model.objectCollection,t=o.filter(e.models,function(e){return!o.isUndefined(e.get("link"))&&e.get("link")&&"object"===e.get("link").type&&!o.isUndefined(e.get("link").target)});t.length>0&&o.each(t,function(t){if($.isArray(t.get("link").target)){var i=t.get("link").target;o.each(i,function(t){e.get(t)&&(e.get(t).set("opacity",0),$("#"+e.get(t).get("id")).css("pointer-events","none"))},this)}else e.get(t.get("link").target)&&(e.get(t.get("link").target).set("opacity",0),$("#"+e.get(t.get("link").target).get("id")).css("pointer-events","none"))})},updateSize:function(e){(o.has(e.changed,"slideHeight")||o.has(e.changed,"slideWidth"))&&(this.model.set("width",e.get("slideWidth")),this.model.set("height",e.get("slideHeight")),this.setGraspWrap(),this.centerSlide())},resizeHandleEl:".sgrasp_arrows",render:function(){var e=o.template($(this.template).html(),this.model.toJSON());return this.setElement(e),this.objectsCollectionView=new r({collection:this.model.objectCollection,slideEl:this.$el.find("article")}),this.centerSlide(),this.$article=this.$el.find("article"),this.model.get("editable")||this.$article.addClass("noneditable"),this.applyBackground(),this.initResizeHandle(),this.model.trigger("change",this.model),this},needsResizeHandle:function(){return"infographic"===app.settings.get("type").toLowerCase()},infographMinHeight:500,initResizeHandle:function(){if(this.needsResizeHandle()){this.$resizeEl=this.$el.find(this.resizeHandleEl).parent(),this.setGraspWrap(),this.$resizeEl.show();var e=this;this.$el.find(this.resizeHandleEl).draggable({axis:"y",start:function(t){e.startResizeY=t.pageY,app.trigger("object:deselect-object"),$("#sgrasp_height span").html(app.settings.get("slideHeight")),$("#sgrasp_height").fadeIn()},drag:function(t){var i=(t.pageY-e.startResizeY)/app.settings.get("zoom"),n=app.settings.get("slideHeight"),o=Math.round(i+parseFloat(n));$("#sgrasp_height span").html(o+" px")},stop:function(t){var i=(t.pageY-e.startResizeY)/app.settings.get("zoom"),n=app.settings.get("slideHeight"),o=Math.round(i+parseFloat(n));o=Math.max(e.infographMinHeight,o),app.settings.set("slideHeight",o),$(this).css("top","-27px"),$("#sgrasp_height").fadeOut()}})}},setGraspWrap:function(){this.needsResizeHandle()&&this.$resizeEl.css({width:app.settings.get("slideWidth")})},applyBackground:function(){var e=this.model.getBackgrounds();o.each(e,function(e){this.$article.css({background:e})},this);var t=this.model.get("background");o.isUndefined(t)||"image"!==t.type&&"library-image"!==t.type||1!==parseInt(t.tile)||!t.scale?o.isUndefined(t)||"image"!==t.type||this.$article.attr("style",this.$article.attr("style")+" background-size: 100% !important;"):this.$article.attr("style",this.$article.attr("style")+" background-size: "+t.scale+"% !important;")},update:function(){if(o.has(this.model.changed,"width")||o.has(this.model.changed,"height")){var e=this.model.get("width"),t=this.model.get("height");s.set(this.$article,{css:{height:t,width:e}}),s.set(this.$el,{css:{height:t,width:e}}),delete this.model.changed.width,delete this.model.changed.width}o.has(this.model.changed,"background")&&(app.trigger("slide:change:background",this.model.changed.background),this.applyBackground(),delete this.model.changed.background),o.has(this.model.changed,"grid")&&this.toggleGrid()},centerSlide:function(){setTimeout(function(){s.set($(".stage"),{css:{"margin-left":-($(".stage").width()/2)}}),s.set($(".stage"),{css:{"margin-top":-(($(".stage").height()-$("#menu").height()-$("#submenu").height())/2)}})},100)},selectSlide:function(e){var t=e.get("id");this.model.get("id")!==t||this.selected?this.selected&&this.model.get("id")!==t&&(this.$el.removeClass("active"),this.hide(),this.selected=!1,this.stopListening()):(this.$el.addClass("active"),this.show("fade"),this.selected=!0,this.listenTo(app,"slide-background:save",this.saveSlideBackground),this.listenTo(app,"slide-background:restore",this.restoreSlideBackground),this.listenTo(app,"active-slide:change",this.updateAttribute),this.listenTo(app,"active-slide:tileMode",this.changeTileMode),this.listenTo(app,"drop-object",this.addObject))},saveSlideBackground:function(){this.savedSlideBg=$.extend(!0,{},this.model.get("background"))},restoreSlideBackground:function(){this.updateAttribute("background",this.savedSlideBg)},updateAttribute:function(e,t){"background"===e&&this.manageSwatchAssets(t),this.model.set(e,t)},addObject:function(e){"group"===e.type?this.objectsCollectionView.collection.parseGroup(e,function(){}):(e=this.objectsCollectionView.collection.add(e),app.trigger("object:new-selected",e[0]))},manageSwatchAssets:function(e){var t=app.settings.get("project_id");if(this.model.get("background")&&"image"===this.model.get("background").type&&a["delete"](t,this.model.get("background").id,0),"image"===e.type){var i={asset_id:e.id,type:"swatch",project_id:t};a.add(t,i)}},show:function(e){"editor"===app.settings.get("editMode")?s.to(this.$el,.5,{autoAlpha:1,display:"block",transformPerspective:0,y:0}):s.to(this.$el,0,{autoAlpha:1,display:"block",transformPerspective:0,y:0})},hide:function(e){s.to(this.$el,.5,{autoAlpha:0,display:"none",transformPerspective:500,y:50})},changeTileMode:function(e){var t=this.model.get("background");o.isUndefined(t)?this.model.set("background",{tile:e.tile,scale:e.scale}):(this.model.get("background").tile=e.tile,this.model.get("background").scale=e.scale),this.applyBackground()}}))},{"../objects/objectCollectionView.js":74,"./../../helpers/manageMediaAssets.js":61,TweenMax:"TweenMax",backbone:"backbone",underscore:52}]},{},[53])(53)});
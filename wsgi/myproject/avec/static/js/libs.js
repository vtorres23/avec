require=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(){var t=this,i=t._,r={},o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,u=o.slice,c=o.concat,h=s.toString,d=s.hasOwnProperty,f=o.forEach,p=o.map,g=o.reduce,m=o.reduceRight,v=o.filter,y=o.every,w=o.some,_=o.indexOf,b=o.lastIndexOf,C=Array.isArray,T=Object.keys,x=a.bind,S=function(t){return t instanceof S?t:this instanceof S?void(this._wrapped=t):new S(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=S),n._=S):t._=S,S.VERSION="1.6.0";var E=S.each=S.forEach=function(t,e,n){if(null==t)return t;if(f&&t.forEach===f)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(n,t[i],i,t)===r)return}else for(var s=S.keys(t),i=0,o=s.length;o>i;i++)if(e.call(n,t[s[i]],s[i],t)===r)return;return t};S.map=S.collect=function(t,e,n){var i=[];return null==t?i:p&&t.map===p?t.map(e,n):(E(t,function(t,r,o){i.push(e.call(n,t,r,o))}),i)};var R="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return i&&(e=S.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(E(t,function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)}),!r)throw new TypeError(R);return n},S.reduceRight=S.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return i&&(e=S.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=S.keys(t);o=s.length}if(E(t,function(a,l,u){l=s?s[--o]:--o,r?n=e.call(i,n,t[l],l,u):(n=t[l],r=!0)}),!r)throw new TypeError(R);return n},S.find=S.detect=function(t,e,n){var i;return M(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},S.filter=S.select=function(t,e,n){var i=[];return null==t?i:v&&t.filter===v?t.filter(e,n):(E(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i)},S.reject=function(t,e,n){return S.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},S.every=S.all=function(t,e,n){e||(e=S.identity);var i=!0;return null==t?i:y&&t.every===y?t.every(e,n):(E(t,function(t,o,s){return(i=i&&e.call(n,t,o,s))?void 0:r}),!!i)};var M=S.some=S.any=function(t,e,n){e||(e=S.identity);var i=!1;return null==t?i:w&&t.some===w?t.some(e,n):(E(t,function(t,o,s){return i||(i=e.call(n,t,o,s))?r:void 0}),!!i)};S.contains=S.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):M(t,function(t){return t===e})},S.invoke=function(t,e){var n=u.call(arguments,2),i=S.isFunction(e);return S.map(t,function(t){return(i?e:t[e]).apply(t,n)})},S.pluck=function(t,e){return S.map(t,S.property(e))},S.where=function(t,e){return S.filter(t,S.matches(e))},S.findWhere=function(t,e){return S.find(t,S.matches(e))},S.max=function(t,e,n){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-(1/0),r=-(1/0);return E(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>r&&(i=t,r=a)}),i},S.min=function(t,e,n){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return E(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;r>a&&(i=t,r=a)}),i},S.shuffle=function(t){var e,n=0,i=[];return E(t,function(t){e=S.random(n++),i[n-1]=i[e],i[e]=t}),i},S.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=S.values(t)),t[S.random(t.length-1)]):S.shuffle(t).slice(0,Math.max(0,e))};var k=function(t){return null==t?S.identity:S.isFunction(t)?t:S.property(t)};S.sortBy=function(t,e,n){return e=k(e),S.pluck(S.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,n,i){var r={};return n=k(n),E(e,function(o,s){var a=n.call(i,o,s,e);t(r,a,o)}),r}};S.groupBy=O(function(t,e,n){S.has(t,e)?t[e].push(n):t[e]=[n]}),S.indexBy=O(function(t,e,n){t[e]=n}),S.countBy=O(function(t,e){S.has(t,e)?t[e]++:t[e]=1}),S.sortedIndex=function(t,e,n,i){n=k(n);for(var r=n.call(i,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(i,t[a])<r?o=a+1:s=a}return o},S.toArray=function(t){return t?S.isArray(t)?u.call(t):t.length===+t.length?S.map(t,S.identity):S.values(t):[]},S.size=function(t){return null==t?0:t.length===+t.length?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,e,n){return null!=t?null==e||n?t[0]:0>e?[]:u.call(t,0,e):void 0},S.initial=function(t,e,n){return u.call(t,0,t.length-(null==e||n?1:e))},S.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0)):void 0},S.rest=S.tail=S.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},S.compact=function(t){return S.filter(t,S.identity)};var A=function(t,e,n){return e&&S.every(t,S.isArray)?c.apply(n,t):(E(t,function(t){S.isArray(t)||S.isArguments(t)?e?l.apply(n,t):A(t,e,n):n.push(t)}),n)};S.flatten=function(t,e){return A(t,e,[])},S.without=function(t){return S.difference(t,u.call(arguments,1))},S.partition=function(t,e){var n=[],i=[];return E(t,function(t){(e(t)?n:i).push(t)}),[n,i]},S.uniq=S.unique=function(t,e,n,i){S.isFunction(e)&&(i=n,n=e,e=!1);var r=n?S.map(t,n,i):t,o=[],s=[];return E(r,function(n,i){(e?i&&s[s.length-1]===n:S.contains(s,n))||(s.push(n),o.push(t[i]))}),o},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(t){var e=u.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(e,function(e){return S.contains(e,t)})})},S.difference=function(t){var e=c.apply(o,u.call(arguments,1));return S.filter(t,function(t){return!S.contains(e,t)})},S.zip=function(){for(var t=S.max(S.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=S.pluck(arguments,""+n);return e},S.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},S.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=S.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},S.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},S.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);i>r;)o[r++]=t,t+=n;return o};var N=function(){};S.bind=function(t,e){var n,i;if(x&&t.bind===x)return x.apply(t,u.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(u.call(arguments)));N.prototype=t.prototype;var r=new N;N.prototype=null;var o=t.apply(r,n.concat(u.call(arguments)));return Object(o)===o?o:r}},S.partial=function(t){var e=u.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===S&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},S.bindAll=function(t){var e=u.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return E(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,e){var n={};return e||(e=S.identity),function(){var i=e.apply(this,arguments);return S.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},S.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(u.call(arguments,1)))},S.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:S.now(),s=null,o=t.apply(i,r),i=r=null};return function(){var u=S.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return i=this,r=arguments,0>=c?(clearTimeout(s),s=null,a=u,o=t.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,c)),o}},S.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var u=S.now()-s;e>u?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=S.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},S.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},S.wrap=function(t,e){return S.partial(e,t)},S.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},S.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},S.keys=function(t){if(!S.isObject(t))return[];if(T)return T(t);var e=[];for(var n in t)S.has(t,n)&&e.push(n);return e},S.values=function(t){for(var e=S.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},S.pairs=function(t){for(var e=S.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},S.invert=function(t){for(var e={},n=S.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},S.functions=S.methods=function(t){var e=[];for(var n in t)S.isFunction(t[n])&&e.push(n);return e.sort()},S.extend=function(t){return E(u.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},S.pick=function(t){var e={},n=c.apply(o,u.call(arguments,1));return E(n,function(n){n in t&&(e[n]=t[n])}),e},S.omit=function(t){var e={},n=c.apply(o,u.call(arguments,1));for(var i in t)S.contains(n,i)||(e[i]=t[i]);return e},S.defaults=function(t){return E(u.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,e){return e(t),t};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof S&&(t=t._wrapped),e instanceof S&&(e=e._wrapped);var r=h.call(t);if(r!=h.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(S.isFunction(s)&&s instanceof s&&S.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var l=0,u=!0;if("[object Array]"==r){if(l=t.length,u=l==e.length)for(;l--&&(u=P(t[l],e[l],n,i)););}else{for(var c in t)if(S.has(t,c)&&(l++,!(u=S.has(e,c)&&P(t[c],e[c],n,i))))break;if(u){for(c in e)if(S.has(e,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};S.isEqual=function(t,e){return P(t,e,[],[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var e in t)if(S.has(t,e))return!1;return!0},S.isElement=function(t){return!(!t||1!==t.nodeType)},S.isArray=C||function(t){return"[object Array]"==h.call(t)},S.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(t){return"function"==typeof t}),S.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},S.isNaN=function(t){return S.isNumber(t)&&t!=+t},S.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,e){return d.call(t,e)},S.noConflict=function(){return t._=i,this},S.identity=function(t){return t},S.constant=function(t){return function(){return t}},S.property=function(t){return function(e){return e[t]}},S.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},S.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},S.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},S.now=Date.now||function(){return(new Date).getTime()};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=S.invert(D.escape);var L={escape:new RegExp("["+S.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(D.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(e){return null==e?"":(""+e).replace(L[t],function(e){return D[t][e]})}}),S.result=function(t,e){if(null!=t){var n=t[e];return S.isFunction(n)?n.call(t):n}},S.mixin=function(t){E(S.functions(t),function(e){var n=S[e]=t[e];S.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),j.call(this,n.apply(S,t))}})};var H=0;S.uniqueId=function(t){var e=++H+"";return t?t+e:e},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(t,e,n){var i;n=S.defaults({},n,S.templateSettings);var r=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,n,i,r,a){return s+=t.slice(o,a).replace(W,function(t){return"\\"+F[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,S);var l=function(t){return i.call(this,t,S)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},S.chain=function(t){return S(t).chain()};var j=function(t){return this._chain?S(t).chain():t};S.mixin(S),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];S.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],j.call(this,n)}}),E(["concat","join","slice"],function(t){var e=o[t];S.prototype[t]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return S})}).call(this)},{}],Draggable:[function(t,e,n){(function(n){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof n?n:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite"],function(t,e){var n,r,o,s,a,l={css:{}},u={css:{}},c={css:{}},h={css:{}},d=i._gsDefine.globals,f={},p=document,g=p.documentElement||{},m=[],v=function(){return!1},y=180/Math.PI,w=999999999999999,_=Date.now||function(){return(new Date).getTime()},b=!(p.addEventListener||!p.all),C=p.createElement("div"),T=[],x={},S=0,E=/^(?:a|input|textarea|button|select)$/i,R=0,M=-1!==navigator.userAgent.toLowerCase().indexOf("android"),k=0,O={},A=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var n,i=[],r=t.length;for(n=0;n!==r;i.push(t[n++]));return i},N=function(){for(var t=T.length;--t>-1;)T[t]()},P=function(t){T.push(t),1===T.length&&e.ticker.addEventListener("tick",N,this,!1,1)},D=function(t){for(var n=T.length;--n>-1;)T[n]===t&&T.splice(n,1);e.to(L,0,{overwrite:"all",delay:15,onComplete:L})},L=function(){T.length||e.ticker.removeEventListener("tick",N)},H=function(t,e){var n;for(n in e)void 0===t[n]&&(t[n]=e[n]);return t},I=function(){return null!=window.pageYOffset?window.pageYOffset:null!=p.scrollTop?p.scrollTop:g.scrollTop||p.body.scrollTop||0},F=function(){return null!=window.pageXOffset?window.pageXOffset:null!=p.scrollLeft?p.scrollLeft:g.scrollLeft||p.body.scrollLeft||0},W=function(t,e){xt(t,"scroll",e),B(t.parentNode)||W(t.parentNode,e)},j=function(t,e){St(t,"scroll",e),B(t.parentNode)||j(t.parentNode,e)},B=function(t){return!(t&&t!==g&&t!==p&&t!==p.body&&t!==window&&t.nodeType&&t.parentNode)},z=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n,r="client"+n,o=p.body;return Math.max(0,B(t)?Math.max(g[i],o[i])-(window["inner"+n]||g[r]||o[r]):t[i]-t[r])},V=function(t){var e=B(t),n=z(t,"x"),i=z(t,"y");e?t=O:V(t.parentNode),t._gsMaxScrollX=n,t._gsMaxScrollY=i,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},U=function(t,e){return t=t||window.event,f.pageX=t.clientX+p.body.scrollLeft+g.scrollLeft,f.pageY=t.clientY+p.body.scrollTop+g.scrollTop,e&&(t.returnValue=!1),f},Y=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},G=function(t,e){var i,r,o,s=t.style;if(void 0===s[e]){for(o=["O","Moz","ms","Ms","Webkit"],r=5,i=e.charAt(0).toUpperCase()+e.substr(1);--r>-1&&void 0===s[o[r]+i];);if(0>r)return"";n=3===r?"ms":o[r],e=n+i}return e},X=function(t,e,n){var i=t.style;i&&(void 0===i[e]&&(e=G(t,e)),null==n?i.removeProperty?i.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):i.removeAttribute(e):void 0!==i[e]&&(i[e]=n))},q=p.defaultView?p.defaultView.getComputedStyle:v,$=/(?:Left|Right|Width)/i,K=/(?:\d|\-|\+|=|#|\.)*/g,Z=function(t,e,n,i,r){if("px"===i||!i)return n;if("auto"===i||!n)return 0;var o,s=$.test(e),a=t,l=nt.style,u=0>n;return u&&(n=-n),"%"===i&&-1!==e.indexOf("border")?o=n/100*(s?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+J(t,"position",!0)+";line-height:0;","%"!==i&&a.appendChild?l[s?"borderLeftWidth":"borderTopWidth"]=n+i:(a=t.parentNode||p.body,l[s?"width":"height"]=n+i),a.appendChild(nt),o=parseFloat(nt[s?"offsetWidth":"offsetHeight"]),a.removeChild(nt),0!==o||r||(o=Z(t,e,n,i,!0))),u?-o:o},Q=function(t,e){if("absolute"!==J(t,"position",!0))return 0;var n="left"===e?"Left":"Top",i=J(t,"margin"+n,!0);return t["offset"+n]-(Z(t,e,parseFloat(i),(i+"").replace(K,""))||0)},J=function(t,e,n){var i,r=(t._gsTransform||{})[e];return r||0===r?r:(t.style[e]?r=t.style[e]:(i=q(t))?(r=i.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),r=r||i.length?r:i[e]):t.currentStyle&&(r=t.currentStyle[e]),"auto"!==r||"top"!==e&&"left"!==e||(r=Q(t,e)),n?r:parseFloat(r)||0)},tt=function(t,e,n){var i=t.vars,r=i[n],o=t._listeners[e];"function"==typeof r&&r.apply(i[n+"Scope"]||t,i[n+"Params"]||[t.pointerEvent]),o&&t.dispatchEvent(e)},et=function(t,e){var n,i,r,o=Y(t);return o?wt(o,e):void 0!==t.left?(r=pt(e),{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height}):(i=t.min||t.minX||t.minRotation||0,n=t.min||t.minY||0,{left:i,top:n,width:(t.max||t.maxX||t.maxRotation||0)-i,height:(t.max||t.maxY||0)-n})},nt=p.createElement("div"),it=""!==G(nt,"perspective"),rt=G(nt,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),ot=G(nt,"transform"),st=ot.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),at={},lt={},ut=function(){if(!b){var t="http://www.w3.org/2000/svg",e=p.createElementNS(t,"svg"),n=p.createElementNS(t,"rect");return n.setAttributeNS(null,"width","10"),n.setAttributeNS(null,"height","10"),e.appendChild(n),e}}(),ct=window.SVGElement,ht=function(t){return!!(ct&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},dt=["class","viewBox","width","height","xml:space"],ft=function(t){if(!t.getBoundingClientRect||!t.parentNode)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:g};if(t._gsSVGData&&t._gsSVGData.lastUpdate===e.ticker.frame)return t._gsSVGData;var n,i,r,o,s,a,l=t,u=t.style.cssText,c=t._gsSVGData=t._gsSVGData||{};if("svg"!==(t.nodeName+"").toLowerCase()&&t.getBBox){for(l=t.parentNode,n=t.getBBox();l&&"svg"!==(l.nodeName+"").toLowerCase();)l=l.parentNode;return c=ft(l),{offsetTop:n.y*c.scaleY,offsetLeft:n.x*c.scaleX,scaleX:c.scaleX,scaleY:c.scaleY,offsetParent:l||g}}for(;!l.offsetParent&&l.parentNode;)l=l.parentNode;for(t.parentNode.insertBefore(ut,t),t.parentNode.removeChild(t),ut.style.cssText=u,ut.style[ot]="none",s=dt.length;--s>-1;)a=t.getAttribute(dt[s]),a?ut.setAttribute(dt[s],a):ut.removeAttribute(dt[s]);return n=ut.getBoundingClientRect(),o=ut.firstChild.getBoundingClientRect(),r=l.offsetParent,r?(r===p.body&&g&&(r=g),i=r.getBoundingClientRect()):i={top:-I(),left:-F()},ut.parentNode.insertBefore(t,ut),t.parentNode.removeChild(ut),c.scaleX=o.width/10,c.scaleY=o.height/10,c.offsetLeft=n.left-i.left,c.offsetTop=n.top-i.top,c.offsetParent=l.offsetParent||g,c.lastUpdate=e.ticker.frame,c},pt=function(t,n){if(n=n||{},!t||t===g||!t.parentNode)return{x:0,y:0};var i=q(t),r=rt&&i?i.getPropertyValue(rt):"50% 50%",o=r.split(" "),s=-1!==r.indexOf("left")?"0%":-1!==r.indexOf("right")?"100%":o[0],a=-1!==r.indexOf("top")?"0%":-1!==r.indexOf("bottom")?"100%":o[1];return"center"!==a&&null!=a||(a="50%"),("center"===s||isNaN(parseFloat(s)))&&(s="50%"),t.getBBox&&ht(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.16.1")),r=t.getBBox(),o=ft(t),n.x=(t._gsTransform.xOrigin-r.x)*o.scaleX,n.y=(t._gsTransform.yOrigin-r.y)*o.scaleY):(n.x=-1!==s.indexOf("%")?t.offsetWidth*parseFloat(s)/100:parseFloat(s),n.y=-1!==a.indexOf("%")?t.offsetHeight*parseFloat(a)/100:parseFloat(a)),n},gt=function(t,e,n){var i,r,o,a,l,u;return t!==window&&t&&t.parentNode?(i=q(t),r=i?i.getPropertyValue(st):t.currentStyle?t.currentStyle[ot]:"1,0,0,1,0,0",r=(r+"").match(/(?:\-|\b)[\d\-\.e]+\b/g)||[1,0,0,1,0,0],r.length>6&&(r=[r[0],r[1],r[4],r[5],r[12],r[13]]),e&&(o=t.parentNode,u=t.getBBox&&ht(t)||void 0===t.offsetLeft&&"svg"===(t.nodeName+"").toLowerCase()?ft(t):t,a=u.offsetParent,l=o===g||o===p.body,void 0===s&&p.body&&ot&&(s=function(){var t,e,n=p.createElement("div"),i=p.createElement("div");return i.style.position="absolute",p.body.appendChild(n),n.appendChild(i),t=i.offsetParent,n.style[ot]="rotate(1deg)",e=i.offsetParent===t,p.body.removeChild(n),e}()),r[4]=Number(r[4])+e.x+(u.offsetLeft||0)-n.x-(l?0:o.scrollLeft)+(a?parseInt(J(a,"borderLeftWidth"),10)||0:0),r[5]=Number(r[5])+e.y+(u.offsetTop||0)-n.y-(l?0:o.scrollTop)+(a?parseInt(J(a,"borderTopWidth"),10)||0:0),!o||o.offsetParent!==a||s&&"100100"!==gt(o).join("")||(r[4]-=o.offsetLeft||0,r[5]-=o.offsetTop||0),o&&"fixed"===J(t,"position",!0)&&(r[4]+=F(),r[5]+=I())),r):[1,0,0,1,0,0]},mt=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var n,i,r,o,s,a,l,u,c=pt(t,at),h=pt(t.parentNode,lt),d=gt(t,c,h);(t=t.parentNode)&&t.parentNode&&t!==g;)c=h,h=pt(t.parentNode,c===at?lt:at),l=gt(t,c,h),n=d[0],i=d[1],r=d[2],o=d[3],s=d[4],a=d[5],d[0]=n*l[0]+i*l[2],d[1]=n*l[1]+i*l[3],d[2]=r*l[0]+o*l[2],d[3]=r*l[1]+o*l[3],d[4]=s*l[0]+a*l[2]+l[4],d[5]=s*l[1]+a*l[3]+l[5];return e&&(n=d[0],i=d[1],r=d[2],o=d[3],s=d[4],a=d[5],u=n*o-i*r,d[0]=o/u,d[1]=-i/u,d[2]=-r/u,d[3]=n/u,d[4]=(r*a-o*s)/u,d[5]=-(n*a-i*s)/u),d},vt=function(t,e,n){var i=mt(t),r=e.x,o=e.y;return n=n===!0?e:n||{},n.x=r*i[0]+o*i[2]+i[4],n.y=r*i[1]+o*i[3]+i[5],n},yt=function(t,e,n){var i=t.x*e[0]+t.y*e[2]+e[4],r=t.x*e[1]+t.y*e[3]+e[5];return t.x=i*n[0]+r*n[2]+n[4],t.y=i*n[1]+r*n[3]+n[5],t},wt=function(t,e){var n,i,r,o,s,a,l,u,c,h,d;return t===window?(o=I(),i=F(),r=i+(g.clientWidth||t.innerWidth||p.body.clientWidth||0),s=o+((t.innerHeight||0)-20<g.clientHeight?g.clientHeight:t.innerHeight||p.body.clientHeight||0)):(n=pt(t),i=-n.x,r=i+t.offsetWidth,o=-n.y,s=o+t.offsetHeight),t===e?{left:i,top:o,width:r-i,height:s-o}:(a=mt(t),l=mt(e,!0),u=yt({x:i,y:o},a,l),c=yt({x:r,y:o},a,l),h=yt({x:r,y:s},a,l),d=yt({x:i,y:s},a,l),i=Math.min(u.x,c.x,h.x,d.x),o=Math.min(u.y,c.y,h.y,d.y),{left:i,top:o,width:Math.max(u.x,c.x,h.x,d.x)-i,height:Math.max(u.y,c.y,h.y,d.y)-o})},_t=function(t){return!!(t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},bt=function(t){var e,n,i,r=[],o=t.length;for(e=0;o>e;e++)if(n=t[e],_t(n))for(i=n.length,i=0;i<n.length;i++)r.push(n[i]);else r.push(n);return r},Ct="ontouchstart"in g&&"orientation"in window,Tt=function(t){for(var e=t.split(","),n=(void 0!==nt.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==nt.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),i={},r=8;--r>-1;)i[e[r]]=n[r],i[n[r]]=e[r];return i}("touchstart,touchmove,touchend,touchcancel"),xt=function(t,e,n,i){t.addEventListener?t.addEventListener(Tt[e]||e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},St=function(t,e,n){t.removeEventListener?t.removeEventListener(Tt[e]||e,n):t.detachEvent&&t.detachEvent("on"+e,n)},Et=function(t){r=t.touches&&R<t.touches.length,St(t.target,"touchend",Et)},Rt=function(t){r=t.touches&&R<t.touches.length,xt(t.target,"touchend",Et)},Mt=function(t,e,n,i,r,o){var s,a,l,u={};if(e)if(1!==r&&e instanceof Array){for(u.end=s=[],l=e.length,a=0;l>a;a++)s[a]=e[a]*r;n+=1.1,i-=1.1}else"function"==typeof e?u.end=function(n){return e.call(t,n)*r}:u.end=e;return(n||0===n)&&(u.max=n),(i||0===i)&&(u.min=i),o&&(u.velocity=0),u},kt=function(t){var e;return t&&t.getAttribute&&"BODY"!==t.nodeName?"true"===(e=t.getAttribute("data-clickable"))||"false"!==e&&(t.onclick||E.test(t.nodeName+"")||"true"===t.getAttribute("contentEditable"))?!0:kt(t.parentNode):!1},Ot=function(t,e){for(var n,i=t.length;--i>-1;)n=t[i],n.ondragstart=n.onselectstart=e?null:v,X(n,"userSelect",e?"text":"none")},At=function(){var t,e=p.createElement("div"),n=p.createElement("div"),i=n.style,r=p.body||nt;return i.display="inline-block",i.position="relative",e.style.cssText=n.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(n),r.appendChild(e),a=n.offsetHeight+18>e.scrollHeight,i.width="100%",ot||(i.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,i.left="-90px",t=t!==e.scrollLeft),r.removeChild(e),t}(),Nt=function(t,n){t=Y(t),n=n||{};var i,r,o,s,l,u,c=p.createElement("div"),h=c.style,d=t.firstChild,f=0,g=0,m=t.scrollTop,v=t.scrollLeft,y=t.scrollWidth,w=t.scrollHeight,_=0,C=0,T=0;it&&n.force3D!==!1?(l="translate3d(",u="px,0px)"):ot&&(l="translate(",u="px)"),this.scrollTop=function(t,e){return arguments.length?void this.top(-t,e):-this.top()},this.scrollLeft=function(t,e){return arguments.length?void this.left(-t,e):-this.left()},this.left=function(i,r){if(!arguments.length)return-(t.scrollLeft+g);var o=t.scrollLeft-v,s=g;return(o>2||-2>o)&&!r?(v=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-v),void(n.onKill&&n.onKill())):(i=-i,0>i?(g=i-.5|0,i=0):i>C?(g=i-C|0,i=C):g=0,(g||s)&&(l?this._suspendTransforms||(h[ot]=l+-g+"px,"+-f+u):h.left=-g+"px",At&&g+_>=0&&(h.paddingRight=g+_+"px")),t.scrollLeft=0|i,void(v=t.scrollLeft))},this.top=function(i,r){if(!arguments.length)return-(t.scrollTop+f);var o=t.scrollTop-m,s=f;return(o>2||-2>o)&&!r?(m=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-m),void(n.onKill&&n.onKill())):(i=-i,0>i?(f=i-.5|0,i=0):i>T?(f=i-T|0,i=T):f=0,(f||s)&&(l?this._suspendTransforms||(h[ot]=l+-g+"px,"+-f+u):h.top=-f+"px"),t.scrollTop=0|i,void(m=t.scrollTop))},this.maxScrollTop=function(){return T},this.maxScrollLeft=function(){return C},this.disable=function(){for(d=c.firstChild;d;)s=d.nextSibling,t.appendChild(d),d=s;t===c.parentNode&&t.removeChild(c)},this.enable=function(){if(d=t.firstChild,d!==c){for(;d;)s=d.nextSibling,c.appendChild(d),d=s;t.appendChild(c),this.calibrate()}},this.calibrate=function(e){var n,s,l=t.clientWidth===i;m=t.scrollTop,v=t.scrollLeft,l&&t.clientHeight===r&&c.offsetHeight===o&&y===t.scrollWidth&&w===t.scrollHeight&&!e||((f||g)&&(n=this.left(),s=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),l&&!e||(h.display="block",h.width="auto",h.paddingRight="0px",_=Math.max(0,t.scrollWidth-t.clientWidth),_&&(_+=J(t,"paddingLeft")+(a?J(t,"paddingRight"):0))),h.display="inline-block",h.position="relative",h.overflow="visible",h.verticalAlign="top",h.width="100%",h.paddingRight=_+"px",a&&(h.paddingBottom=J(t,"paddingBottom",!0)),b&&(h.zoom="1"),i=t.clientWidth,r=t.clientHeight,y=t.scrollWidth,w=t.scrollHeight,C=t.scrollWidth-i,T=t.scrollHeight-r,o=c.offsetHeight,h.display="block",(n||s)&&(this.left(n),this.top(s)))},this.content=c,this.element=t,this._suspendTransforms=!1,this.enable()},Pt=function(n,i){t.call(this,n),n=Y(n),o||(o=d.com.greensock.plugins.ThrowPropsPlugin),this.vars=i=i||{},this.target=n,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(i.dragResistance)||0,this.edgeResistance=isNaN(i.edgeResistance)?1:parseFloat(i.edgeResistance)||0,this.lockAxis=i.lockAxis,this.autoScroll=i.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!i.allowEventDefault;var s,a,f,v,T,E,N,L,I,F,z,G,q,$,K,Z,Q,nt,it,rt,ot,st,at,lt,ut,ct,ht,dt,ft,pt,gt,yt=(i.type||(b?"top,left":"x,y")).toLowerCase(),wt=-1!==yt.indexOf("x")||-1!==yt.indexOf("y"),_t=-1!==yt.indexOf("rotation"),bt=_t?"rotation":wt?"x":"left",Et=wt?"y":"top",At=-1!==yt.indexOf("x")||-1!==yt.indexOf("left")||"scroll"===yt,Dt=-1!==yt.indexOf("y")||-1!==yt.indexOf("top")||"scroll"===yt,Ht=i.minimumMovement||2,It=this,Ft=A(i.trigger||i.handle||n),Wt={},jt=0,Bt=!1,zt=i.clickableTest||kt,Vt=function(t){if(It.autoScroll&&It.isDragging&&(nt||Bt)){var e,i,r,o,s,l,u,c,h=n,d=15*It.autoScroll;for(Bt=!1,O.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=g.scrollTop?g.scrollTop:p.body.scrollTop,O.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=g.scrollLeft?g.scrollLeft:p.body.scrollLeft,o=It.pointerX-O.scrollLeft,s=It.pointerY-O.scrollTop;h&&!i;)i=B(h.parentNode),e=i?O:h.parentNode,r=i?{bottom:Math.max(g.clientHeight,window.innerHeight||0),right:Math.max(g.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),l=u=0,Dt&&(s>r.bottom-40&&(c=e._gsMaxScrollY-e.scrollTop)?(Bt=!0,u=Math.min(c,d*(1-Math.max(0,r.bottom-s)/40)|0)):s<r.top+40&&e.scrollTop&&(Bt=!0,u=-Math.min(e.scrollTop,d*(1-Math.max(0,s-r.top)/40)|0)),u&&(e.scrollTop+=u)),At&&(o>r.right-40&&(c=e._gsMaxScrollX-e.scrollLeft)?(Bt=!0,l=Math.min(c,d*(1-Math.max(0,r.right-o)/40)|0)):o<r.left+40&&e.scrollLeft&&(Bt=!0,l=-Math.min(e.scrollLeft,d*(1-Math.max(0,o-r.left)/40)|0)),l&&(e.scrollLeft+=l)),i&&(l||u)&&(window.scrollTo(e.scrollLeft,e.scrollTop),Jt(It.pointerX+l,It.pointerY+u)),h=e}if(nt){var f=It.x,m=It.y,v=1e-6;v>f&&f>-v&&(f=0),v>m&&m>-v&&(m=0),_t?(ft.data.rotation=It.rotation=f,ft.setRatio(1)):a?(Dt&&a.top(m),At&&a.left(f)):wt?(Dt&&(ft.data.y=m),At&&(ft.data.x=f),ft.setRatio(1)):(Dt&&(n.style.top=m+"px"),At&&(n.style.left=f+"px")),L&&!t&&tt(It,"drag","onDrag")}nt=!1},Ut=function(t,r){var o;n._gsTransform||!wt&&!_t||e.set(n,{x:"+=0",overwrite:!1}),wt?(It.y=n._gsTransform.y,It.x=n._gsTransform.x):_t?It.x=It.rotation=n._gsTransform.rotation:a?(It.y=a.top(),It.x=a.left()):(It.y=parseInt(n.style.top,10)||0,It.x=parseInt(n.style.left,10)||0),!rt&&!ot||r||(rt&&(o=rt(It.x),o!==It.x&&(It.x=o,_t&&(It.rotation=o),nt=!0)),ot&&(o=ot(It.y),o!==It.y&&(It.y=o,nt=!0)),nt&&Vt(!0)),i.onThrowUpdate&&!t&&i.onThrowUpdate.apply(i.onThrowUpdateScope||It,i.onThrowUpdateParams||m)},Yt=function(){var t,e,r,o;N=!1,a?(a.calibrate(),It.minX=F=-a.maxScrollLeft(),It.minY=G=-a.maxScrollTop(),It.maxX=I=It.maxY=z=0,N=!0):i.bounds&&(t=et(i.bounds,n.parentNode),_t?(It.minX=F=t.left,It.maxX=I=t.left+t.width,It.minY=G=It.maxY=z=0):void 0!==i.bounds.maxX||void 0!==i.bounds.maxY?(t=i.bounds,It.minX=F=t.minX,It.minY=G=t.minY,It.maxX=I=t.maxX,It.maxY=z=t.maxY):(e=et(n,n.parentNode),It.minX=F=J(n,bt)+t.left-e.left,It.minY=G=J(n,Et)+t.top-e.top,It.maxX=I=F+(t.width-e.width),It.maxY=z=G+(t.height-e.height)),F>I&&(It.minX=I,It.maxX=I=F,F=It.minX),G>z&&(It.minY=z,It.maxY=z=G,
G=It.minY),_t&&(It.minRotation=F,It.maxRotation=I),N=!0),i.liveSnap&&(r=i.liveSnap===!0?i.snap||{}:i.liveSnap,o=r instanceof Array||"function"==typeof r,_t?(rt=Kt(o?r:r.rotation,F,I,1),ot=null):(At&&(rt=Kt(o?r:r.x||r.left||r.scrollLeft,F,I,a?-1:1)),Dt&&(ot=Kt(o?r:r.y||r.top||r.scrollTop,G,z,a?-1:1))))},Gt=function(t,e){var r,s,l;t&&o?(t===!0&&(r=i.snap||{},s=r instanceof Array||"function"==typeof r,t={resistance:(i.throwResistance||i.resistance||1e3)/(_t?10:1)},_t?t.rotation=Mt(It,s?r:r.rotation,I,F,1,e):(At&&(t[bt]=Mt(It,s?r:r.x||r.left||r.scrollLeft,I,F,a?-1:1,e||"x"===It.lockedAxis)),Dt&&(t[Et]=Mt(It,s?r:r.y||r.top||r.scrollTop,z,G,a?-1:1,e||"y"===It.lockedAxis)))),It.tween=l=o.to(a||n,{throwProps:t,ease:i.ease||d.Power3.easeOut,onComplete:i.onThrowComplete,onCompleteParams:i.onThrowCompleteParams,onCompleteScope:i.onThrowCompleteScope||It,onUpdate:i.fastMode?i.onThrowUpdate:Ut,onUpdateParams:i.fastMode?i.onThrowUpdateParams:null,onUpdateScope:i.onThrowUpdateScope||It},isNaN(i.maxDuration)?2:i.maxDuration,isNaN(i.minDuration)?.5:i.minDuration,isNaN(i.overshootTolerance)?1-It.edgeResistance+.2:i.overshootTolerance),i.fastMode||(a&&(a._suspendTransforms=!0),l.render(l.duration(),!0,!0),Ut(!0,!0),It.endX=It.x,It.endY=It.y,_t&&(It.endRotation=It.x),l.play(0),Ut(!0,!0),a&&(a._suspendTransforms=!1))):N&&It.applyBounds()},Xt=function(){lt=mt(n.parentNode,!0),lt[1]||lt[2]||1!=lt[0]||1!=lt[3]||0!=lt[4]||0!=lt[5]||(lt=null)},qt=function(){var t=1-It.edgeResistance;Xt(),a?(Yt(),E=a.top(),T=a.left()):($t()?(Ut(!0,!0),Yt()):It.applyBounds(),_t?(Q=vt(n,{x:0,y:0}),Ut(!0,!0),T=It.x,E=It.y=Math.atan2(Q.y-v,f-Q.x)*y):(ht=n.parentNode?n.parentNode.scrollTop||0:0,dt=n.parentNode?n.parentNode.scrollLeft||0:0,E=J(n,Et),T=J(n,bt))),N&&t&&(T>I?T=I+(T-I)/t:F>T&&(T=F-(F-T)/t),_t||(E>z?E=z+(E-z)/t:G>E&&(E=G-(G-E)/t)))},$t=function(){return It.tween&&It.tween.isActive()},Kt=function(t,e,n,i){return"function"==typeof t?function(r){var o=It.isPressed?1-It.edgeResistance:1;return t.call(It,r>n?n+(r-n)*o:e>r?e+(r-e)*o:r)*i}:t instanceof Array?function(i){for(var r,o,s=t.length,a=0,l=w;--s>-1;)r=t[s],o=r-i,0>o&&(o=-o),l>o&&r>=e&&n>=r&&(a=s,l=o);return t[a]}:isNaN(t)?function(t){return t}:function(){return t*i}},Zt=function(t){var r,o;if(s&&!It.isPressed&&t&&!("mousedown"===t.type&&_()-ct<30&&Tt[It.pointerEvent.type])){if(ut=$t(),It.pointerEvent=t,Tt[t.type]?(at=-1!==t.type.indexOf("touch")?t.currentTarget:p,xt(at,"touchend",te),xt(at,"touchmove",Qt),xt(at,"touchcancel",te),xt(p,"touchstart",Rt)):(at=null,xt(p,"mousemove",Qt)),gt=null,xt(p,"mouseup",te),t&&t.target&&xt(t.target,"mouseup",te),st=zt.call(It,t.target)&&!i.dragClickables)return xt(t.target,"change",te),tt(It,"press","onPress"),void Ot(Ft,!0);if(pt=!at||At===Dt||a||It.vars.allowNativeTouchScrolling===!1?!1:At?"y":"x",b?t=U(t,!0):pt||It.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=K=t.changedTouches[0],Z=t.identifier):t.pointerId?Z=t.pointerId:K=null,R++,P(Vt),v=It.pointerY=t.pageY,f=It.pointerX=t.pageX,(pt||It.autoScroll)&&V(n.parentNode),!It.autoScroll||_t||a||!n.parentNode||n.getBBox||!n.parentNode._gsMaxScrollX||C.parentNode||(C.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(C)),qt(),lt&&(r=f*lt[0]+v*lt[2]+lt[4],v=f*lt[1]+v*lt[3]+lt[5],f=r),It.tween&&It.tween.kill(),e.killTweensOf(a||n,!0,Wt),a&&e.killTweensOf(n,!0,{scrollTo:1}),It.tween=It.lockedAxis=null,(i.zIndexBoost||!_t&&!a&&i.zIndexBoost!==!1)&&(n.style.zIndex=Pt.zIndex++),It.isPressed=!0,L=!(!i.onDrag&&!It._listeners.drag),!_t)for(o=Ft.length;--o>-1;)X(Ft[o],"cursor",i.cursor||"move");tt(It,"press","onPress")}},Qt=function(t){var e,n,i,o,a=t;if(s&&!r&&It.isPressed&&t){if(It.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==K&&t.identifier!==Z){for(o=e.length;--o>-1&&(t=e[o]).identifier!==Z;);if(0>o)return}}else if(t.pointerId&&Z&&t.pointerId!==Z)return;if(b)t=U(t,!0);else{if(at&&pt&&!gt&&(n=t.pageX,i=t.pageY,lt&&(o=n*lt[0]+i*lt[2]+lt[4],i=n*lt[1]+i*lt[3]+lt[5],n=o),gt=Math.abs(n-f)>Math.abs(i-v)&&At?"x":"y",It.vars.lockAxisOnTouchScroll!==!1&&(It.lockedAxis="x"===gt?"y":"x","function"==typeof It.vars.onLockAxis&&It.vars.onLockAxis.call(It,a)),M&&pt===gt))return void te(a);It.allowEventDefault||pt&&(!gt||pt===gt)||a.cancelable===!1||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}It.autoScroll&&(Bt=!0),Jt(t.pageX,t.pageY)}},Jt=function(t,e){var n,i,r,o,s,a,l=1-It.dragResistance,u=1-It.edgeResistance;It.pointerX=t,It.pointerY=e,_t?(o=Math.atan2(Q.y-e,t-Q.x)*y,s=It.y-o,It.y=o,s>180?E-=360:-180>s&&(E+=360),r=T+(E-o)*l):(lt&&(a=t*lt[0]+e*lt[2]+lt[4],e=t*lt[1]+e*lt[3]+lt[5],t=a),i=e-v,n=t-f,Ht>i&&i>-Ht&&(i=0),Ht>n&&n>-Ht&&(n=0),(It.lockAxis||It.lockedAxis)&&(n||i)&&(a=It.lockedAxis,a||(It.lockedAxis=a=At&&Math.abs(n)>Math.abs(i)?"y":Dt?"x":null,a&&"function"==typeof It.vars.onLockAxis&&It.vars.onLockAxis.call(It,It.pointerEvent)),"y"===a?i=0:"x"===a&&(n=0)),r=T+n*l,o=E+i*l),rt||ot?(rt&&(r=rt(r)),ot&&(o=ot(o))):N&&(r>I?r=I+(r-I)*u:F>r&&(r=F+(r-F)*u),_t||(o>z?o=z+(o-z)*u:G>o&&(o=G+(o-G)*u))),_t||(r=Math.round(r),o=Math.round(o)),(It.x!==r||It.y!==o&&!_t)&&(It.x=It.endX=r,_t?It.endRotation=r:It.y=It.endY=o,nt=!0,It.isDragging||(It.isDragging=!0,tt(It,"dragstart","onDragStart")))},te=function(t,e){if(s&&It.isPressed&&(!t||!Z||e||!t.pointerId||t.pointerId===Z)){It.isPressed=!1;var r,o,a,l,u=t,c=It.isDragging;if(at?(St(at,"touchend",te),St(at,"touchmove",Qt),St(at,"touchcancel",te),St(p,"touchstart",Rt)):St(p,"mousemove",Qt),St(p,"mouseup",te),t&&t.target&&St(t.target,"mouseup",te),nt=!1,C.parentNode&&C.parentNode.removeChild(C),st)return t&&St(t.target,"change",te),Ot(Ft,!1),tt(It,"release","onRelease"),tt(It,"click","onClick"),void(st=!1);if(D(Vt),!_t)for(o=Ft.length;--o>-1;)X(Ft[o],"cursor",i.cursor||"move");if(c&&(jt=k=_(),It.isDragging=!1),R--,t){if(b&&(t=U(t,!1)),r=t.changedTouches,r&&(t=r[0],t!==K&&t.identifier!==Z)){for(o=r.length;--o>-1&&(t=r[o]).identifier!==Z;);if(0>o)return}It.pointerEvent=u,It.pointerX=t.pageX,It.pointerY=t.pageY}return u&&!c?(ut&&(i.snap||i.bounds)&&Gt(i.throwProps),tt(It,"release","onRelease"),M&&"touchmove"===u.type||(tt(It,"click","onClick"),l=u.target||u.srcElement||n,l.click?l.click():p.createEvent&&(a=p.createEvent("MouseEvents"),a.initEvent("click",!0,!0),l.dispatchEvent(a)),ct=_())):(Gt(i.throwProps),b||It.allowEventDefault||!u||!i.dragClickables&&zt.call(It,u.target)||!c||pt&&(!gt||pt!==gt)||u.cancelable===!1||(u.preventDefault(),u.preventManipulation&&u.preventManipulation()),tt(It,"release","onRelease")),c&&tt(It,"dragend","onDragEnd"),!0}},ee=function(t){if(t&&It.isDragging){var e=t.target||t.srcElement||n.parentNode,i=e.scrollLeft-e._gsScrollX,r=e.scrollTop-e._gsScrollY;(i||r)&&(f-=i,v-=r,e._gsScrollX+=i,e._gsScrollY+=r,Jt(It.pointerX,It.pointerY))}},ne=function(t){var e=_(),n=40>e-ct,i=40>e-jt;(It.isPressed||i||n)&&(t.preventDefault?(t.preventDefault(),(n||i&&It.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation()):t.returnValue=!1,t.preventManipulation&&t.preventManipulation())};it=Pt.get(this.target),it&&it.kill(),this.startDrag=function(t){Zt(t),It.isDragging||(It.isDragging=!0,tt(It,"dragstart","onDragStart"))},this.drag=Qt,this.endDrag=function(t){te(t,!0)},this.timeSinceDrag=function(){return It.isDragging?0:(_()-jt)/1e3},this.hitTest=function(t,e){return Pt.hitTest(It.target,t,e)},this.getDirection=function(t,e){var n,i,r,s,a,l,u="velocity"===t&&o?t:"object"!=typeof t||_t?"start":"element";return"element"===u&&(a=Lt(It.target),l=Lt(t)),n="start"===u?It.x-T:"velocity"===u?o.getVelocity(this.target,bt):a.left+a.width/2-(l.left+l.width/2),_t?0>n?"counter-clockwise":"clockwise":(e=e||2,i="start"===u?It.y-E:"velocity"===u?o.getVelocity(this.target,Et):a.top+a.height/2-(l.top+l.height/2),r=Math.abs(n/i),s=1/e>r?"":0>n?"left":"right",e>r&&(""!==s&&(s+="-"),s+=0>i?"up":"down"),s)},this.applyBounds=function(t){var e,n;return t&&i.bounds!==t?(i.bounds=t,It.update(!0)):(Ut(!0),Yt(),N&&(e=It.x,n=It.y,N&&(e>I?e=I:F>e&&(e=F),n>z?n=z:G>n&&(n=G)),It.x===e&&It.y===n||(It.x=It.endX=e,_t?It.endRotation=e:It.y=It.endY=n,nt=!0,Vt())),It)},this.update=function(t){var e=It.x,n=It.y;return Xt(),t?It.applyBounds():(nt&&Vt(),Ut(!0)),It.isPressed&&(At&&Math.abs(e-It.x)>.01||Dt&&Math.abs(n-It.y)>.01&&!_t)&&qt(),It},this.enable=function(t){var r,l,u;if("soft"!==t){for(l=Ft.length;--l>-1;)u=Ft[l],xt(u,"mousedown",Zt),xt(u,"touchstart",Zt),xt(u,"click",ne,!0),_t||X(u,"cursor",i.cursor||"move"),X(u,"touchCallout","none"),X(u,"touchAction",At===Dt||a?"none":At?"pan-y":"pan-x");Ot(Ft,!1)}return W(It.target,ee),s=!0,o&&"soft"!==t&&o.track(a||n,wt?"x,y":_t?"rotation":"top,left"),a&&a.enable(),n._gsDragID=r="d"+S++,x[r]=this,a&&(a.element._gsDragID=r),e.set(n,{x:"+=0",overwrite:!1}),ft={t:n,data:b?$:n._gsTransform,tween:{},setRatio:b?function(){e.set(n,q)}:CSSPlugin._internals.setTransformRatio||CSSPlugin._internals.set3DTransformRatio},this.update(!0),It},this.disable=function(t){var e,i,r=this.isDragging;if(!_t)for(e=Ft.length;--e>-1;)X(Ft[e],"cursor",null);if("soft"!==t){for(e=Ft.length;--e>-1;)i=Ft[e],X(i,"touchCallout",null),X(i,"touchAction",null),St(i,"mousedown",Zt),St(i,"touchstart",Zt),St(i,"click",ne);Ot(Ft,!0),at&&(St(at,"touchcancel",te),St(at,"touchend",te),St(at,"touchmove",Qt)),St(p,"mouseup",te),St(p,"mousemove",Qt)}return j(n,ee),s=!1,o&&"soft"!==t&&o.untrack(a||n,wt?"x,y":_t?"rotation":"top,left"),a&&a.disable(),D(Vt),this.isDragging=this.isPressed=st=!1,r&&tt(this,"dragend","onDragEnd"),It},this.enabled=function(t,e){return arguments.length?t?this.enable(e):this.disable(e):s},this.kill=function(){return e.killTweensOf(a||n,!0,Wt),It.disable(),delete x[n._gsDragID],It},-1!==yt.indexOf("scroll")&&(a=this.scrollProxy=new Nt(n,H({onKill:function(){It.isPressed&&te(null)}},i)),n.style.overflowY=Dt&&!Ct?"auto":"hidden",n.style.overflowX=At&&!Ct?"auto":"hidden",n=a.content),i.force3D!==!1&&e.set(n,{force3D:!0}),_t?Wt.rotation=1:(At&&(Wt[bt]=1),Dt&&(Wt[Et]=1)),_t?(q=h,$=q.css,q.overwrite=!1):wt&&(q=At&&Dt?l:At?u:c,$=q.css,q.overwrite=!1),this.enable()},Dt=Pt.prototype=new t;Dt.constructor=Pt,Dt.pointerX=Dt.pointerY=0,Dt.isDragging=Dt.isPressed=!1,Pt.version="0.13.0",Pt.zIndex=1e3,xt(p,"touchcancel",function(){}),xt(p,"contextmenu",function(t){var e;for(e in x)x[e].isPressed&&x[e].endDrag()}),Pt.create=function(t,n){"string"==typeof t&&(t=e.selector(t));for(var i=_t(t)?bt(t):[t],r=i.length;--r>-1;)i[r]=new Pt(i[r],n);return i},Pt.get=function(t){return x[(Y(t)||{})._gsDragID]},Pt.timeSinceDrag=function(){return(_()-k)/1e3};var Lt=function(t,e){var n=t.pageX!==e?{left:t.pageX,top:t.pageY,right:t.pageX+1,bottom:t.pageY+1}:t.nodeType||t.left===e||t.top===e?Y(t).getBoundingClientRect():t;return n.right===e&&n.width!==e?(n.right=n.left+n.width,n.bottom=n.top+n.height):n.width===e&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n};return Pt.hitTest=function(t,e,n){if(t===e)return!1;var i,r,o,s=Lt(t),a=Lt(e),l=a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top;return l||!n?!l:(o=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,i={left:Math.max(s.left,a.left),top:Math.max(s.top,a.top)},i.width=Math.min(s.right,a.right)-i.left,i.height=Math.min(s.bottom,a.bottom)-i.top,i.width<0||i.height<0?!1:o?(n*=.01,r=i.width*i.height,r>=s.width*s.height*n||r>=a.width*a.height*n):i.width>n&&i.height>n)},C.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Pt},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(n){"use strict";var r=function(){return(i.GreenSockGlobals||i)[n]};"function"==typeof define&&define.amd?define(["TweenLite"],r):"undefined"!=typeof e&&e.exports&&(t("TweenMax"),e.exports=r())}("Draggable")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{TweenMax:"TweenMax"}],DrawSVGPlugin:[function(t,e,n){(function(t){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";function t(t,e,n,i){return n=parseFloat(n)-parseFloat(t),i=parseFloat(i)-parseFloat(e),Math.sqrt(n*n+i*i)}function e(t){return"string"!=typeof t&&t.nodeType||(t=n.TweenLite.selector(t),t.length&&(t=t[0])),t}function i(t,e,n){var i,r,o=t.indexOf(" ");return-1===o?(i=void 0!==n?n+"":t,r=t):(i=t.substr(0,o),r=t.substr(o+1)),i=-1!==i.indexOf("%")?parseFloat(i)/100*e:parseFloat(i),r=-1!==r.indexOf("%")?parseFloat(r)/100*e:parseFloat(r),i>r?[r,i]:[i,r]}function r(n){if(!n)return 0;n=e(n);var i,r,o,s,a,u,c,h=n.tagName.toLowerCase();if("path"===h){s=n.style.strokeDasharray,n.style.strokeDasharray="none",i=n.getTotalLength()||0;try{r=n.getBBox()}catch(d){}n.style.strokeDasharray=s}else if("rect"===h)i=2*n.getAttribute("width")+2*n.getAttribute("height");else if("circle"===h)i=2*Math.PI*parseFloat(n.getAttribute("r"));else if("line"===h)i=t(n.getAttribute("x1"),n.getAttribute("y1"),n.getAttribute("x2"),n.getAttribute("y2"));else if("polyline"===h||"polygon"===h)for(o=n.getAttribute("points").match(l)||[],"polygon"===h&&o.push(o[0],o[1]),i=0,a=2;a<o.length;a+=2)i+=t(o[a-2],o[a-1],o[a],o[a+1])||0;else"ellipse"===h&&(u=parseFloat(n.getAttribute("rx")),c=parseFloat(n.getAttribute("ry")),i=Math.PI*(3*(u+c)-Math.sqrt((3*u+c)*(u+3*c))));return i||0}function o(t,n){if(!t)return[0,0];t=e(t),n=n||r(t)+1;var i=a(t),o=i.strokeDasharray||"",s=parseFloat(i.strokeDashoffset),l=o.indexOf(",");return 0>l&&(l=o.indexOf(" ")),o=0>l?n:parseFloat(o.substr(0,l))||1e-5,o>n&&(o=n),[Math.max(0,-s),Math.max(0,o-s)]}var s,a=document.defaultView?document.defaultView.getComputedStyle:function(){},l=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;s=n._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.10",global:!0,overwriteProps:["drawSVG"],init:function(t,e,n){if(!t.getBBox)return!1;var s,a,l,u=r(t)+1;return this._style=t.style,e===!0||"true"===e?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",s=o(t,u),a=i(e,u,s[0]),this._length=u+10,0===s[0]&&0===a[0]?(l=Math.max(1e-5,a[1]-u),this._dash=u+l,this._offset=u-s[1]+l,this._addTween(this,"_offset",this._offset,u-a[1]+l,"drawSVG")):(this._dash=s[1]-s[0]||1e-6,this._offset=-s[0],this._addTween(this,"_dash",this._dash,a[1]-a[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-a[0],"drawSVG")),!0},set:function(t){this._firstPT&&(this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,1===t||0===t?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),s.getLength=r,s.getPosition=o}),n._gsDefine&&n._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],Dropzone:[function(t,e,n){e.exports=function(){var t,n,i,r,o,s,a,l,u=[].slice,c={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};return a=function(){},n=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,n,i,r,o;if(i=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,o=n.length;o>r;r++)e=n[r],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var n,i,r,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[t],!i)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(r=o=0,s=i.length;s>o;r=++o)if(n=i[r],n===e){i.splice(r,1);break}return this},t}(),t=function(t){function e(t,n){var r,o,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),this.element.dropzone=this,r=null!=(s=e.optionsForElement(this.element))?s:{},this.options=i({},this.defaultOptions,r,null!=n?n:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var i,r;return h(e,t),e.prototype.Emitter=n,e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return a},forceFallback:!1,fallback:function(){var t,n,i,r,o,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),r=0,o=s.length;o>r;r++)t=s[r],/(^| )dz-message($| )/.test(t.className)&&(n=t,t.className="dz-message");return n||(n=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),i=n.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n,i,r,o,s,a,l,u,c,h,d,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),h=t.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=h.length;l>o;o++)n=h[o],n.textContent=t.name;for(d=t.previewElement.querySelectorAll("[data-dz-size]"),s=0,u=d.length;u>s;s++)n=d[s],n.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),i=function(n){return function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}}(this),f=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,c=f.length;c>a;a++)r=f[a],p.push(r.addEventListener("click",i));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,r,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=o.length;r>i;i++)n=o[i],n.alt=t.name,n.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var n,i,r,o,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),o=t.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(n.textContent=e);return s}},errormultiple:a,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(t,e,n){var i,r,o,s,a;if(t.previewElement){for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],r=0,o=s.length;o>r;r++)i=s[r],"PROGRESS"===i.nodeName?a.push(i.value=e):a.push(i.style.width=""+e+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:a,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var t,e,n,i,r,o,s;for(i=arguments[0],n=2<=arguments.length?u.call(arguments,1):[],o=0,s=n.length;s>o;o++){e=n[o];for(t in e)r=e[t],i[t]=r}return i},e.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted&&r.push(t);return r},e.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted||r.push(t);return r},e.prototype.getFilesWithStatus=function(t){var e,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)e=r[n],e.status===t&&o.push(e);return o},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getActiveFiles=function(){var t,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)t=r[n],t.status!==e.UPLOADING&&t.status!==e.QUEUED||o.push(t);return o},e.prototype.init=function(){var t,n,i,r,o,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,n,r,o;if(n=t.hiddenFileInput.files,n.length)for(r=0,o=n.length;o>r;r++)e=n[r],t.addFile(e);return i()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,r=0,o=a.length;o>r;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return n(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var i;try{i=e.dataTransfer.effectAllowed}catch(r){}return e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",n(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return n(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(n){return t.listeners.push({element:n,events:{click:function(i){return n!==t.element||i.target===t.element||e.elementInside(i.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,o,s,a;if(i=0,n=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),o=0,s=a.length;s>o;o++)e=a[o],i+=e.upload.bytesSent,n+=e.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},e.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},e.prototype.getFallbackForm=function(){var t,n,i,r;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',
n=e.createElement(i),"FORM"!==this.element.tagName?(r=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:n)},e.prototype.getExistingFallback=function(){var t,e,n,i,r,o;for(e=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],i=0,r=o.length;r>i;i++)if(n=o[i],t=e(this.element.getElementsByTagName(n)))return t},e.prototype.setupEventListeners=function(){var t,e,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.addEventListener(e,n,!1));return r}());return s},e.prototype.removeEventListeners=function(){var t,e,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;r>i;i++)t=o[i],s.push(function(){var i,r;i=t.events,r=[];for(e in i)n=i[e],r.push(t.element.removeEventListener(e,n,!1));return r}());return s},e.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(this.cancelUpload(t));return r},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e,n,i,r,o,s,a,l;for(s=["TB","GB","MB","KB","b"],i=r=null,n=a=0,l=s.length;l>a;n=++a)if(o=s[n],e=Math.pow(this.options.filesizeBase,4-n)/10,t>=e){i=t/Math.pow(this.options.filesizeBase,4-n),r=o;break}return i=Math.round(10*i)/10,"<strong>"+i+"</strong> "+r},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(n=t.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},e.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},e.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addFile(e));return r},e.prototype._addFilesFromItems=function(t){var e,n,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],null!=n.webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?o.push(this.addFile(n.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},e.prototype._addFilesFromDirectory=function(t,e){var n,i;return n=t.createReader(),i=function(t){return function(n){var i,r,o;for(r=0,o=n.length;o>r;r++)i=n[r],i.isFile?i.file(function(n){return t.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+e+"/"+n.name,t.addFile(n))}):i.isDirectory&&t._addFilesFromDirectory(i,""+e+"/"+i.name)}}(this),n.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},e.prototype.accept=function(t,n){return t.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},e.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)e=t[n],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},e.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=l(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var n,i,r,o;for(null==t&&(t=!1),o=this.files.slice(),i=0,r=o.length;r>i;i++)n=o[i],(n.status!==e.UPLOADING||t)&&this.removeFile(n);return null},e.prototype.createThumbnail=function(t,e){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===t.type?(i.emit("thumbnail",t,n.result),void(null!=e&&e())):i.createThumbnailFromUrl(t,n.result,e)}}(this),n.readAsDataURL(t)},e.prototype.createThumbnailFromUrl=function(t,e,n){var i;return i=document.createElement("img"),i.onload=function(e){return function(){var r,o,a,l,u,c,h,d;return t.width=i.width,t.height=i.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),r=document.createElement("canvas"),o=r.getContext("2d"),r.width=a.trgWidth,r.height=a.trgHeight,s(o,i,null!=(u=a.srcX)?u:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=r.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=n?n():void 0}}(this),null!=n&&(i.onerror=n),i.src=e},e.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;e>t;){if(!i.length)return;this.processFile(i.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var n,i,r;for(i=0,r=t.length;r>i;i++)n=t[i],n.processing=!0,n.status=e.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e,n;return n=function(){var n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)e=r[n],e.xhr===t&&o.push(e);return o}.call(this)},e.prototype.cancelUpload=function(t){var n,i,r,o,s,a,l;if(t.status===e.UPLOADING){for(i=this._getFilesWithXhr(t.xhr),r=0,s=i.length;s>r;r++)n=i[r],n.status=e.CANCELED;for(t.xhr.abort(),o=0,a=i.length;a>o;o++)n=i[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=t.status)!==e.ADDED&&l!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var t,e;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var n,o,s,a,l,u,c,h,d,f,p,g,m,v,y,w,_,b,C,T,x,S,E,R,M,k,O,A,N,P,D,L,H,I;for(C=new XMLHttpRequest,T=0,R=t.length;R>T;T++)n=t[T],n.xhr=C;g=r(this.options.method,t),_=r(this.options.url,t),C.open(g,_,!0),C.withCredentials=!!this.options.withCredentials,y=null,s=function(e){return function(){var i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],o.push(e._errorProcessing(t,y||e.options.dictResponseError.replace("{{statusCode}}",C.status),C));return o}}(this),w=function(e){return function(i){var r,o,s,a,l,u,c,h,d;if(null!=i)for(o=100*i.loaded/i.total,s=0,u=t.length;u>s;s++)n=t[s],n.upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(r=!0,o=100,a=0,c=t.length;c>a;a++)n=t[a],100===n.upload.progress&&n.upload.bytesSent===n.upload.total||(r=!1),n.upload.progress=o,n.upload.bytesSent=n.upload.total;if(r)return}for(d=[],l=0,h=t.length;h>l;l++)n=t[l],d.push(e.emit("uploadprogress",n,o,n.upload.bytesSent));return d}}(this),C.onload=function(n){return function(i){var r;if(t[0].status!==e.CANCELED&&4===C.readyState){if(y=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(o){i=o,y="Invalid JSON response from server."}return w(),200<=(r=C.status)&&300>r?n._finished(t,y,i):s()}}}(this),C.onerror=function(n){return function(){return t[0].status!==e.CANCELED?s():void 0}}(this),v=null!=(N=C.upload)?N:C,v.onprogress=w,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(u,this.options.headers);for(a in u)l=u[a],C.setRequestHeader(a,l);if(o=new FormData,this.options.params){P=this.options.params;for(p in P)b=P[p],o.append(p,b)}for(x=0,M=t.length;M>x;x++)n=t[x],this.emit("sending",n,C,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,C,o),"FORM"===this.element.tagName)for(D=this.element.querySelectorAll("input, textarea, select, button"),S=0,k=D.length;k>S;S++)if(h=D[S],d=h.getAttribute("name"),f=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(L=h.options,E=0,O=L.length;O>E;E++)m=L[E],m.selected&&o.append(d,m.value);else(!f||"checkbox"!==(H=f.toLowerCase())&&"radio"!==H||h.checked)&&o.append(d,h.value);for(c=A=0,I=t.length-1;I>=0?I>=A:A>=I;c=I>=0?++A:--A)o.append(this._getParamName(c),t[c],t[c].name);return C.send(o)},e.prototype._finished=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.SUCCESS,this.emit("success",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,n,i){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.ERROR,this.emit("error",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}(n),t.version="4.0.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],e=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?o.push(i.push(e)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;o>r;r++)n=i[r],t.optionsForElement(n)!==!1?s.push(new t(n)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,i,r,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,i=0,r=o.length;r>i;i++)n=o[i],n.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},l=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],n!==e&&o.push(n);return o},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,i,r,o,s,a,l,u;if(t instanceof Array){r=[];try{for(o=0,a=t.length;a>o;o++)i=t[o],r.push(this.getElement(i,e))}catch(c){n=c,r=null}}else if("string"==typeof t)for(r=[],u=document.querySelectorAll(t),s=0,l=u.length;l>s;s++)i=u[s],r.push(i);else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,i,r,o,s;if(!e)return!0;for(e=e.split(","),i=t.type,n=i.replace(/\/.*$/,""),o=0,s=e.length;s>o;o++)if(r=e[o],r=r.trim(),"."===r.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof e&&null!==e?e.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t){var e,n,i,r,o,s,a,l,u,c;for(a=t.naturalWidth,s=t.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(t,0,0),r=i.getImageData(0,0,1,s).data,c=0,o=s,l=s;l>c;)e=r[4*(l-1)+3],0===e?o=l:c=l,l=o+c>>1;return u=l/s,0===u?1:u},s=function(t,e,n,i,r,s,a,l,u,c){var h;return h=o(e),t.drawImage(e,n,i,r,s,a,l,u,c/h)},r=function(t,e){var n,i,r,o,s,a,l,u,c;if(r=!1,c=!0,i=t.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?t:i)[l](a+n.type,o,!1),!r&&(r=!0)?e.call(t,n.type||n):void 0):void 0},s=function(){var t;try{u.doScroll("left")}catch(e){return t=e,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!t.frameElement}catch(h){}c&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),t[n](a+"load",o,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},t}.call(this)},{}],TweenMax:[function(t,e,n){(function(t){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var i=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},r=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r.call(e[n],n):r[n%r.length];delete t.cycle},o=function(t,e,i){n.call(this,t,e,i),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},s=1e-10,a=n._internals,l=a.isSelector,u=a.isArray,c=o.prototype=n.to({},.1,{}),h=[];o.version="1.18.5",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},c.updateTo=function(t,e){var i,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in t)this.vars[i]=t[i];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var a,l=1/(1-r),u=this._firstPT;u;)a=u.s+u.c,u.c*=l,u.s=a-u.c,u=u._next;return this},c.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,r,o,l,u,c,h,d,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._totalTime,m=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=f-1e-7?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(0>y||0>=t&&t>=-1e-7||y===s&&"isPause"!==this.data)&&y!==t&&(n=!0,y>s&&(r="onReverseComplete")),this._rawPrevTime=d=!e||t||y===t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&y>0)&&(r="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=d=!e||t||y===t?t:s)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&t>=g&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(u=this._time/v,c=this._easeType,h=this._easePower,(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),1===c?this.ratio=1-u:2===c?this.ratio=u:this._time/v<.5?this.ratio=u/2:this.ratio=1-u/2):this.ratio=this._ease.getRatio(this._time/v)),p===this._time&&!n&&m===this._cycle)return void(g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=g,this._rawPrevTime=y,this._cycle=m,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/v):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===g&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==g||r)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!n||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0)))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new o(t,e,i)},o.staggerTo=o.allTo=function(t,e,s,a,c,d,f){a=a||0;var p,g,m,v,y=0,w=[],_=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),c.apply(f||s.callbackScope||this,d||h)},b=s.cycle,C=s.startAt&&s.startAt.cycle;for(u(t)||("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t))),t=t||[],0>a&&(t=i(t),t.reverse(),a*=-1),p=t.length-1,m=0;p>=m;m++){g={};for(v in s)g[v]=s[v];if(b&&(r(g,t,m),null!=g.duration&&(e=g.duration,delete g.duration)),C){C=g.startAt={};for(v in s.startAt)C[v]=s.startAt[v];r(g.startAt,t,m)}g.delay=y+(g.delay||0),m===p&&c&&(g.onComplete=_),w[m]=new o(t[m],e,g),y+=a}return w},o.staggerFrom=o.allFrom=function(t,e,n,i,r,s,a){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,i,r,s,a)},o.staggerFromTo=o.allFromTo=function(t,e,n,i,r,s,a,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,i,r,s,a,l)},o.delayedCall=function(t,e,n,i,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var d=function(t,e){for(var i=[],r=0,o=t._first;o;)o instanceof n?i[r++]=o:(e&&(i[r++]=o),i=i.concat(d(o,e)),r=i.length),o=o._next;return i},f=o.getAllTweens=function(e){return d(t._rootTimeline,e).concat(d(t._rootFramesTimeline,e))};o.killAll=function(t,n,i,r){null==n&&(n=!0),null==i&&(i=!0);var o,s,a,l=f(0!=r),u=l.length,c=n&&i&&r;for(a=0;u>a;a++)s=l[a],(c||s instanceof e||(o=s.target===s.vars.onComplete)&&i||n&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,s,c,h,d,f=a.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),l(t)&&(t=i(t)),u(t))for(h=t.length;--h>-1;)o.killChildTweensOf(t[h],e);else{r=[];for(c in f)for(s=f[c].target.parentNode;s;)s===t&&(r=r.concat(f[c].tweens)),s=s.parentNode;for(d=r.length,h=0;d>h;h++)e&&r[h].totalTime(r[h].totalDuration()),r[h]._enabled(!1,!1)}}};var p=function(t,n,i,r){n=n!==!1,i=i!==!1,r=r!==!1;for(var o,s,a=f(r),l=n&&i&&r,u=a.length;--u>-1;)s=a[u],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&i||n&&!o)&&s.paused(t)};return o.pauseAll=function(t,e,n){p(!0,t,e,n)},o.resumeAll=function(t,e,n){p(!1,t,e,n)},o.globalTimeScale=function(e){var i=t._rootTimeline,r=n.ticker.time;return arguments.length?(e=e||s,i._startTime=r-(r-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,r=n.ticker.frame,i._startTime=r-(r-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),n._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,r=this.vars;for(i in r)n=r[i],u(n)&&-1!==n.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(n));u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},o=1e-10,s=i._internals,a=r._internals={},l=s.isSelector,u=s.isArray,c=s.lazyTweens,h=s.lazyRender,d=n._gsDefine.globals,f=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=function(t,e,n){var i,r,o=t.cycle;for(i in o)r=o[i],t[i]="function"==typeof r?r.call(e[n],n):r[n%r.length];delete t.cycle},g=a.pauseCallback=function(){},m=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},v=r.prototype=new e;return r.version="1.18.5",v.constructor=r,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,n,r){var o=n.repeat&&d.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},v.from=function(t,e,n,r){return this.add((n.repeat&&d.TweenMax||i).from(t,e,n),r)},v.fromTo=function(t,e,n,r,o){var s=r.repeat&&d.TweenMax||i;return e?this.add(s.fromTo(t,e,n,r),o):this.set(t,r,o)},v.staggerTo=function(t,e,n,o,s,a,u,c){var h,d,g=new r({onComplete:a,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),v=n.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],l(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),d=0;d<t.length;d++)h=f(n),h.startAt&&(h.startAt=f(h.startAt),h.startAt.cycle&&p(h.startAt,t,d)),v&&(p(h,t,d),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[d],e,h,d*o);return this.add(g,s)},v.staggerFrom=function(t,e,n,i,r,o,s,a){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,i,r,o,s,a)},v.staggerFromTo=function(t,e,n,i,r,o,s,a,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,i,r,o,s,a,l)},v.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},v.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var n,o,s=new r(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,n=a._first;n;)o=n._next,e&&n instanceof i&&n.target===n.vars.onComplete||s.add(n,n._startTime-n._delay),n=o;return a.add(s,0),s},v.add=function(n,o,s,a){var l,c,h,d,f,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&u(n)){for(s=s||"normal",a=a||0,l=o,c=n.length,h=0;c>h;h++)u(d=n[h])&&(d=new r({tweens:d})),this.add(d,l),"string"!=typeof d&&"function"!=typeof d&&("sequence"===s?l=d._startTime+d.totalDuration()/d._timeScale:"start"===s&&(d._startTime-=d.delay())),l+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(e.prototype.add.call(this,n,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>n._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&u(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,n){e.prototype._remove.call(this,t,n);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)},v.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,n,r){var o=i.delayedCall(0,g,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,n,i,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&u(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,i);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?i?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,i):this.duration()}return Number(e)+n},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,r,s,a,l,u,d,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._startTime,m=this._timeScale,v=this._paused;if(t>=f-1e-7)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=f+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(i=this._first;i&&i._startTime<=t&&!u;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(u=i),
i=i._next;else for(i=this._last;i&&i._startTime>=t&&!u;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(u=i),i=i._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||n||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),d=this._time,d>=p)for(i=this._first;i&&(s=i._next,d===this._time&&(!this._paused||v));)(i._active||i._startTime<=d&&!i._paused&&!i._gc)&&(u===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=s;else for(i=this._last;i&&(s=i._prev,d===this._time&&(!this._paused||v));){if(i._active||i._startTime<=p&&!i._paused&&!i._gc){if(u===i){for(u=i._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,n),u=u._prev;u=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=s}this._onUpdate&&(e||(c.length&&h(),this._callback("onUpdate"))),a&&(this._gc||g!==this._startTime&&m===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(c.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof i?e!==!1&&(o[a++]=s):(n!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,n)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var n,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(s[a++]=n[r]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,n){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,n)},v.totalTime=function(e,n,i){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,i=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(i-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),n=r._startTime+r._totalDuration/r._timeScale,n>i&&(i=n),r=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},v.paused=function(e){if(!e)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),n._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,o=e._internals,s=o.lazyTweens,a=o.lazyRender,l=new n(null,null,1,0),u=i.prototype=new t;return u.constructor=i,u.kill()._gc=!1,i.version="1.18.5",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,n,i,r){return this.add(e.delayedCall(0,t,i,r),n)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),i=n.length,r=this._parseTimeOrLabel(e);--i>-1;)n[i]._startTime===r&&n[i]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,n){n=n||{};var i,r,o,s={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in n)s[r]=n[r];return s.time=this._parseTimeOrLabel(t),i=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,o=new e(this,i,s),s.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&i===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&o._callback("onStart")},o},u.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var i=this.tweenTo(e,n);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var i,o,l,u,c,h,d,f,p=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,m=this._time,v=this._totalTime,y=this._startTime,w=this._timeScale,_=this._rawPrevTime,b=this._paused,C=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,u="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>_||_===r)&&_!==t&&this._first&&(c=!0,_>r&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=g,t=g+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===g&&_!==r&&(_>0||0>t&&_>=0)&&!this._locked)&&(u="onReverseComplete",o=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,u="onReverseComplete"):_>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=g||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(i=this._first;i&&0===i._startTime;)i._duration||(o=!1),i=i._next;t=0,this._initted||(c=!0)}else if(0===g&&0>_&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=g+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&t>=v&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,t=g+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(i=this._first;i&&i._startTime<=t&&!d;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(d=i),i=i._next;else for(i=this._last;i&&i._startTime>=t&&!d;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(d=i),i=i._prev;d&&(this._time=t=d._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==C&&!this._locked){var T=this._yoyo&&0!==(1&C),x=T===(this._yoyo&&0!==(1&this._cycle)),S=this._totalTime,E=this._cycle,R=this._rawPrevTime,M=this._time;if(this._totalTime=C*g,this._cycle<C?T=!T:this._totalTime+=g,this._time=m,this._rawPrevTime=0===g?_-1e-4:_,this._cycle=C,this._locked=!0,m=T?0:g,this.render(m,e,0===g),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),m!==this._time)return;if(x&&(m=T?g+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=M,this._totalTime=S,this._cycle=E,this._rawPrevTime=R}if(!(this._time!==m&&this._first||n||c||d))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),f=this._time,f>=m)for(i=this._first;i&&(l=i._next,f===this._time&&(!this._paused||b));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(d===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=l;else for(i=this._last;i&&(l=i._prev,f===this._time&&(!this._paused||b));){if(i._active||i._startTime<=m&&!i._paused&&!i._gc){if(d===i){for(d=i._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(t-d._startTime)*d._timeScale:(t-d._startTime)*d._timeScale,e,n),d=d._prev;d=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)}i=l}this._onUpdate&&(e||(s.length&&a(),this._callback("onUpdate"))),u&&(this._locked||this._gc||y!==this._startTime&&w===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(s.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))},u.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var i,r,o=[],s=this.getChildren(t,e,n),a=0,l=s.length;for(i=0;l>i;i++)r=s[i],r.isActive()&&(o[a++]=r);return o},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),i=n.length;for(e=0;i>e;e++)if(n[e].time>t)return n[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},u.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],i=[],r=[],o={},s=n._gsDefine.globals,a=function(t,e,n,i){n===i&&(n=i-(i-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=i,this.da=i-t,this.ca=n-t,this.ba=e-t},l=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,n,i){var r={a:t},o={},s={},a={c:i},l=(t+e)/2,u=(e+n)/2,c=(n+i)/2,h=(l+u)/2,d=(u+c)/2,f=(d-h)/8;return r.b=l+(t-l)/4,o.b=h+f,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(h+d)/2,s.b=d-f,a.b=c+(i-c)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},c=function(t,n,o,s,a){var l,c,h,d,f,p,g,m,v,y,w,_,b,C=t.length-1,T=0,x=t[0].a;for(l=0;C>l;l++)f=t[T],c=f.a,h=f.d,d=t[T+1].d,a?(w=e[l],_=i[l],b=(_+w)*n*.25/(s?.5:r[l]||.5),p=h-(h-c)*(s?.5*n:0!==w?b/w:0),g=h+(d-h)*(s?.5*n:0!==_?b/_:0),m=h-(p+((g-p)*(3*w/(w+_)+.5)/4||0))):(p=h-(h-c)*n*.5,g=h+(d-h)*n*.5,m=h-(p+g)/2),p+=m,g+=m,f.c=v=p,0!==l?f.b=x:f.b=x=f.a+.6*(f.c-f.a),f.da=h-c,f.ca=v-c,f.ba=x-c,o?(y=u(c,x,v,h),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,x=g;f=t[T],f.b=x,f.c=x+.4*(f.d-x),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=x-f.a,o&&(y=u(f.a,x,f.c,f.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},h=function(t,n,r,o){var s,l,u,c,h,d,f=[];if(o)for(t=[o].concat(t),l=t.length;--l>-1;)"string"==typeof(d=t[l][n])&&"="===d.charAt(1)&&(t[l][n]=o[n]+Number(d.charAt(0)+d.substr(2)));if(s=t.length-2,0>s)return f[0]=new a(t[0][n],0,0,t[-1>s?0:1][n]),f;for(l=0;s>l;l++)u=t[l][n],c=t[l+1][n],f[l]=new a(u,0,0,c),r&&(h=t[l+2][n],e[l]=(e[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return f[l]=new a(t[l][n],0,0,t[l+1][n]),f},d=function(t,n,s,a,u,d){var f,p,g,m,v,y,w,_,b={},C=[],T=d||t[0];u="string"==typeof u?","+u+",":l,null==n&&(n=1);for(p in t[0])C.push(p);if(t.length>1){for(_=t[t.length-1],w=!0,f=C.length;--f>-1;)if(p=C[f],Math.abs(T[p]-_[p])>.05){w=!1;break}w&&(t=t.concat(),d&&t.unshift(d),t.push(t[1]),d=t[t.length-3])}for(e.length=i.length=r.length=0,f=C.length;--f>-1;)p=C[f],o[p]=-1!==u.indexOf(","+p+","),b[p]=h(t,p,o[p],d);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),i[f]=Math.sqrt(i[f]);if(!a){for(f=C.length;--f>-1;)if(o[p])for(g=b[C[f]],y=g.length-1,m=0;y>m;m++)v=g[m+1].da/i[m]+g[m].da/e[m]||0,r[m]=(r[m]||0)+v*v;for(f=r.length;--f>-1;)r[f]=Math.sqrt(r[f])}for(f=C.length,m=s?4:1;--f>-1;)p=C[f],g=b[p],c(g,n,s,a,o[p]),w&&(g.splice(0,m),g.splice(g.length-m,m));return b},f=function(t,e,n){e=e||"soft";var i,r,o,s,l,u,c,h,d,f,p,g={},m="cubic"===e?3:2,v="soft"===e,y=[];if(v&&n&&(t=[n].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(u=y.length;--u>-1;){for(d=y[u],g[d]=l=[],f=0,h=t.length,c=0;h>c;c++)i=null==n?t[c][d]:"string"==typeof(p=t[c][d])&&"="===p.charAt(1)?n[d]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&c>1&&h-1>c&&(l[f++]=(i+l[f-2])/2),l[f++]=i;for(h=f-m+1,f=0,c=0;h>c;c+=m)i=l[c],r=l[c+1],o=l[c+2],s=2===m?0:l[c+3],l[f++]=p=3===m?new a(i,r,o,s):new a(i,(2*r+i)/3,(2*r+o)/3,o);l.length=f}return g},p=function(t,e,n){for(var i,r,o,s,a,l,u,c,h,d,f,p=1/n,g=t.length;--g>-1;)for(d=t[g],o=d.a,s=d.d-o,a=d.c-o,l=d.b-o,i=r=0,c=1;n>=c;c++)u=p*c,h=1-u,i=r-(r=(u*u*s+3*h*(u*a+h*l))*u),f=g*n+c-1,e[f]=(e[f]||0)+i*i},g=function(t,e){e=e>>0||6;var n,i,r,o,s=[],a=[],l=0,u=0,c=e-1,h=[],d=[];for(n in t)p(t[n],s,e);for(r=s.length,i=0;r>i;i++)l+=Math.sqrt(s[i]),o=i%e,d[o]=l,o===c&&(u+=l,o=i/e>>0,h[o]=d,a[o]=u,l=0,d=[]);return{length:u,lengths:a,segments:h}},m=n._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.6",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,r,o,s,a,l=e.values||[],u={},c=l[0],h=e.autoRotate||n.vars.orientToBezier;this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",h===!0?0:Number(h)||0]]:null;for(i in c)this._props.push(i);for(o=this._props.length;--o>-1;)i=this._props[o],this._overwriteProps.push(i),r=this._func[i]="function"==typeof t[i],u[i]=r?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),a||u[i]!==l[0][i]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):f(l,e.type,u),this._segCount=this._beziers[i].length,this._timeRes){var p=g(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),o=h.length;--o>-1;){for(s=0;3>s;s++)i=h[o][s],this._func[i]="function"==typeof t[i]?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]:!1;i=h[o][2],this._initialRotations[o]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,i,r,o,s,a,l,u,c,h,d=this._segCount,f=this._func,p=this._target,g=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,r=this._li,e>this._l2&&d-1>r){for(u=d-1;u>r&&(this._l2=c[++r])<=e;);this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(n=r,e-=this._l1,r=this._si,e>this._s2&&r<h.length-1){for(u=h.length-1;u>r&&(this._s2=h[++r])<=e;);this._s1=h[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=h[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=h[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=0>e?0:e>=1?d-1:d*e>>0,a=(e-n*(1/d))*d;for(i=1-a,r=this._props.length;--r>-1;)o=this._props[r],s=this._beziers[o][n],l=(a*a*s.da+3*i*(a*s.ca+i*s.ba))*a+s.a,this._round[o]&&(l=Math.round(l)),f[o]?p[o](l):p[o]=l;if(this._autoRotate){var m,v,y,w,_,b,C,T=this._autoRotate;for(r=T.length;--r>-1;)o=T[r][2],b=T[r][3]||0,C=T[r][4]===!0?1:t,s=this._beziers[T[r][0]],m=this._beziers[T[r][1]],s&&m&&(s=s[n],m=m[n],v=s.a+(s.b-s.a)*a,w=s.b+(s.c-s.b)*a,v+=(w-v)*a,w+=(s.c+(s.d-s.c)*a-w)*a,y=m.a+(m.b-m.a)*a,_=m.b+(m.c-m.b)*a,y+=(_-y)*a,_+=(m.c+(m.d-m.c)*a-_)*a,l=g?Math.atan2(_-y,w-v)*C+b:this._initialRotations[r],f[o]?p[o](l):p[o]=l)}}}),v=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=u,m._autoCSS=!0,m.quadraticToCubic=function(t,e,n){return new a(t,(2*e+t)/3,(2*e+n)/3,n)},m._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,i=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,l){e instanceof Array&&(e={values:e}),l=new m;var u,c,h,d=e.values,f=d.length-1,p=[],g={};if(0>f)return a;for(u=0;f>=u;u++)h=n(t,d[u],s,a,l,f!==u),p[u]=h.end;for(c in e)g[c]=e[c];return g.values=p,a=new r(t,"bezier",0,0,h.pt,2),a.data=h,a.plugin=l,a.setRatio=i,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x?[["x","y","rotation",u,!1]]:!1),g.autoRotate&&(s._transform||s._enableTransforms(!1),h.autoRotate=s._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0),l._onInitTween(h.proxy,g,s._tween),a}})}},v._roundProps=function(t,e){for(var n=this._overwriteProps,i=n.length;--i>-1;)(t[n[i]]||t.bezier||t.bezierThrough)&&(this._round[n[i]]=e)},v._kill=function(t){var e,n,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=i.length;--n>-1;)i[n]===e&&i.splice(n,1);return this._super._kill.call(this,t)}}(),n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=n._gsDefine.globals,u={},c=a.prototype=new t("css");c.constructor=a,a.version="1.18.5",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,d,f,p,g,m,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,E=/([A-Z])/g,R=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,P=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,L=Math.PI/180,H=180/Math.PI,I={},F=document,W=function(t){return F.createElementNS?F.createElementNS("http://www.w3.org/1999/xhtml",t):F.createElement(t)},j=W("div"),B=W("img"),z=a._internals={_specialProps:u},V=navigator.userAgent,U=function(){var t=V.indexOf("Android"),e=W("a");return f=-1!==V.indexOf("Safari")&&-1===V.indexOf("Chrome")&&(-1===t||Number(V.substr(t+8,1))>3),g=f&&Number(V.substr(V.indexOf("Version/")+8,1))<6,p=-1!==V.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),Y=function(t){return C.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(t){window.console&&console.log(t)},X="",q="",$=function(t,e){e=e||j;var n,i,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+t];);return i>=0?(q=3===i?"ms":n[i],X="-"+q.toLowerCase()+"-",q+t):null},K=F.defaultView?F.defaultView.getComputedStyle:function(){},Z=a.getStyle=function(t,e,n,i,r){var o;return U||"opacity"!==e?(!i&&t.style[e]?o=t.style[e]:(n=n||K(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(E,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):Y(t)},Q=z.convertToPixels=function(t,n,i,r,o){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var s,l,u,c=O.test(n),h=t,d=j.style,f=0>i,p=1===i;if(f&&(i=-i),p&&(i*=100),"%"===r&&-1!==n.indexOf("border"))s=i/100*(c?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[c?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(h=t.parentNode||F.body,l=h._gsCache,u=e.ticker.frame,l&&c&&l.time===u)return l.width*i/100;d[c?"width":"height"]=i+r}h.appendChild(j),s=parseFloat(j[c?"offsetWidth":"offsetHeight"]),h.removeChild(j),c&&"%"===r&&a.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=u,l.width=s/i*100),0!==s||o||(s=Q(t,n,i,r,!0))}return p&&(s/=100),f?-s:s},J=z.calculateOffset=function(t,e,n){if("absolute"!==Z(t,"position",n))return 0;var i="left"===e?"Left":"Top",r=Z(t,"margin"+i,n);return t["offset"+i]-(Q(t,e,parseFloat(r),r.replace(b,""))||0)},tt=function(t,e){var n,i,r,o={};if(e=e||K(t,null))if(n=e.length)for(;--n>-1;)r=e[n],-1!==r.indexOf("-transform")&&Rt!==r||(o[r.replace(R,k)]=e.getPropertyValue(r));else for(n in e)-1!==n.indexOf("Transform")&&Et!==n||(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(R,k)]=e[n]);return U||(o.opacity=Y(t)),i=jt(t,e,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,kt&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},et=function(t,e,n,i,r){var o,s,a,l={},u=t.style;for(s in n)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=n[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(_,"")?o:0:J(t,s),void 0!==u[s]&&(a=new mt(u,s,u[s],a))));if(i)for(s in i)"className"!==s&&(l[s]=i[s]);return{difs:l,firstMPT:a}},nt={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||K(t))[e]||0;if(t.getBBox&&It(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=nt[e],o=r.length;for(n=n||K(t,null);--o>-1;)i-=parseFloat(Z(t,"padding"+r[o],n,!0))||0,i-=parseFloat(Z(t,"border"+r[o]+"Width",n,!0))||0;return i},ot=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(ot(i[n]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+o+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(_,"")),e.oy=parseFloat(o.replace(_,"")),e.v=t),e||t},st=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},at=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},lt=function(t,e,n,i){var r,o,s,a,l,u=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:H)-(l?0:e),o.length&&(i&&(i[n]=e+s),-1!==t.indexOf("short")&&(s%=r,s!==s%(r/2)&&(s=0>s?s+r:s-r)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*r)%r-(s/r|0)*r:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),u>a&&a>-u&&(a=0),a},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ct=function(t,e,n){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(n-e)*t*6:.5>t?n:2>3*t?e+(n-e)*(2/3-t)*6:e)+.5|0},ht=a.parseColor=function(t,e){var n,i,r,o,s,a,l,u,c,h,d;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])n=ut[t];else if("#"===t.charAt(0))4===t.length&&(i=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+i+i+r+r+o+o),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=d=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else s=Number(n[0])%360/360,a=Number(n[1])/100,l=Number(n[2])/100,r=.5>=l?l*(a+1):l+a-l*a,i=2*l-r,n.length>3&&(n[3]=Number(t[3])),n[0]=ct(s+1/3,i,r),n[1]=ct(s,i,r),n[2]=ct(s-1/3,i,r);else n=t.match(v)||ut.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ut.black;return e&&!d&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,u=Math.max(i,r,o),c=Math.min(i,r,o),l=(u+c)/2,u===c?s=a=0:(h=u-c,a=l>.5?h/(2-u-c):h/(u+c),s=u===i?(r-o)/h+(o>r?6:0):u===r?(o-i)/h+2:(i-r)/h+4,s*=60),n[0]=s+.5|0,n[1]=100*a+.5|0,n[2]=100*l+.5|0),n},dt=function(t,e){var n,i,r,o=t.match(ft)||[],s=0,a=o.length?"":t;for(n=0;n<o.length;n++)i=o[n],r=t.substr(s,t.indexOf(i,s)-s),s+=r.length+i.length,i=ht(i,e),3===i.length&&i.push(1),a+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return a+t.substr(s)},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ut)ft+="|"+c+"\\b";ft=new RegExp(ft+")","gi"),a.colorStringFilter=function(t){var e,n=t[0]+t[1];ft.test(n)&&(e=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),t[0]=dt(t[0],e),t[1]=dt(t[1],e)),ft.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var pt=function(t,e,n,i){if(null==t)return function(t){return t};var r,o=e?(t.match(ft)||[""])[0]:"",s=t.split(o).join("").match(w)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",c=s.length,h=c>0?s[0].replace(v,""):"";return c?r=e?function(t){var e,d,f,p;if("number"==typeof t)t+=h;else if(i&&P.test(t)){for(p=t.replace(P,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(ft)||[o])[0],d=t.split(e).join("").match(w)||[],f=d.length,c>f--)for(;++f<c;)d[f]=n?d[(f-1)/2|0]:s[f];return a+d.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,d;if("number"==typeof t)t+=h;else if(i&&P.test(t)){for(o=t.replace(P,"|").split("|"),d=0;d<o.length;d++)o[d]=r(o[d]);return o.join(",")}if(e=t.match(w)||[],d=e.length,c>d--)for(;++d<c;)e[d]=n?e[(d-1)/2|0]:s[d];return a+e.join(u)+l}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,n,i,r,o,s,a){var l,u=(n+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},mt=(z._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,i,r,o,s=this.data,a=s.proxy,l=s.firstMPT,u=1e-6;l;)e=a[l.v],l.r?e=Math.round(e):u>e&&e>-u&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if(n=l.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;l=l._next}},function(t,e,n,i,r){this.t=t,this.p=e,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),vt=(z._parseToProxy=function(t,e,n,i,r,o){var s,a,l,u,c,h=i,d={},f={},p=n._transform,g=I;for(n._transform=null,I=e,i=c=n.parse(t,e,i,r),I=g,o&&(n._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));i&&i!==h;){if(i.type<=1&&(a=i.p,f[a]=i.s+i.c,d[a]=i.s,o||(u=new mt(i,"s",a,u,i.r),i.c=0),1===i.type))for(s=i.l;--s>0;)l="xn"+s,a=i.p+"_"+l,f[a]=i.data[l],d[a]=i[l],o||(u=new mt(i,l,a,u,i.rxp[l]));i=i._next}return{proxy:d,end:f,firstMPT:u,pt:c}},z.CSSPropTween=function(t,e,n,r,o,a,l,u,c,h,d){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof vt||s.push(this.n),this.r=u,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===d?n+r:d,o&&(this._next=o,o._prev=this)}),yt=function(t,e,n,i,r,o){var s=new vt(t,e,n,i-n,r,-1,o);return s.b=n,s.e=s.xs0=i,s},wt=a.parseComplex=function(t,e,n,i,r,o,s,l,u,c){n=n||o||"",s=new vt(t,e,0,0,s,c?2:1,null,!1,l,n,i),i+="",r&&ft.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var d,f,p,g,m,w,_,b,C,T,x,S,E,R=n.split(", ").join(",").split(" "),M=i.split(", ").join(",").split(" "),k=R.length,O=h!==!1;for(-1===i.indexOf(",")&&-1===n.indexOf(",")||(R=R.join(" ").replace(P,", ").split(" "),M=M.join(" ").replace(P,", ").split(" "),k=R.length),k!==M.length&&(R=(o||"").split(" "),k=R.length),s.plugin=u,s.setRatio=c,ft.lastIndex=0,d=0;k>d;d++)if(g=R[d],m=M[d],b=parseFloat(g),b||0===b)s.appendXtra("",b,st(m,b),m.replace(y,""),O&&-1!==m.indexOf("px"),!0);else if(r&&ft.test(g))S=m.indexOf(")")+1,S=")"+(S?m.substr(S):""),E=-1!==m.indexOf("hsl")&&U,g=ht(g,E),m=ht(m,E),C=g.length+m.length>6,C&&!U&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(M[d]).join("transparent")):(U||(C=!1),E?s.appendXtra(C?"hsla(":"hsl(",g[0],st(m[0],g[0]),",",!1,!0).appendXtra("",g[1],st(m[1],g[1]),"%,",!1).appendXtra("",g[2],st(m[2],g[2]),C?"%,":"%"+S,!1):s.appendXtra(C?"rgba(":"rgb(",g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],C?",":S,!0),
C&&(g=g.length<4?1:g[3],s.appendXtra("",g,(m.length<4?1:m[3])-g,S,!1))),ft.lastIndex=0;else if(w=g.match(v)){if(_=m.match(y),!_||_.length!==w.length)return s;for(p=0,f=0;f<w.length;f++)x=w[f],T=g.indexOf(x,p),s.appendXtra(g.substr(p,T-p),Number(x),st(_[f],x),"",O&&"px"===g.substr(T+x.length,2),0===f),p=T+x.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(-1!==i.indexOf("=")&&s.data){for(S=s.xs0+s.data.s,d=1;d<s.l;d++)S+=s["xs"+d]+s.data["xn"+d];s.e=S+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},_t=9;for(c=vt.prototype,c.l=c.pr=0;--_t>0;)c["xn"+_t]=0,c["xs"+_t]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,n,i,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",n||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=i||"",a>0?(s.data["xn"+a]=e+n,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new vt(s,"xn"+a,e,n,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+n},s.rxp={},s.s=e,s.c=n,s.r=r,s)):(s["xs"+a]+=e+(i||""),s)};var bt=function(t,e){e=e||{},this.p=e.prefix?$(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Ct=z._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var i,r,o=t.split(","),s=e.defaultValue;for(n=n||[s],i=0;i<o.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||s,r=new bt(o[i],e)},Tt=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Ct(t,{parser:function(t,n,i,r,o,s,a){var c=l.com.greensock.plugins[e];return c?(c._cssRegister(),u[i].parse(t,n,i,r,o,s,a)):(G("Error: "+e+" js file not loaded."),o)}})}};c=bt.prototype,c.parseComplex=function(t,e,n,i,r,o){var s,a,l,u,c,h,d=this.keyword;if(this.multi&&(P.test(n)||P.test(e)?(a=e.replace(P,"|").split("|"),l=n.replace(P,"|").split("|")):d&&(a=[e],l=[n])),l){for(u=l.length>a.length?l.length:a.length,s=0;u>s;s++)e=a[s]=a[s]||this.dflt,n=l[s]=l[s]||this.dflt,d&&(c=e.indexOf(d),h=n.indexOf(d),c!==h&&(-1===h?a[s]=a[s].split(d).join(""):-1===c&&(a[s]+=" "+d)));e=a.join(", "),n=l.join(", ")}return wt(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,r,o)},c.parse=function(t,e,n,i,r,s,a){return this.parseComplex(t.style,this.format(Z(t,this.p,o,!1,this.dflt)),this.format(e),r,s)},a.registerSpecialProp=function(t,e,n){Ct(t,{parser:function(t,i,r,o,s,a,l){var u=new vt(t,r,0,0,s,2,r,!1,n);return u.plugin=a,u.setRatio=e(t,i,o._tween,r),u},priority:n})},a.useSVGTransformAttr=f||p;var xt,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Et=$("transform"),Rt=X+"transform",Mt=$("transformOrigin"),kt=null!==$("perspective"),Ot=z.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&kt?a.defaultForce3D||"auto":!1},At=window.SVGElement,Nt=function(t,e,n){var i,r=F.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return e.appendChild(r),r},Pt=F.documentElement,Dt=function(){var t,e,n,i=m||/Android/i.test(V)&&!window.chrome;return F.createElementNS&&!i&&(t=Nt("svg",Pt),e=Nt("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[Mt]="50% 50%",e.style[Et]="scaleX(0.5)",i=n===e.getBoundingClientRect().width&&!(p&&kt),Pt.removeChild(t)),i}(),Lt=function(t,e,n,i,r,o){var s,l,u,c,h,d,f,p,g,m,v,y,w,_,b=t._gsTransform,C=Wt(t,!0);b&&(w=b.xOrigin,_=b.yOrigin),(!i||(s=i.split(" ")).length<2)&&(f=t.getBBox(),e=ot(e).split(" "),s=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),n.xOrigin=c=parseFloat(s[0]),n.yOrigin=h=parseFloat(s[1]),i&&C!==Ft&&(d=C[0],f=C[1],p=C[2],g=C[3],m=C[4],v=C[5],y=d*g-f*p,l=c*(g/y)+h*(-p/y)+(p*v-g*m)/y,u=c*(-f/y)+h*(d/y)-(d*v-f*m)/y,c=n.xOrigin=s[0]=l,h=n.yOrigin=s[1]=u),b&&(o&&(n.xOffset=b.xOffset,n.yOffset=b.yOffset,b=n),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=c-w,u=h-_,b.xOffset+=l*C[0]+u*C[2]-l,b.yOffset+=l*C[1]+u*C[3]-u):b.xOffset=b.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Ht=function(t){try{return t.getBBox()}catch(t){}},It=function(t){return!!(At&&t.getBBox&&t.getCTM&&Ht(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ft=[1,0,0,1,0,0],Wt=function(t,e){var n,i,r,o,s,a,l=t._gsTransform||new Ot,u=1e5,c=t.style;if(Et?i=Z(t,Rt,null,!0):t.currentStyle&&(i=t.currentStyle.filter.match(A),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,n&&Et&&((a="none"===K(t).display)||!t.parentNode)&&(a&&(o=c.display,c.display="block"),t.parentNode||(s=1,Pt.appendChild(t)),i=Z(t,Rt,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?c.display=o:a&&Ut(c,"display"),s&&Pt.removeChild(t)),(l.svg||t.getBBox&&It(t))&&(n&&-1!==(c[Et]+"").indexOf("matrix")&&(i=c[Et],n=0),r=t.getAttribute("transform"),n&&r&&(-1!==r.indexOf("matrix")?(i=r,n=0):-1!==r.indexOf("translate")&&(i="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Ft;for(r=(i||"").match(v)||[],_t=r.length;--_t>-1;)o=Number(r[_t]),r[_t]=(s=o-(o|=0))?(s*u+(0>s?-.5:.5)|0)/u+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},jt=z.getTransform=function(t,n,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var o,s,l,u,c,h,d=i?t._gsTransform||new Ot:new Ot,f=d.scaleX<0,p=2e-5,g=1e5,m=kt?parseFloat(Z(t,Mt,n,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!It(t)),d.svg&&(Lt(t,Z(t,Mt,n,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),xt=a.useSVGTransformAttr||Dt),o=Wt(t),o!==Ft){if(16===o.length){var y,w,_,b,C,T=o[0],x=o[1],S=o[2],E=o[3],R=o[4],M=o[5],k=o[6],O=o[7],A=o[8],N=o[9],P=o[10],D=o[12],L=o[13],I=o[14],F=o[11],W=Math.atan2(k,P);d.zOrigin&&(I=-d.zOrigin,D=A*I-o[12],L=N*I-o[13],I=P*I+d.zOrigin-o[14]),d.rotationX=W*H,W&&(b=Math.cos(-W),C=Math.sin(-W),y=R*b+A*C,w=M*b+N*C,_=k*b+P*C,A=R*-C+A*b,N=M*-C+N*b,P=k*-C+P*b,F=O*-C+F*b,R=y,M=w,k=_),W=Math.atan2(-S,P),d.rotationY=W*H,W&&(b=Math.cos(-W),C=Math.sin(-W),y=T*b-A*C,w=x*b-N*C,_=S*b-P*C,N=x*C+N*b,P=S*C+P*b,F=E*C+F*b,T=y,x=w,S=_),W=Math.atan2(x,T),d.rotation=W*H,W&&(b=Math.cos(-W),C=Math.sin(-W),T=T*b+R*C,w=x*b+M*C,M=x*-C+M*b,k=S*-C+k*b,x=w),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),d.scaleX=(Math.sqrt(T*T+x*x)*g+.5|0)/g,d.scaleY=(Math.sqrt(M*M+N*N)*g+.5|0)/g,d.scaleZ=(Math.sqrt(k*k+P*P)*g+.5|0)/g,d.rotationX||d.rotationY?d.skewX=0:(d.skewX=R||M?Math.atan2(R,M)*H+d.rotation:d.skewX||0,Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(f?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180))),d.perspective=F?1/(0>F?-F:F):0,d.x=D,d.y=L,d.z=I,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*T-d.yOrigin*R),d.y-=d.yOrigin-(d.yOrigin*x-d.xOrigin*M))}else if(!kt||r||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY){var j=o.length>=6,B=j?o[0]:1,z=o[1]||0,V=o[2]||0,U=j?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,l=Math.sqrt(B*B+z*z),u=Math.sqrt(U*U+V*V),c=B||z?Math.atan2(z,B)*H:d.rotation||0,h=V||U?Math.atan2(V,U)*H+c:d.skewX||0,Math.abs(h)>90&&Math.abs(h)<270&&(f?(l*=-1,h+=0>=c?180:-180,c+=0>=c?180:-180):(u*=-1,h+=0>=h?180:-180)),d.scaleX=l,d.scaleY=u,d.rotation=c,d.skewX=h,kt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=v,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*B+d.yOrigin*V),d.y-=d.yOrigin-(d.xOrigin*z+d.yOrigin*U))}d.zOrigin=m;for(s in d)d[s]<p&&d[s]>-p&&(d[s]=0)}return i&&(t._gsTransform=d,d.svg&&(xt&&t.style[Et]?e.delayedCall(.001,function(){Ut(t.style,Et)}):!xt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Bt=function(t){var e,n,i=this.data,r=-i.rotation*L,o=r+i.skewX*L,s=1e5,a=(Math.cos(r)*i.scaleX*s|0)/s,l=(Math.sin(r)*i.scaleX*s|0)/s,u=(Math.sin(o)*-i.scaleY*s|0)/s,c=(Math.cos(o)*i.scaleY*s|0)/s,h=this.t.style,d=this.t.currentStyle;if(d){n=l,l=-u,u=-n,e=d.filter,h.filter="";var f,p,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+c,_=i.x+g*i.xPercent/100,T=i.y+v*i.yPercent/100;if(null!=i.ox&&(f=(i.oxp?g*i.ox*.01:i.ox)-g/2,p=(i.oyp?v*i.oy*.01:i.oy)-v/2,_+=f-(f*a+p*l),T+=p-(f*u+p*c)),y?(f=g/2,p=v/2,w+=", Dx="+(f-(f*a+p*l)+_)+", Dy="+(p-(f*u+p*c)+T)+")"):w+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(N,w):h.filter=w+" "+e,0!==t&&1!==t||1===a&&0===l&&0===u&&1===c&&(y&&-1===w.indexOf("Dx=0, Dy=0")||C.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!y){var x,S,E,R=8>m?1:-1;for(f=i.ieOffsetX||0,p=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*v))/2+_),i.ieOffsetY=Math.round((v-((0>c?-c:c)*v+(0>u?-u:u)*g))/2+T),_t=0;4>_t;_t++)S=it[_t],x=d[S],n=-1!==x.indexOf("px")?parseFloat(x):Q(this.t,S,parseFloat(x),x.replace(b,""))||0,E=n!==i[S]?2>_t?-i.ieOffsetX:-i.ieOffsetY:2>_t?f-i.ieOffsetX:p-i.ieOffsetY,h[S]=(i[S]=Math.round(n-E*(0===_t||2===_t?1:R)))+"px"}}},zt=z.set3DTransformRatio=z.setTransformRatio=function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,g,m,v,y,w,_,b,C,T,x,S=this.data,E=this.t.style,R=S.rotation,M=S.rotationX,k=S.rotationY,O=S.scaleX,A=S.scaleY,N=S.scaleZ,P=S.x,D=S.y,H=S.z,I=S.svg,F=S.perspective,W=S.force3D;if(((1===t||0===t)&&"auto"===W&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!W)&&!H&&!F&&!k&&!M&&1===N||xt&&I||!kt)return void(R||S.skewX||I?(R*=L,T=S.skewX*L,x=1e5,e=Math.cos(R)*O,r=Math.sin(R)*O,n=Math.sin(R-T)*-A,o=Math.cos(R-T)*A,T&&"simple"===S.skewType&&(y=Math.tan(T),y=Math.sqrt(1+y*y),n*=y,o*=y,S.skewY&&(e*=y,r*=y)),I&&(P+=S.xOrigin-(S.xOrigin*e+S.yOrigin*n)+S.xOffset,D+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o)+S.yOffset,xt&&(S.xPercent||S.yPercent)&&(g=this.t.getBBox(),P+=.01*S.xPercent*g.width,D+=.01*S.yPercent*g.height),g=1e-6,g>P&&P>-g&&(P=0),g>D&&D>-g&&(D=0)),_=(e*x|0)/x+","+(r*x|0)/x+","+(n*x|0)/x+","+(o*x|0)/x+","+P+","+D+")",I&&xt?this.t.setAttribute("transform","matrix("+_):E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+_):E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+A+","+P+","+D+")");if(p&&(g=1e-4,g>O&&O>-g&&(O=N=2e-5),g>A&&A>-g&&(A=N=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),R||S.skewX)R*=L,m=e=Math.cos(R),v=r=Math.sin(R),S.skewX&&(R-=S.skewX*L,m=Math.cos(R),v=Math.sin(R),"simple"===S.skewType&&(y=Math.tan(S.skewX*L),y=Math.sqrt(1+y*y),m*=y,v*=y,S.skewY&&(e*=y,r*=y))),n=-v,o=m;else{if(!(k||M||1!==N||F||I))return void(E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+D+"px,"+H+"px)"+(1!==O||1!==A?" scale("+O+","+A+")":""));e=o=1,n=r=0}u=1,i=s=a=l=c=h=0,d=F?-1/F:0,f=S.zOrigin,g=1e-6,b=",",C="0",R=k*L,R&&(m=Math.cos(R),v=Math.sin(R),a=-v,c=d*-v,i=e*v,s=r*v,u=m,d*=m,e*=m,r*=m),R=M*L,R&&(m=Math.cos(R),v=Math.sin(R),y=n*m+i*v,w=o*m+s*v,l=u*v,h=d*v,i=n*-v+i*m,s=o*-v+s*m,u*=m,d*=m,n=y,o=w),1!==N&&(i*=N,s*=N,u*=N,d*=N),1!==A&&(n*=A,o*=A,l*=A,h*=A),1!==O&&(e*=O,r*=O,a*=O,c*=O),(f||I)&&(f&&(P+=i*-f,D+=s*-f,H+=u*-f+f),I&&(P+=S.xOrigin-(S.xOrigin*e+S.yOrigin*n)+S.xOffset,D+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o)+S.yOffset),g>P&&P>-g&&(P=C),g>D&&D>-g&&(D=C),g>H&&H>-g&&(H=0)),_=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",_+=(g>e&&e>-g?C:e)+b+(g>r&&r>-g?C:r)+b+(g>a&&a>-g?C:a),_+=b+(g>c&&c>-g?C:c)+b+(g>n&&n>-g?C:n)+b+(g>o&&o>-g?C:o),M||k||1!==N?(_+=b+(g>l&&l>-g?C:l)+b+(g>h&&h>-g?C:h)+b+(g>i&&i>-g?C:i),_+=b+(g>s&&s>-g?C:s)+b+(g>u&&u>-g?C:u)+b+(g>d&&d>-g?C:d)+b):_+=",0,0,0,0,1,0,",_+=P+b+D+b+H+b+(F?1+-H/F:1)+")",E[Et]=_};c=Ot.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ct("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,i,r,s,l){if(i._lastParsedTransform===l)return r;i._lastParsedTransform=l;var u,c,h,d,f,p,g,m,v,y=t._gsTransform,w=t.style,_=1e-6,b=St.length,C=l,T={},x="transformOrigin",S=jt(t,o,!0,l.parseTransform);if(i._transform=S,"string"==typeof C.transform&&Et)c=j.style,c[Et]=C.transform,c.display="block",c.position="absolute",F.body.appendChild(j),u=jt(j,null,!1),S.svg&&(g=S.xOrigin,m=S.yOrigin,u.x-=S.xOffset,u.y-=S.yOffset,(C.transformOrigin||C.svgOrigin)&&(h={},Lt(t,ot(C.transformOrigin),h,C.svgOrigin,C.smoothOrigin,!0),g=h.xOrigin,m=h.yOrigin,u.x-=h.xOffset-S.xOffset,u.y-=h.yOffset-S.yOffset),(g||m)&&(v=Wt(j,!0),u.x-=g-(g*v[0]+m*v[2]),u.y-=m-(g*v[1]+m*v[3]))),F.body.removeChild(j),u.perspective||(u.perspective=S.perspective),null!=C.xPercent&&(u.xPercent=at(C.xPercent,S.xPercent)),null!=C.yPercent&&(u.yPercent=at(C.yPercent,S.yPercent));else if("object"==typeof C){if(u={scaleX:at(null!=C.scaleX?C.scaleX:C.scale,S.scaleX),scaleY:at(null!=C.scaleY?C.scaleY:C.scale,S.scaleY),scaleZ:at(C.scaleZ,S.scaleZ),x:at(C.x,S.x),y:at(C.y,S.y),z:at(C.z,S.z),xPercent:at(C.xPercent,S.xPercent),yPercent:at(C.yPercent,S.yPercent),perspective:at(C.transformPerspective,S.perspective)},p=C.directionalRotation,null!=p)if("object"==typeof p)for(c in p)C[c]=p[c];else C.rotation=p;"string"==typeof C.x&&-1!==C.x.indexOf("%")&&(u.x=0,u.xPercent=at(C.x,S.xPercent)),"string"==typeof C.y&&-1!==C.y.indexOf("%")&&(u.y=0,u.yPercent=at(C.y,S.yPercent)),u.rotation=lt("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:S.rotation-S.skewY,S.rotation-S.skewY,"rotation",T),kt&&(u.rotationX=lt("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":S.rotationX||0,S.rotationX,"rotationX",T),u.rotationY=lt("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":S.rotationY||0,S.rotationY,"rotationY",T)),u.skewX=lt(C.skewX,S.skewX-S.skewY),(u.skewY=lt(C.skewY,S.skewY))&&(u.skewX+=u.skewY,u.rotation+=u.skewY)}for(kt&&null!=C.force3D&&(S.force3D=C.force3D,f=!0),S.skewType=C.skewType||S.skewType||a.defaultSkewType,d=S.force3D||S.z||S.rotationX||S.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,d||null==C.scale||(u.scaleZ=1);--b>-1;)n=St[b],h=u[n]-S[n],(h>_||-_>h||null!=C[n]||null!=I[n])&&(f=!0,r=new vt(S,n,S[n],h,r),n in T&&(r.e=T[n]),r.xs0=0,r.plugin=s,i._overwriteProps.push(r.n));return h=C.transformOrigin,S.svg&&(h||C.svgOrigin)&&(g=S.xOffset,m=S.yOffset,Lt(t,ot(h),u,C.svgOrigin,C.smoothOrigin),r=yt(S,"xOrigin",(y?S:u).xOrigin,u.xOrigin,r,x),r=yt(S,"yOrigin",(y?S:u).yOrigin,u.yOrigin,r,x),g===S.xOffset&&m===S.yOffset||(r=yt(S,"xOffset",y?g:S.xOffset,S.xOffset,r,x),r=yt(S,"yOffset",y?m:S.yOffset,S.yOffset,r,x)),h=xt?null:"0px 0px"),(h||kt&&d&&S.zOrigin)&&(Et?(f=!0,n=Mt,h=(h||Z(t,n,o,!1,"50% 50%"))+"",r=new vt(w,n,0,0,r,-1,x),r.b=w[n],r.plugin=s,kt?(c=S.zOrigin,h=h.split(" "),S.zOrigin=(h.length>2&&(0===c||"0px"!==h[2])?parseFloat(h[2]):c)||0,r.xs0=r.e=h[0]+" "+(h[1]||"50%")+" 0px",r=new vt(S,"zOrigin",0,0,r,-1,r.n),r.b=c,r.xs0=r.e=S.zOrigin):r.xs0=r.e=h):ot(h+"",S)),f&&(i._transformType=S.svg&&xt||!d&&3!==this._transformType?2:3),r},prefix:!0}),Ct("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ct("borderRadius",{defaultValue:"0px",parser:function(t,e,n,i,s,a){e=this.format(e);var l,u,c,h,d,f,p,g,m,v,y,w,_,b,C,T,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<x.length;u++)this.p.indexOf("border")&&(x[u]=$(x[u])),d=h=Z(t,x[u],o,!1,"0px"),-1!==d.indexOf(" ")&&(h=d.split(" "),d=h[0],h=h[1]),f=c=l[u],p=parseFloat(d),w=d.substr((p+"").length),_="="===f.charAt(1),_?(g=parseInt(f.charAt(0)+"1",10),f=f.substr(2),g*=parseFloat(f),y=f.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(f),y=f.substr((g+"").length)),""===y&&(y=r[n]||w),y!==w&&(b=Q(t,"borderLeft",p,w),C=Q(t,"borderTop",p,w),"%"===y?(d=b/m*100+"%",h=C/v*100+"%"):"em"===y?(T=Q(t,"borderLeft",1,"em"),d=b/T+"em",h=C/T+"em"):(d=b+"px",h=C+"px"),_&&(f=parseFloat(d)+g+y,c=parseFloat(h)+g+y)),s=wt(S,x[u],d+" "+h,f+" "+c,!1,"0px",s);return s},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),Ct("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,i,r,s){return wt(t.style,n,this.format(Z(t,n,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:pt("0px 0px",!1,!0)}),Ct("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,i,r,s){var a,l,u,c,h,d,f="background-position",p=o||K(t,null),g=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=Z(t,"backgroundImage").replace(M,""),d&&"none"!==d)){for(a=g.split(" "),l=v.split(" "),B.setAttribute("src",d),u=2;--u>-1;)g=a[u],c=-1!==g.indexOf("%"),c!==(-1!==l[u].indexOf("%"))&&(h=0===u?t.offsetWidth-B.width:t.offsetHeight-B.height,a[u]=c?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,v,r,s)},formatter:ot}),Ct("backgroundSize",{defaultValue:"0 0",formatter:ot}),Ct("perspective",{defaultValue:"0px",prefix:!0}),Ct("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ct("transformStyle",{prefix:!0}),Ct("backfaceVisibility",{prefix:!0}),Ct("userSelect",{prefix:!0}),Ct("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Ct("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ct("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,i,r,s){var a,l,u;return 9>m?(l=t.currentStyle,u=8>m?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(Z(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,s)}}),Ct("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ct("autoRound,strictUnits",{parser:function(t,e,n,i,r){return r}}),Ct("border",{defaultValue:"0px solid #000",parser:function(t,e,n,i,r,s){var a=Z(t,"borderTopWidth",o,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(b,"");return"px"!==u&&(a=parseFloat(a)/Q(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+Z(t,"borderTopStyle",o,!1,"solid")+" "+Z(t,"borderTopColor",o,!1,"#000")),l.join(" "),r,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),Ct("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ct("float,cssFloat,styleFloat",{parser:function(t,e,n,i,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new vt(s,a,0,0,r,-1,n,!1,0,s[a],e)}});var Vt=function(t){var e,n=this.t,i=n.filter||Z(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),e=!Z(this.data,"filter")):(n.filter=i.replace(x,""),e=!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(C,"opacity="+r))};Ct("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,i,r,s){var a=parseFloat(Z(t,"opacity",o,!1,"1")),l=t.style,u="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===Z(t,"visibility",o)&&0!==e&&(a=0),U?r=new vt(l,"opacity",a,e-a,r):(r=new vt(l,"opacity",100*a,100*(e-a),r),r.xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=s,r.setRatio=Vt),u&&(r=new vt(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",i._overwriteProps.push(r.n),i._overwriteProps.push(n)),r}});var Ut=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(E,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Ut(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ct("className",{parser:function(t,e,n,r,s,a,l){var u,c,h,d,f,p=t.getAttribute("class")||"",g=t.style.cssText;if(s=r._classNamePT=new vt(t,n,0,0,s,2),s.setRatio=Yt,s.pr=-11,i=!0,s.b=p,c=tt(t,o),h=t._gsClassPT){for(d={},f=h.data;f;)d[f.p]=1,f=f._next;h.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),u=et(t,c,tt(t),l,d),t.setAttribute("class",p),s.data=u.firstMPT,t.style.cssText=g,s=s.xfirst=r.parse(t,u.difs,s,a)}});var Gt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,r,o,s=this.t.style,a=u.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),i=e.length;--i>-1;)n=e[i],u[n]&&(u[n].parse===a?r=!0:n="transformOrigin"===n?Mt:u[n].p),Ut(s,n);r&&(Ut(s,Et),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ct("clearProps",{parser:function(t,e,n,r,o){return o=new vt(t,n,0,0,o,2),o.setRatio=Gt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),_t=c.length;_t--;)Tt(c[_t]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,n){if(!t.nodeType)return!1;this._target=t,this._tween=n,this._vars=e,h=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,o=K(t,""),s=this._overwriteProps;var l,c,p,m,v,y,w,_,b,C=t.style;if(d&&""===C.zIndex&&(l=Z(t,"zIndex",o),"auto"!==l&&""!==l||this._addLazySet(C,"zIndex",0)),"string"==typeof e&&(m=C.cssText,l=tt(t,o),C.cssText=m+";"+e,l=et(t,l,tt(t)).difs,!U&&T.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,C.cssText=m),e.className?this._firstPT=c=u.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=c=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,Et?f&&(d=!0,""===C.zIndex&&(w=Z(t,"zIndex",o),"auto"!==w&&""!==w||this._addLazySet(C,"zIndex",0)),g&&this._addLazySet(C,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):C.zoom=1,p=c;p&&p._next;)p=p._next;_=new vt(t,"transform",0,0,null,2),this._linkCSSP(_,null,p),_.setRatio=Et?zt:Bt,_.data=this._transform||jt(t,o,!0),_.tween=n,_.pr=-1,s.pop()}if(i){for(;c;){for(y=c._next,p=m;p&&p.pr>c.pr;)p=p._next;(c._prev=p?p._prev:v)?c._prev._next=c:m=c,(c._next=p)?p._prev=c:v=c,c=y}this._firstPT=m}return!0},c.parse=function(t,e,n,i){var s,a,l,c,d,f,p,g,m,v,y=t.style;for(s in e)f=e[s],a=u[s],a?n=a.parse(t,f,s,this,n,i,e):(d=Z(t,s,o)+"",m="string"==typeof f,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||m&&S.test(f)?(m||(f=ht(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),n=wt(y,s,d,f,!0,"transparent",n,0,i)):m&&D.test(f)?n=wt(y,s,d,f,!0,null,n,0,i):(l=parseFloat(d),p=l||0===l?d.substr((l+"").length):"",""!==d&&"auto"!==d||("width"===s||"height"===s?(l=rt(t,s,o),p="px"):"left"===s||"top"===s?(l=J(t,s,o),p="px"):(l="opacity"!==s?0:1,p="")),v=m&&"="===f.charAt(1),v?(c=parseInt(f.charAt(0)+"1",10),f=f.substr(2),c*=parseFloat(f),g=f.replace(b,"")):(c=parseFloat(f),g=m?f.replace(b,""):""),""===g&&(g=s in r?r[s]:p),f=c||0===c?(v?c+l:c)+g:e[s],p!==g&&""!==g&&(c||0===c)&&l&&(l=Q(t,s,l,p),"%"===g?(l/=Q(t,s,100,"%")/100,e.strictUnits!==!0&&(d=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=Q(t,s,1,g):"px"!==g&&(c=Q(t,s,c,g),g="px"),v&&(c||0===c)&&(f=c+l+g)),v&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==y[s]&&(f||f+""!="NaN"&&null!=f)?(n=new vt(y,s,c||l||0,0,n,-1,s,!1,0,d,f),n.xs0="none"!==f||"display"!==s&&-1===s.indexOf("Style")?f:d):G("invalid "+s+" tween value: "+e[s]):(n=new vt(y,s,l,c-l,n,0,s,h!==!1&&("px"===g||"zIndex"===s),0,d,f),n.xs0=g))),i&&n&&!n.plugin&&(n.plugin=i);return n},c.setRatio=function(t){var e,n,i,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):o>e&&e>-o&&(e=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||jt(this._target,o,!0),this._transformType=this._transform.svg&&xt||!t&&3!==this._transformType?2:3};var Xt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var i=this._firstPT=new vt(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=Xt,i.data=this},c._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._kill=function(e){var n,i,r,o=e;if(e.autoAlpha||e.alpha){o={};for(i in e)o[i]=e[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(n=this._classNamePT)&&(r=n.xfirst,r&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var qt=function(t,e,n){var i,r,o,s;if(t.slice)for(r=t.length;--r>-1;)qt(t[r],e,n);else for(i=t.childNodes,r=i.length;--r>-1;)o=i[r],s=o.type,o.style&&(e.push(tt(o)),n&&n.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||qt(o,e,n)};return a.cascadeTo=function(t,n,i){var r,o,s,a,l=e.to(t,n,i),u=[l],c=[],h=[],d=[],f=e._internals.reservedProps;for(t=l._targets||l.target,qt(t,c,d),l.render(n,!0,!0),qt(t,h),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if(o=et(d[r],c[r],h[r]),o.firstMPT){o=o.difs;for(s in i)f[s]&&(o[s]=i[s]);a={};for(s in o)a[s]=c[r][s];u.push(e.fromTo(d[r],n,a,o))}return u},t.activate([a]),a},!0),function(){var t=n._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,n,i,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=o.length,a={},l=r._propLookup.roundProps;--s>-1;)a[o[s]]=1;for(s=o.length;--s>-1;)for(t=o[s],n=r._firstPT;n;)i=n._next,n.pg?n.t._roundProps(a,!0):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),i&&(i._prev=n._prev),n._prev?n._prev._next=i:r._firstPT===n&&(r._firstPT=i),n._next=n._prev=null,r._propLookup[t]=l)),n=i;return!1},i._add=function(t,e,n,i){this._addTween(t,e,n,n+i,e,!0),this._overwriteProps.push(e)}}(),function(){n._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,n){var i;if("function"!=typeof t.setAttribute)return!1;for(i in e)this._addTween(t,"setAttribute",t.getAttribute(i)+"",e[i]+"",i,!1,i),this._overwriteProps.push(i);return!0}})}(),n._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,r,o,s,a,l,u=e.useRadians===!0?2*Math.PI:360,c=1e-6;for(i in e)"useRadians"!==i&&(l=(e[i]+"").split("_"),r=l[0],o=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof r&&"="===r.charAt(1)?o+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,a=s-o,l.length&&(r=l.join("_"),-1!==r.indexOf("short")&&(a%=u,a!==a%(u/2)&&(a=0>a?a+u:a-u)),-1!==r.indexOf("_cw")&&0>a?a=(a+9999999999*u)%u-(a/u|0)*u:-1!==r.indexOf("ccw")&&a>0&&(a=(a-9999999999*u)%u-(a/u|0)*u)),(a>c||-c>a)&&(this._addTween(t,i,o,o+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,n._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,r,o=n.GreenSockGlobals||n,s=o.com.greensock,a=2*Math.PI,l=Math.PI/2,u=s._class,c=function(e,n){var i=u("easing."+e,function(){},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,i},h=t.register||function(){},d=function(t,e,n,i,r){var o=u("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return h(o,t),o},f=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},p=function(e,n){var i=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new t;return r.constructor=i,r.getRatio=n,r.config=function(t){return new i(t)},i},g=d("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=u("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),v=m.prototype=new t;return v.constructor=m,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),v.config=m.config=function(t,e,n){return new m(t,e,n)},e=u("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=u("easing.RoughEase",function(e){e=e||{};for(var n,i,r,o,s,a,l=e.taper||"none",u=[],c=0,h=0|(e.points||20),d=h,p=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)n=p?Math.random():1/h*d,i=m?m.getRatio(n):n,"none"===l?r=v:"out"===l?(o=1-n,r=o*o*v):"in"===l?r=n*n*v:.5>n?(o=2*n,r=o*o*.5*v):(o=2*(1-n),r=o*o*.5*v),p?i+=Math.random()*r-.5*r:d%2?i+=.5*r:i-=.5*r,g&&(i>1?i=1:0>i&&(i=0)),u[c++]={x:n,y:i};for(u.sort(function(t,e){return t.x-e.x}),a=new f(1,1,null),d=h;--d>-1;)s=u[d],a=new f(s.x,s.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){
var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,d("Bounce",c("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,i){var r=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=n,o.config=function(t,e){return new r(t,e)},r},d("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),d("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",c("SineOut",function(t){return Math.sin(t*l)}),c("SineIn",function(t){return-Math.cos(t*l)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(o.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),g},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(t,n){"use strict";var i={},r=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!r.TweenLite){var o,s,a,l,u,c=function(t){var e,n=t.split("."),i=r;for(e=0;e<n.length;e++)i[n[e]]=i=i[n[e]]||{};return i},h=c("com.greensock"),d=1e-10,f=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},p=function(){},g=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),m={},v=function(o,s,a,l){this.sc=m[o]?m[o].sc:[],m[o]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(h){for(var d,f,p,g,y,w=s.length,_=w;--w>-1;)(d=m[s[w]]||new v(s[w],[])).gsClass?(u[w]=d.gsClass,_--):h&&d.sc.push(this);if(0===_&&a){if(f=("com.greensock."+o).split("."),p=f.pop(),g=c(f.join("."))[p]=this.gsClass=a.apply(a,u),l)if(r[p]=g,y="undefined"!=typeof e&&e.exports,!y&&"function"==typeof define&&define.amd)define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return g});else if(y)if(o===n){e.exports=i[n]=g;for(w in i)g[w]=i[w]}else i[n]&&(i[n][p]=g);for(w=0;w<this.sc.length;w++)this.sc[w].check()}},this.check(!0)},y=t._gsDefine=function(t,e,n,i){return new v(t,e,n,i)},w=h._class=function(t,e,n){return e=e||function(){},y(t,[],function(){return e},n),e};y.globals=r;var _=[0,0,1,1],b=[],C=w("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?_.concat(e):_},!0),T=C.map={},x=C.register=function(t,e,n,i){for(var r,o,s,a,l=e.split(","),u=l.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=l[u],r=i?w("easing."+o,null,!0):h.easing[o]||{},s=c.length;--s>-1;)a=c[s],T[o+"."+a]=T[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(a=C.prototype,a._calcEnd=!1,a.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:.5>t?i/2:1-i/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=o.length;--s>-1;)a=o[s]+",Power"+s,x(new C(null,null,1,s),a,"easeOut",!0),x(new C(null,null,2,s),a,"easeIn"+(0===s?",easeNone":"")),x(new C(null,null,3,s),a,"easeInOut");T.linear=h.easing.Linear.easeIn,T.swing=h.easing.Quad.easeInOut;var S=w("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});a=S.prototype,a.addEventListener=function(t,e,n,i,r){r=r||0;var o,s,a=this._listeners[t],c=0;for(this!==l||u||l.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)o=a[s],o.c===e&&o.s===n?a.splice(s,1):0===c&&o.pr<r&&(c=s+1);a.splice(c,0,{c:e,s:n,up:i,pr:r})},a.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i)for(n=i.length;--n>-1;)if(i[n].c===e)return void i.splice(n,1)},a.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r)for(e=r.length,n=this._eventTarget;--e>-1;)i=r[e],i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))};var E=t.requestAnimationFrame,R=t.cancelAnimationFrame,M=Date.now||function(){return(new Date).getTime()},k=M();for(o=["ms","moz","webkit","o"],s=o.length;--s>-1&&!E;)E=t[o[s]+"RequestAnimationFrame"],R=t[o[s]+"CancelAnimationFrame"]||t[o[s]+"CancelRequestAnimationFrame"];w("Ticker",function(t,e){var n,i,r,o,s,a=this,c=M(),h=e!==!1&&E?"auto":!1,f=500,g=33,m="tick",v=function(t){var e,l,u=M()-k;u>f&&(c+=u-g),k+=u,a.time=(k-c)/1e3,e=a.time-s,(!n||e>0||t===!0)&&(a.frame++,s+=e+(e>=o?.004:o-e),l=!0),t!==!0&&(r=i(v)),l&&a.dispatchEvent(m)};S.call(a),a.time=a.frame=0,a.tick=function(){v(!0)},a.lagSmoothing=function(t,e){f=t||1/d,g=Math.min(e,f,0)},a.sleep=function(){null!=r&&(h&&R?R(r):clearTimeout(r),i=p,r=null,a===l&&(u=!1))},a.wake=function(t){null!==r?a.sleep():t?c+=-k+(k=M()):a.frame>10&&(k=M()-f+5),i=0===n?p:h&&E?E:function(t){return setTimeout(t,1e3*(s-a.time)+1|0)},a===l&&(u=!0),v(2)},a.fps=function(t){return arguments.length?(n=t,o=1/(n||60),s=this.time+o,void a.wake()):n},a.useRAF=function(t){return arguments.length?(a.sleep(),h=t,void a.fps(n)):h},a.fps(t),setTimeout(function(){"auto"===h&&a.frame<5&&"hidden"!==document.visibilityState&&a.useRAF(!1)},1500)}),a=h.Ticker.prototype=new h.events.EventDispatcher,a.constructor=h.Ticker;var O=w("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,$){u||l.wake();var n=this.vars.useFrames?q:$;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new h.Ticker,a=O.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var A=function(){u&&M()-k>2e3&&l.wake(),setTimeout(A,2e3)};A(),a.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},a.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},a.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},a.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},a.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},a.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},a.render=function(t,e,n){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale},a._enabled=function(t,e){return u||l.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(t,e){return this._enabled(!1,!1)},a.kill=function(t,e){return this._kill(t,e),this},a._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},a._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},a._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||b)},a.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=g(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,r[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},a.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},a.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},a.totalTime=function(t,e,n){if(u||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(t>i&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(H.length&&Z(),this.render(t,e,!1),H.length&&Z())}return this},a.progress=a.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},a.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},a.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||d,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},a.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(u||t||l.wake(),e=i.rawTime(),n=e-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var N=w("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});a=N.prototype=new O,a.constructor=N,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(t,e,n,i){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},a._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(t,e,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)i=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=i},a.rawTime=function(){return u||l.wake(),this._totalTime};var P=w("TweenLite",function(e,n,i){if(O.call(this,n,i),this.render=P.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:P.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?X[P.defaultOverwrite]:"number"==typeof l?l>>0:X[l],(a||e instanceof Array||e.push&&g(e))&&"number"!=typeof e[0])for(this._targets=s=f(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(f(o))):(this._siblings[r]=Q(o,this,!1),1===l&&this._siblings[r].length>1&&tt(o,this,null,1,this._siblings[r])):(o=s[r--]=P.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=Q(e,this,!1),1===l&&this._siblings.length>1&&tt(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-d,this.render(Math.min(0,-this._delay)))},!0),D=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},L=function(t,e){var n,i={};for(n in t)G[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!V[n]||V[n]&&V[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i};a=P.prototype=new O,a.constructor=P,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,P.version="1.18.5",P.defaultEase=a._ease=new C(null,null,1,1),P.defaultOverwrite="auto",P.ticker=l,P.autoSleep=120,P.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},P.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(P.selector=n,n(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var H=[],I={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,W=function(t){for(var e,n=this._firstPT,i=1e-6;n;)e=n.blob?t?this.join(""):this.start:n.c*t+n.s,n.r?e=Math.round(e):i>e&&e>-i&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},j=function(t,e,n,i){var r,o,s,a,l,u,c,h=[t,e],d=0,f="",p=0;for(h.start=t,n&&(n(h),t=h[0],e=h[1]),h.length=0,r=t.match(F)||[],o=e.match(F)||[],i&&(i._next=null,i.blob=1,h._firstPT=i),l=o.length,a=0;l>a;a++)c=o[a],u=e.substr(d,e.indexOf(c,d)-d),f+=u||!a?u:",",d+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),c===r[a]||r.length<=a?f+=c:(f&&(h.push(f),f=""),s=parseFloat(r[a]),h.push(s),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:s,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-s)||0,f:0,r:p&&4>p}),d+=c.length;return f+=e.substr(d),f&&h.push(f),h.setRatio=W,h},B=function(t,e,n,i,r,o,s,a){var l,u,c="get"===n?t[e]:n,h=typeof t[e],d="string"==typeof i&&"="===i.charAt(1),f={t:t,p:e,s:c,f:"function"===h,pg:0,n:r||e,r:o,pr:0,c:d?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-c||0};return"number"!==h&&("function"===h&&"get"===n&&(u=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f.s=c=s?t[u](s):t[u]()),"string"==typeof c&&(s||isNaN(c))?(f.fp=s,l=j(c,i,a||P.defaultStringFilter,f),f={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):d||(f.s=parseFloat(c),f.c=parseFloat(i)-f.s||0)),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},z=P._internals={isArray:g,isSelector:D,lazyTweens:H,blobDif:j},V=P._plugins={},U=z.tweenLookup={},Y=0,G=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=O._rootFramesTimeline=new N,$=O._rootTimeline=new N,K=30,Z=z.lazyRender=function(){var t,e=H.length;for(I={};--e>-1;)t=H[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);H.length=0};$._startTime=l.time,q._startTime=l.frame,$._active=q._active=!0,setTimeout(Z,1),O._updateRoot=P.render=function(){var t,e,n;if(H.length&&Z(),$.render((l.time-$._startTime)*$._timeScale,!1,!1),q.render((l.frame-q._startTime)*q._timeScale,!1,!1),H.length&&Z(),l.frame>=K){K=l.frame+(parseInt(P.autoSleep,10)||120);for(n in U){for(e=U[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[n]}if(n=$._first,(!n||n._paused)&&P.autoSleep&&!q._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Q=function(t,e,n){var i,r,o=t._gsTweenID;if(U[o||(t._gsTweenID=o="t"+Y++)]||(U[o]={target:t,tweens:[]}),e&&(i=U[o].tweens,i[r=i.length]=e,n))for(;--r>-1;)i[r]===e&&i.splice(r,1);return U[o].tweens},J=function(t,e,n,i){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,n,i)),s=P.onOverwrite,s&&(o=s(t,e,n,i)),r!==!1&&o!==!1},tt=function(t,e,n,i,r){var o,s,a,l;if(1===i||i>=4){for(l=r.length,o=0;l>o;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===i)break;return s}var u,c=e._startTime+d,h=[],f=0,p=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||et(e,0,p),0===et(a,u,p)&&(h[f++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((p||!a._initted)&&c-a._startTime<=2e-10||(h[f++]=a)));for(o=f;--o>-1;)if(a=h[o],2===i&&a._kill(n,t,e)&&(s=!0),2!==i||!a._firstPT&&a._initted){if(2!==i&&!J(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},et=function(t,e,n){for(var i=t._timeline,r=i._timeScale,o=t._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>e?o-e:n&&o===e||!t._initted&&2*d>o-e?d:(o+=t.totalDuration()/t._timeScale/r)>e+d?0:o-e-d};a._init=function(){var t,e,n,i,r,o=this.vars,s=this._overwrittenProps,a=this._duration,l=!!o.immediateRender,u=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in o.startAt)r[i]=o.startAt[i];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&o.lazy!==!1,r.startAt=r.delay=null,this._startAt=P.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(i in o)G[i]&&"autoCSS"!==i||(n[i]=o[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&o.lazy!==!1,n.immediateRender=l,this._startAt=P.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof C?u:"function"==typeof u?new C(u,o.easeParams):T[u]||P.defaultEase:P.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&P._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=o.onUpdate,this._initted=!0},a._initProps=function(e,n,i,r){var o,s,a,l,u,c;if(null==e)return!1;I[e._gsTweenID]&&Z(),this.vars.css||e.style&&e!==t&&e.nodeType&&V.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(o in this.vars)if(c=this.vars[o],G[o])c&&(c instanceof Array||c.push&&g(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(V[o]&&(l=new V[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority},s=l._overwriteProps.length;--s>-1;)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else n[o]=B.call(this,e,o,"get",c,o,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,n,i,r):this._overwrite>1&&this._firstPT&&i.length>1&&tt(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(I[e._gsTweenID]=!0),a)},a.render=function(t,e,n){var i,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(0>u||0>=t&&t>=-1e-7||u===d&&"isPause"!==this.data)&&u!==t&&(n=!0,u>d&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:d);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&u>0)&&(r="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(u>=0&&(u!==d||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=s=!e||t||u===t?t:d)),this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:.5>t/l?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,H.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==a||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===d&&s!==d&&(this._rawPrevTime=0)))}},a._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:P.selector(e)||e;var i,r,o,s,a,l,u,c,h,d=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((g(e)||D(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,c=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),n&&(P.onOverwrite||this.vars.onOverwrite)){for(o in u)a[o]&&(h||(h=[]),h.push(o));if((h||!t)&&!J(this,n,e,h))return!1}for(o in u)(s=a[o])&&(d&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),c&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&P._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},a._enabled=function(t,e){if(u||l.wake(),t&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=Q(i[n],this,!0);else this._siblings=Q(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?P._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},P.to=function(t,e,n){return new P(t,e,n)},P.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new P(t,e,n)},P.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new P(t,e,i)},P.delayedCall=function(t,e,n,i,r){return new P(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},P.set=function(t,e){return new P(t,0,e)},P.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:P.selector(t)||t;var n,i,r,o;if((g(t)||D(t))&&"number"!=typeof t[0]){for(n=t.length,i=[];--n>-1;)i=i.concat(P.getTweensOf(t[n],e));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else for(i=Q(t).concat(),n=i.length;--n>-1;)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1);return i},P.killTweensOf=P.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var i=P.getTweensOf(t,e),r=i.length;--r>-1;)i[r]._kill(n,t)};var nt=w("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=nt.prototype},!0);if(a=nt.prototype,nt.version="1.18.0",nt.API=2,a._firstPT=null,a._addTween=B,a.setRatio=W,a._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},a._roundProps=function(t,e){for(var n=this._firstPT;n;)(t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")])&&(n.r=e),n=n._next},P._onPluginEvent=function(t,e){var n,i,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,i=r;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:o)?a._prev._next=a:r=a,(a._next=i)?i._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(n=!0),a=a._next;return n},nt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===nt.API&&(V[(new t[e])._propName]=t[e]);return!0},y.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=w("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){nt.call(this,n,i),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new nt(n);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,nt.activate([s]),s},o=t._gsQueue){for(s=0;s<o.length;s++)o[s]();for(a in m)m[a].func||t.console.log("GSAP encountered missing dependency: com.greensock."+a)}u=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],backbone:[function(t,e,n){(function(e){!function(i){var r="object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){r.Backbone=i(r,n,t,e)});else if("undefined"!=typeof n){var o,s=t("underscore");i(r,n,s,o)}else r.Backbone=i(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,n,i){var r=t.Backbone,o=[].slice;e.VERSION="1.2.1",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],l(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,d=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=d(t,e,s[a],i[s[a]],o)}else if(i&&h.test(i))for(s=i.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,i,r){if(t._events=d(p,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};c.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return f(t,e,i,this,s),this};var p=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=d(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var g=function(t,e,i,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||i||a){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];i&&i!==f.callback&&i!==f.callback._callback||a&&a!==f.context?h.push(f):(o=f.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}
return n.size(t)?t:void 0}for(var p=n.keys(l);s<p.length;s++)o=l[p[s]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,i){var r=d(m,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(t,e,i){var r=d(m,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;e>i;i++)n[i]=arguments[i+1];return d(v,this._events,t,void 0,n),this};var v=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var w=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(w.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(u[d],e)||a.push(d),n.isEqual(h[d],e)?delete c[d]:c[d]=e,o?delete u[d]:u[d]=e;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=i);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,u[a[f]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return n.size(i)?i:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return e.set(r,t)?(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},j(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),e&&!s.set(e,i)?!1:(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},j(this,i),r&&o&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(j(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(w,_,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},C={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1};n.extend(b.prototype,c,{model:w,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,T))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){e=n.defaults({},e,C),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:t.slice();var r,o,s,a,l,u=e.at;null!=u&&(u=+u),0>u&&(u+=this.length+1);for(var c=this.comparator&&null==u&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,d=[],f=[],p={},g=e.add,m=e.merge,v=e.remove,y=!c&&g&&v?[]:!1,w=!1,_=0;_<t.length;_++){if(s=t[_],a=this.get(s))v&&(p[a.cid]=!0),m&&s!==a&&(s=this._isModel(s)?s.attributes:s,e.parse&&(s=a.parse(s,e)),a.set(s,e),c&&!l&&a.hasChanged(h)&&(l=!0)),t[_]=a;else if(g){if(o=t[_]=this._prepareModel(s,e),!o)continue;d.push(o),this._addReference(o,e)}o=a||o,o&&(r=this.modelId(o.attributes),!y||!o.isNew()&&p[r]||(y.push(o),w=w||!this.models[_]||o.cid!==this.models[_].cid),p[r]=!0)}if(v){for(var _=0;_<this.length;_++)p[(o=this.models[_]).cid]||f.push(o);f.length&&this._removeModels(f,e)}if(d.length||w)if(c&&(l=!0),this.length+=d.length,null!=u)for(var _=0;_<d.length;_++)this.models.splice(u+_,0,d[_]);else{y&&(this.models.length=0);for(var b=y||d,_=0;_<b.length;_++)this.models.push(b[_])}if(l&&this.sort({silent:!0}),!e.silent){for(var T=null!=u?n.clone(e):e,_=0;_<d.length;_++)null!=u&&(T.index=u+_),(o=d[_]).trigger("add",o,this,T);(l||w)&&this.trigger("sort",this,e),(d.length||f.length)&&this.trigger("update",this,e)}return i?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n.length?n:!1},_isModel:function(t){return t instanceof w},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});var x={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(b,x,"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,R)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,R=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(E);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=M[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||W()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,N=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,c,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(O,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var D=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,I=/#.*$/;D.started=!1,n.extend(D.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(H,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!D.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(I,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new D;var F=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};w.extend=b.extend=k.extend=S.extend=D.extend=F;var W=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{underscore:1}],brick:[function(t,e,n){!function(t){function e(t,e){return onresize=function(){clearTimeout(e),e=setTimeout(t,100)},t}function n(){var e=t(".b-by-b-item").width(),n=100/(parseInt(e)/u.width()*100),i=Math.round(n);return i}function i(){c=u.children(".b-by-b-item"),c.remove(),t(a).appendTo(u),c.removeAttr("data-column"),t(".single-column").remove()}function r(t){t.css({padding:f.itemPadding,"margin-top":f.itemMargin,"margin-bottom":f.itemMargin,"box-sizing":"border-box"})}function o(e){for(var n=0;e>n;n++)u.prepend('<div class="single-column 1of'+e+'"></div>');u.children(".single-column").css({"float":"left",width:100/e+"%","padding-left":f.itemMargin/2,"padding-right":f.itemMargin/2,"box-sizing":"border-box"}),c=u.children(".b-by-b-item"),r(c);for(var n=0;e>n;n++)c.filter(function(t){return t%e===n}).attr("data-column",n);t.each(c,function(n,i){var r=("#"+t(i).attr("id"),t(i).attr("data-column")),o=".1of"+e+":eq("+r+")";t(this).appendTo(o)}),t(".b-by-b-item").fadeIn(500)}function s(){var e;e=u.prop("id").length>0?"#"+u.prop("id"):"."+u.prop("class"),t("head").append("<style>"+e+':after { content:""; display:table; clear:both; }</style>')}var a,l,u,c,h=null,d=1e3,f=null,p={init:function(r){var d,p;return f=t.extend({itemMargin:5,itemPadding:5},r),t(this).children("div, section, article, img, a").addClass("b-by-b-item"),u=t(this),c=u.children(".b-by-b-item"),u.css("width","100%"),a=c.clone(),h=a,l=c.clone(),e(function(){u.hasClass("no-grid")||(i(),p=n(),o(p)),u.css("width","100%")}),t(window).resize(),i(),d=n(),o(d),s(),this},addAfter:function(e){for(var s,c=0;c<e.length;c++){var d=t(e[c]).addClass("b-by-b-item");[].push.apply(h,t.makeArray(d)),[].push.apply(l,t.makeArray(d))}a=t.grep(h,function(t){return"undefined"!=typeof t}),i(),u.hasClass("no-grid")?r(u.children(".b-by-b-item")):(s=n(),o(s))},addBefore:function(e){for(var s,c=0;c<e.length;c++){var d=t(e[c]).addClass("b-by-b-item");[].unshift.apply(l,t.makeArray(d)),[].unshift.apply(h,t.makeArray(d))}a=t.grep(h,function(t){return"undefined"!=typeof t}),i(),u.hasClass("no-grid")?r(u.children(".b-by-b-item")):(s=n(),o(s))},removeItems:function(e,r){var s;"undefined"==typeof r&&(r=d),t.each(e,function(e,n){for(var i=0;i<l.length;i++)t(l[i]).is(n)&&(t(n).animate({opacity:0},r),l.splice(i,1),h.splice(i,1),i--)}),a=t.grep(h,function(t){return"undefined"!=typeof t}),setTimeout(function(){i(),u.hasClass("no-grid")||(s=n(),o(s))},r+1)},hideItems:function(e,r){var s;"undefined"==typeof r&&(r=d),t.each(e,function(e,n){for(var i=0;i<h.length;i++)t(n).animate({opacity:0},r),t(h[i]).is(n)&&(delete h[i],i--)}),a=t.grep(h,function(t){return"undefined"!=typeof t}),setTimeout(function(){i(),u.hasClass("no-grid")||(s=n(),o(s))},r+1)},showItems:function(e,s){"undefined"==typeof s&&(s=d);var c,f=l;t.each(e,function(e,n){for(var i=0;i<f.length;i++)t(f[i]).is(n)&&(h[i]=f[i])}),a=t.grep(h,function(t){return"undefined"!=typeof t}),i(),t.each(e,function(e,n){t(n).css("opacity",0)}),u.hasClass("no-grid")||(c=n(),o(c)),t.each(e,function(e,n){t(n).animate({opacity:1},s),r(t(n))})},reload:function(){var t;u.hasClass("no-grid")&&(u.removeClass("no-grid"),i(),t=n(),o(t))},end:function(){u.hasClass("no-grid")||(i(),u.addClass("no-grid"))}};t.fn.layout=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist in Brick by Brick JS"):p.init.apply(this,arguments)}}(jQuery)},{}],"chartist-plugin-tooltip":[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(["chartist"],function(t){return i.returnExportsGlobal=r(t)}):"object"==typeof n?e.exports=r(t("chartist")):i["Chartist.plugins.tooltip"]=r(i.Chartist)}(this,function(t){"use strict";var e={currency:void 0,valueTransform:t.noop,seriesName:!0};return t.plugins=t.plugins||{},t.plugins.tooltip=function(n){return n=t.extend({},e,n),function(e){var i=".ct-point";e instanceof t.Bar?i=".ct-bar":e instanceof t.Pie&&(i="[class^=ct-slice]");var r=$(e.container),o=r.append('<div class="ct-tooltip"></div>').find(".ct-tooltip").hide();r.on("mouseenter",i,function(){var t=$(this),e=t.parent().attr("ct:series-name"),i="";n.seriesName&&e&&(i+=e+"<br>"),t.attr("ct:meta")&&(i+=t.attr("ct:meta")+"<br>");var r=t.attr("ct:value")||"0";r=void 0!==n.currency?n.currency+n.valueTransform(r):n.valueTransform(r),i+=r,o.html(i).show()}),r.on("mouseleave",i,function(){o.hide()}),r.on("mousemove",function(t){var e=$(t.target).parents(".ct-chart").siblings(".chart-title").height()+$(t.target).parents(".ct-chart").siblings(".chart-subtitle").height();navigator.userAgent.toLowerCase().indexOf("firefox")>-1?(e-="ct-slice-pie"===$(t.target).attr("class")||"ct-slice-donut"===$(t.target).attr("class")?22*$(t.target).parents(".ct-chart").height()/250:10*$(t.target).parents(".ct-chart").height()/250,o.css({left:t.originalEvent.layerX-o.width()/2-8,top:t.originalEvent.layerY-o.height()+e-o.height()-10})):o.css({left:(t.offsetX||t.originalEvent.layerX)-o.width()/2-8,top:(t.offsetY||t.originalEvent.layerY)+e-o.height()-10})})}},t.plugins.tooltip})},{chartist:"chartist"}],chartist:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define([],function(){return t.Chartist=i()}):"object"==typeof n?e.exports=i():t.Chartist=i()}(this,function(){var t={version:"0.9.1"};return function(t,e,n){"use strict";n.noop=function(t){return t},n.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},n.extend=function(t){t=t||{};var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){for(var i in e)"object"!=typeof e[i]||null===e[i]||e[i]instanceof Array?t[i]=e[i]:t[i]=n.extend({},t[i],e[i])}),t},n.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},n.stripUnit=function(t){return"string"==typeof t&&(t=t.replace(/[^0-9\+-\.]/g,"")),+t},n.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},n.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},n.times=function(t){return Array.apply(null,new Array(t))},n.sum=function(t,e){return t+(e?e:0)},n.mapMultiply=function(t){return function(e){return e*t}},n.mapAdd=function(t){return function(e){return e+t}},n.serialMap=function(t,e){var i=[],r=Math.max.apply(null,t.map(function(t){return t.length}));return n.times(r).forEach(function(n,r){var o=t.map(function(t){return t[r]});i[r]=e.apply(null,o)}),i},n.roundWithPrecision=function(t,e){var i=Math.pow(10,e||n.precision);return Math.round(t*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(t){return null===t||void 0===t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(n.escapingMap).reduce(function(t,e){return n.replaceAll(t,e,n.escapingMap[e])},t))},n.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(n.escapingMap).reduce(function(t,e){return n.replaceAll(t,n.escapingMap[e],e)},t);try{t=JSON.parse(t),t=void 0!==t.data?t.data:t}catch(e){}return t},n.createSvg=function(t,e,i,r){var o;return e=e||"100%",i=i||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS("http://www.w3.org/2000/xmlns/",n.xmlNs.prefix)}).forEach(function(e){t.removeChild(e)}),o=new n.Svg("svg").attr({width:e,height:i}).addClass(r).attr({style:"width: "+e+"; height: "+i+";"}),t.appendChild(o._node),o},n.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},n.getDataArray=function(t,e,i){function r(t){return n.isFalseyButZero(t)?void 0:(t.data||t)instanceof Array?(t.data||t).map(r):t.hasOwnProperty("value")?r(t.value):i?{x:n.getNumberOrUndefined(t.x),y:t.hasOwnProperty("y")?n.getNumberOrUndefined(t.y):n.getNumberOrUndefined(t)}:n.getNumberOrUndefined(t)}return(e&&!t.reversed||!e&&t.reversed)&&(n.reverseData(t),t.reversed=!t.reversed),t.series.map(r)},n.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},n.getMetaData=function(t,e){var i=t.data?t.data[e]:t[e];return i?n.serialize(i.meta):void 0},n.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},n.projectLength=function(t,e,n){return e/n.range*t},n.getAvailableHeight=function(t,e){return Math.max((n.stripUnit(e.height)||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},n.getHighLow=function(t,e,i){function r(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)r(t[e]);else{var n=i?+t[i]:+t;s&&n>o.high&&(o.high=n),a&&n<o.low&&(o.low=n)}}e=n.extend({},e,i?e["axis"+i.toUpperCase()]:{});var o={high:void 0===e.high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},s=void 0===e.high,a=void 0===e.low;return(s||a)&&r(t),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:o.low=0),o},n.isNum=function(t){return!isNaN(t)&&isFinite(t)},n.isFalseyButZero=function(t){return!t&&0!==t},n.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t},n.getMultiValue=function(t,e){return n.isNum(t)?+t:t?t[e]||0:0},n.rho=function(t){function e(t,n){return t%n===0?n:e(n,t%n)}function n(t){return t*t+1}if(1===t)return t;var i,r=2,o=2;if(t%2===0)return 2;do r=n(r)%t,o=n(n(o))%t,i=e(Math.abs(r-o),t);while(1===i);return i},n.getBounds=function(t,e,i,r,o){var s,a,l,u=0,c={high:e.high,low:e.low};(r||0===r)&&(c.high=Math.max(r,c.high),c.low=Math.min(r,c.low)),c.valueRange=c.high-c.low,c.oom=n.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var h=n.projectLength(t,c.step,c),d=i>h,f=o?n.rho(c.range):0;if(o&&n.projectLength(t,1,c)>=i)c.step=1;else if(o&&f<c.step&&n.projectLength(t,f,c)>=i)c.step=f;else for(;;){if(d&&n.projectLength(t,c.step,c)<=i)c.step*=2;else{if(d||!(n.projectLength(t,c.step/2,c)>=i))break;if(c.step/=2,o&&c.step%1!==0){c.step*=2;break}}if(u++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}for(a=c.min,l=c.max;a+c.step<=c.low;)a+=c.step;for(;l-c.step>=c.high;)l-=c.step;for(c.min=a,c.max=l,c.range=c.max-c.min,c.values=[],s=c.min;s<=c.max;s+=c.step)c.values.push(n.roundWithPrecision(s));return c},n.polarToCartesian=function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},n.createChartRect=function(t,e,i){var r=!(!e.axisX&&!e.axisY),o=r?e.axisY.offset:0,s=r?e.axisX.offset:0,a=t.width()||n.stripUnit(e.width)||0,l=t.height()||n.stripUnit(e.height)||0,u=n.normalizePadding(e.chartPadding,i);a=Math.max(a,o+u.left+u.right),l=Math.max(l,s+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return r?("start"===e.axisX.position?(c.y2=u.top+s,c.y1=Math.max(l-u.bottom,c.y2+1)):(c.y2=u.top,c.y1=Math.max(l-u.bottom-s,c.y2+1)),"start"===e.axisY.position?(c.x1=u.left+o,c.x2=Math.max(a-u.right,c.x1+1)):(c.x1=u.left,c.x2=Math.max(a-u.right-o,c.x1+1))):(c.x1=u.left,c.x2=Math.max(a-u.right,c.x1+1),c.y2=u.top,c.y1=Math.max(l-u.bottom,c.y2+1)),c},n.createGrid=function(t,e,i,r,o,s,a,l){var u={};u[i.units.pos+"1"]=t,u[i.units.pos+"2"]=t,u[i.counterUnits.pos+"1"]=r,u[i.counterUnits.pos+"2"]=r+o;var c=s.elem("line",u,a.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:e,group:s,element:c},u))},n.createLabel=function(t,e,i,r,o,s,a,l,u,c,h){var d,f={};if(f[o.units.pos]=t+a[o.units.pos],f[o.counterUnits.pos]=a[o.counterUnits.pos],f[o.units.len]=e,f[o.counterUnits.len]=s-10,c){var p='<span class="'+u.join(" ")+'" style="'+o.units.len+": "+Math.round(f[o.units.len])+"px; "+o.counterUnits.len+": "+Math.round(f[o.counterUnits.len])+'px">'+r[i]+"</span>";d=l.foreignObject(p,n.extend({style:"overflow: visible;"},f))}else!o.horizontalBars&&void 0!==o.horizontalBars&&u.indexOf("ct-horizontal")>-1?f[o.units.pos]=f[o.units.pos]+(f[o.units.len]-6.5*r[i].length)/2:o.horizontalBars&&u.indexOf("ct-vertical")>-1&&(f[o.units.pos]=f[o.units.pos]-f[o.units.len]/2+4),d=l.elem("text",f,u.join(" ")).text(r[i]);h.emit("draw",n.extend({type:"label",axis:o,index:i,group:l,element:d,text:r[i]},f))},n.getSeriesOption=function(t,e,n){if(t.name&&e.series&&e.series[t.name]){var i=e.series[t.name];return i.hasOwnProperty(n)?i[n]:e[n]}return e[n]},n.optionsProvider=function(e,i,r){function o(e){var o=a;if(a=n.extend({},u),i)for(l=0;l<i.length;l++){var s=t.matchMedia(i[l][0]);s.matches&&(a=n.extend(a,i[l][1]));
}r&&!e&&r.emit("optionsChanged",{previousOptions:o,currentOptions:a})}function s(){c.forEach(function(t){t.removeListener(o)})}var a,l,u=n.extend({},e),c=[];if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(l=0;l<i.length;l++){var h=t.matchMedia(i[l][0]);h.addListener(o),c.push(h)}return o(!0),{removeMediaQueryListeners:s,getCurrentOptions:function(){return n.extend({},a)}}}}(window,document,t),function(t,e,n){"use strict";n.Interpolation={},n.Interpolation.none=function(){return function(t,e){for(var i=new n.Svg.Path,r=!0,o=1;o<t.length;o+=2){var s=e[(o-1)/2];void 0===s.value?r=!0:r?(i.move(t[o-1],t[o],!1,s),r=!1):i.line(t[o-1],t[o],!1,s)}return i}},n.Interpolation.simple=function(t){var e={divisor:2};t=n.extend({},e,t);var i=1/Math.max(1,t.divisor);return function(t,e){for(var r=new n.Svg.Path,o=!0,s=2;s<t.length;s+=2){var a=t[s-2],l=t[s-1],u=t[s],c=t[s+1],h=(u-a)*i,d=e[s/2-1],f=e[s/2];void 0===d.value?o=!0:(o&&r.move(a,l,!1,d),void 0!==f.value&&(r.curve(a+h,l,u-h,c,u,c,!1,f),o=!1))}return r}},n.Interpolation.cardinal=function(t){function e(t,e){for(var n=[],i=!0,r=0;r<t.length;r+=2)void 0===e[r/2].value?i=!0:(i&&(n.push({pathCoordinates:[],valueData:[]}),i=!1),n[n.length-1].pathCoordinates.push(t[r],t[r+1]),n[n.length-1].valueData.push(e[r/2]));return n}var i={tension:1};t=n.extend({},i,t);var r=Math.min(1,Math.max(0,t.tension)),o=1-r;return function s(t,i){var a=e(t,i);if(a.length>1){var l=[];return a.forEach(function(t){l.push(s(t.pathCoordinates,t.valueData))}),n.Svg.Path.join(l)}if(t=a[0].pathCoordinates,i=a[0].valueData,t.length<=4)return n.Interpolation.none()(t,i);for(var u,c=(new n.Svg.Path).move(t[0],t[1],!1,i[0]),h=0,d=t.length;d-2*!u>h;h+=2){var f=[{x:+t[h-2],y:+t[h-1]},{x:+t[h],y:+t[h+1]},{x:+t[h+2],y:+t[h+3]},{x:+t[h+4],y:+t[h+5]}];u?h?d-4===h?f[3]={x:+t[0],y:+t[1]}:d-2===h&&(f[2]={x:+t[0],y:+t[1]},f[3]={x:+t[2],y:+t[3]}):f[0]={x:+t[d-2],y:+t[d-1]}:d-4===h?f[3]=f[2]:h||(f[0]={x:+t[h],y:+t[h+1]}),c.curve(r*(-f[0].x+6*f[1].x+f[2].x)/6+o*f[2].x,r*(-f[0].y+6*f[1].y+f[2].y)/6+o*f[2].y,r*(f[1].x+6*f[2].x-f[3].x)/6+o*f[2].x,r*(f[1].y+6*f[2].y-f[3].y)/6+o*f[2].y,f[2].x,f[2].y,!1,i[(h+2)/2])}return c}},n.Interpolation.step=function(t){var e={postpone:!0};return t=n.extend({},e,t),function(e,i){for(var r=new n.Svg.Path,o=!0,s=2;s<e.length;s+=2){var a=e[s-2],l=e[s-1],u=e[s],c=e[s+1],h=i[s/2-1],d=i[s/2];void 0===h.value?o=!0:(o&&r.move(a,l,!1,h),void 0!==d.value&&(t.postpone?r.line(u,l,!1,h):r.line(a,c,!1,d),r.line(u,c,!1,d),o=!1))}return r}}}(window,document,t),function(t,e,n){"use strict";n.EventEmitter=function(){function t(t,e){i[t]=i[t]||[],i[t].push(e)}function e(t,e){i[t]&&(e?(i[t].splice(i[t].indexOf(e),1),0===i[t].length&&delete i[t]):delete i[t])}function n(t,e){i[t]&&i[t].forEach(function(t){t(e)}),i["*"]&&i["*"].forEach(function(n){n(t,e)})}var i=[];return{addEventHandler:t,removeEventHandler:e,emit:n}}}(window,document,t),function(t,e,n){"use strict";function i(t){var e=[];if(t.length)for(var n=0;n<t.length;n++)e.push(t[n]);return e}function r(t,e){var i=e||this.prototype||n.Class,r=Object.create(i);n.Class.cloneDefinitions(r,t);var o=function(){var t,e=r.constructor||function(){};return t=this===n?Object.create(r):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return o.prototype=r,o["super"]=i,o.extend=this.extend,o}function o(){var t=i(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(n){delete e[n],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}),e}n.Class={extend:r,cloneDefinitions:o}}(window,document,t),function(t,e,n){"use strict";function i(t,e,i){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=n.extend({},i?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function r(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function o(t,e){return this.eventEmitter.addEventHandler(t,e),this}function s(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function a(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,e,i,r,o){this.container=n.querySelector(t),this.data=e,this.defaultOptions=i,this.options=r,this.responsiveOptions=o,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(a.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:r,on:o,off:s,version:n.version,supportsForeignObject:!1})}(window,document,t),function(t,e,n){"use strict";function i(t,i,r,o,s){t instanceof Element?this._node=t:(this._node=e.createElementNS(S,t),"svg"===t&&this._node.setAttributeNS(E,n.xmlNs.qualifiedName,n.xmlNs.uri),i&&this.attr(i),r&&this.addClass(r),o&&(s&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node)))}function r(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(i){void 0!==t[i]&&(e?this._node.setAttributeNS(e,[n.xmlNs.prefix,":",i].join(""),t[i]):this._node.setAttribute(i,t[i]))}.bind(this)),this)}function o(t,e,i,r){return new n.Svg(t,e,i,this,r)}function s(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function a(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new n.Svg(t)}function l(t){var e=this._node.querySelector(t);return e?new n.Svg(e):null}function u(t){var e=this._node.querySelectorAll(t);return e.length?new n.Svg.List(e):null}function c(t,n,i,r){if("string"==typeof t){var o=e.createElement("div");o.innerHTML=t,t=o.firstChild}t.setAttribute("xmlns",R);var s=this.elem("foreignObject",n,i,r);return s._node.appendChild(t),s}function h(t){return this._node.appendChild(e.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function p(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function g(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function m(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,n){return n.indexOf(t)===e}).join(" ")),this}function y(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t)}).join(" ")),this}function w(){return this._node.setAttribute("class",""),this}function _(t,e){try{return t.getBBox()[e]}catch(n){}return 0}function b(){return this._node.clientHeight||Math.round(_(this._node,"height"))||this._node.parentNode.clientHeight}function C(){return this._node.clientWidth||Math.round(_(this._node,"width"))||this._node.parentNode.clientWidth}function T(t,e,i){return void 0===e&&(e=!0),Object.keys(t).forEach(function(r){function o(t,e){var o,s,a,l={};t.easing&&(a=t.easing instanceof Array?t.easing:n.Svg.Easing[t.easing],delete t.easing),t.begin=n.ensureUnit(t.begin,"ms"),t.dur=n.ensureUnit(t.dur,"ms"),a&&(t.calcMode="spline",t.keySplines=a.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",l[r]=t.from,this.attr(l),s=n.stripUnit(t.begin||0),t.begin="indefinite"),o=this.elem("animate",n.extend({attributeName:r},t)),e&&setTimeout(function(){try{o._node.beginElement()}catch(e){l[r]=t.to,this.attr(l),o.remove()}}.bind(this),s),i&&o._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:o._node,params:t})}.bind(this)),o._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:o._node,params:t}),e&&(l[r]=t.to,this.attr(l),o.remove())}.bind(this))}t[r]instanceof Array?t[r].forEach(function(t){o.bind(this)(t,!1)}.bind(this)):o.bind(this)(t[r],e)}.bind(this)),this}function x(t){var e=this;this.svgElements=[];for(var i=0;i<t.length;i++)this.svgElements.push(new n.Svg(t[i]));Object.keys(n.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)}).forEach(function(t){e[t]=function(){var i=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){n.Svg.prototype[t].apply(e,i)}),e}})}var S="http://www.w3.org/2000/svg",E="http://www.w3.org/2000/xmlns/",R="http://www.w3.org/1999/xhtml";n.xmlNs={qualifiedName:"xmlns:ct",prefix:"ct",uri:"http://gionkunz.github.com/chartist-js/ct"},n.Svg=n.Class.extend({constructor:i,attr:r,elem:o,parent:s,root:a,querySelector:l,querySelectorAll:u,foreignObject:c,text:h,empty:d,remove:f,replace:p,append:g,classes:m,addClass:v,removeClass:y,removeAllClasses:w,height:b,width:C,animate:T}),n.Svg.isSupported=function(t){return e.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#"+t,"1.1")};var M={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=M,n.Svg.List=n.Class.extend({constructor:x})}(window,document,t),function(t,e,n){"use strict";function i(t,e,i,r,o,s){var a=n.extend({command:o?t.toLowerCase():t.toUpperCase()},e,s?{data:s}:{});i.splice(r,0,a)}function r(t,e){t.forEach(function(n,i){_[n.command.toLowerCase()].forEach(function(r,o){e(n,r,i,o,t)})})}function o(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=n.extend({},b,e)}function s(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function a(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,n,r){return i("M",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function u(t,e,n,r){return i("L",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function c(t,e,n,r,o,s,a,l){return i("C",{x1:+t,y1:+e,x2:+n,y2:+r,x:+o,y:+s},this.pathElements,this.pos++,a,l),this}function h(t,e,n,r,o,s,a,l,u){return i("A",{rx:+t,ry:+e,xAr:+n,lAf:+r,sf:+o,x:+s,y:+a},this.pathElements,this.pos++,l,u),this}function d(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var i=e.map(function(t){var e=t.shift(),i=_[e.toLowerCase()];return n.extend({command:e},i.reduce(function(e,n,i){return e[n]=+t[i],e},{}))}),r=[this.pos,0];return Array.prototype.push.apply(r,i),Array.prototype.splice.apply(this.pathElements,r),this.pos+=i.length,this}function f(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,n){var i=_[n.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(n[e]*t)/t:n[e]}.bind(this));return e+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(t,e){return r(this.pathElements,function(n,i){n[i]*="x"===i[0]?t:e}),this}function g(t,e){return r(this.pathElements,function(n,i){n[i]+="x"===i[0]?t:e}),this}function m(t){return r(this.pathElements,function(e,n,i,r,o){var s=t(e,n,i,r,o);(s||0===s)&&(e[n]=s)}),this}function v(t){var e=new n.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return n.extend({},t)}),e.options=n.extend({},this.options),e}function y(t){var e=[new n.Svg.Path];return this.pathElements.forEach(function(i){i.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new n.Svg.Path),e[e.length-1].pathElements.push(i)}),e}function w(t,e,i){for(var r=new n.Svg.Path(e,i),o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.pathElements.length;a++)r.pathElements.push(s.pathElements[a]);return r}var _={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},b={accuracy:3};n.Svg.Path=n.Class.extend({constructor:o,position:s,remove:a,move:l,line:u,curve:c,arc:h,scale:p,translate:g,transform:m,parse:d,stringify:f,clone:v,splitByCommand:y}),n.Svg.Path.elementDescriptions=_,n.Svg.Path.join=w}(window,document,t),function(t,e,n){"use strict";function i(t,e,n,i){this.units=t,this.counterUnits=t===o.x?o.y:o.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=n,this.options=i}function r(t,e,i,r,o){var s=r["axis"+this.units.pos.toUpperCase()],a=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(s.labelInterpolationFnc);a.forEach(function(u,c){var h,d={x:0,y:0};h=a[c+1]?a[c+1]-u:Math.max(this.axisLength-u,30),(l[c]||0===l[c])&&("x"===this.units.pos?(u=this.chartRect.x1+u,d.x=r.axisX.labelOffset.x,"start"===r.axisX.position?d.y=this.chartRect.padding.top+r.axisX.labelOffset.y+(i?5:20):d.y=this.chartRect.y1+r.axisX.labelOffset.y+(i?5:20)):(u=this.chartRect.y1-u,d.y=r.axisY.labelOffset.y-(i?h:0),"start"===r.axisY.position?d.x=i?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10:d.x=this.chartRect.x2+r.axisY.labelOffset.x+10),s.showGrid&&n.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[r.classNames.grid,r.classNames[this.units.dir]],o),s.showLabel&&(this.horizontalBars=r.horizontalBars,n.createLabel(u,h,c,l,this,s.offset,d,e,[r.classNames.label,r.classNames[this.units.dir],r.classNames[s.position]],i,o)))}.bind(this))}var o={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:i,createGridAndLabels:r,projectValue:function(t,e,n){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=o}(window,document,t),function(t,e,n){"use strict";function i(t,e,i,r){var o=r.highLow||n.getHighLow(e.normalized,r,t.pos);this.bounds=n.getBounds(i[t.rectEnd]-i[t.rectStart],o,r.scaleMinSpace||20,r.referenceValue,r.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis["super"].constructor.call(this,t,i,this.bounds.values,r)}function r(t){return this.axisLength*(+n.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,t),function(t,e,n){"use strict";function i(t,e,i,r){var o=n.getHighLow(e.normalized,r,t.pos);this.divisor=r.divisor||1,this.ticks=r.ticks||n.times(this.divisor).map(function(t,e){return o.low+(o.high-o.low)/this.divisor*e}.bind(this)),this.range={min:o.low,max:o.high},n.FixedScaleAxis["super"].constructor.call(this,t,i,this.ticks,r),this.stepLength=this.axisLength/this.divisor}function r(t){return this.axisLength*(+n.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,t),function(t,e,n){"use strict";function i(t,e,i,r){n.StepAxis["super"].constructor.call(this,t,i,r.ticks,r),this.stepLength=this.axisLength/(r.ticks.length-(r.stretch?1:0))}function r(t,e){return this.stepLength*e}n.StepAxis=n.Axis.extend({constructor:i,projectValue:r})}(window,document,t),function(t,e,n){"use strict";function i(t){var e={raw:this.data,normalized:n.getDataArray(this.data,t.reverseData,!0)};this.svg=n.createSvg(this.container,t.width,t.height,t.classNames.chart);var i,r,s=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),l=this.svg.elem("g").addClass(t.classNames.labelGroup),u=n.createChartRect(this.svg,t,o.padding);i=void 0===t.axisX.type?new n.StepAxis(n.Axis.units.x,e,u,n.extend({},t.axisX,{ticks:e.raw.labels,stretch:t.fullWidth})):t.axisX.type.call(n,n.Axis.units.x,e,u,t.axisX),r=void 0===t.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,e,u,n.extend({},t.axisY,{high:n.isNum(t.high)?t.high:t.axisY.high,low:n.isNum(t.low)?t.low:t.axisY.low})):t.axisY.type.call(n,n.Axis.units.y,e,u,t.axisY),i.createGridAndLabels(s,l,this.supportsForeignObject,t,this.eventEmitter),r.createGridAndLabels(s,l,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(o,s){var l=a.elem("g");l.attr({"series-name":o.name,meta:n.serialize(o.meta)},n.xmlNs.uri),l.addClass([t.classNames.series,o.className||t.classNames.series+"-"+n.alphaNumerate(s)].join(" "));var c=[],h=[];e.normalized[s].forEach(function(t,a){var l={x:u.x1+i.projectValue(t,a,e.normalized[s]),y:u.y1-r.projectValue(t,a,e.normalized[s])};c.push(l.x,l.y),h.push({value:t,valueIndex:a,meta:n.getMetaData(o,a)})}.bind(this));var d={lineSmooth:n.getSeriesOption(o,t,"lineSmooth"),showPoint:n.getSeriesOption(o,t,"showPoint"),showLine:n.getSeriesOption(o,t,"showLine"),showArea:n.getSeriesOption(o,t,"showArea"),areaBase:n.getSeriesOption(o,t,"areaBase")},f="function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?n.Interpolation.cardinal():n.Interpolation.none(),p=f(c,h);if(d.showPoint&&p.pathElements.forEach(function(e){var i=l.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({value:void 0===e.data.value.x?e.data.value.y:e.data.value.x+","+e.data.value.y,meta:e.data.meta},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:o,seriesIndex:s,group:l,element:i,x:e.x,y:e.y})}.bind(this)),d.showLine){var g=l.elem("path",{d:p.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized[s],path:p.clone(),chartRect:u,index:s,series:o,seriesIndex:s,group:l,element:g})}if(d.showArea&&r.range){var m=Math.max(Math.min(d.areaBase,r.range.max),r.range.min),v=u.y1-r.projectValue(m);p.splitByCommand("M").filter(function(t){return t.pathElements.length>1}).map(function(t){var e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,v).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,v)}).forEach(function(i){var r=l.elem("path",{d:i.stringify()},t.classNames.area,!0).attr({values:e.normalized[s]},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"area",values:e.normalized[s],path:i.clone(),series:o,seriesIndex:s,chartRect:u,index:s,group:l,element:r})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:r.bounds,chartRect:u,axisX:i,axisY:r,svg:this.svg,options:t})}function r(t,e,i,r){n.Line["super"].constructor.call(this,t,e,o,n.extend({},o,i),r)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!0},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:r,createChart:i})}(window,document,t),function(t,e,n){"use strict";function i(t){var e,i={raw:this.data,normalized:t.distributeSeries?n.getDataArray(this.data,t.reverseData).map(function(t){return[t]}):n.getDataArray(this.data,t.reverseData)};this.svg=n.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var r=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),a=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars){var l=n.serialMap(i.normalized,function(){return Array.prototype.slice.call(arguments).reduce(n.sum,0)});e=n.getHighLow([l],t)}else e=n.getHighLow(i.normalized,t);e.high=+t.high||(0===t.high?0:e.high),e.low=+t.low||(0===t.low?0:e.low);var u,c,h,d,f,p=n.createChartRect(this.svg,t,o.padding);c=t.distributeSeries&&t.stackBars?i.raw.labels.slice(0,1):i.raw.labels,t.horizontalBars?(h=f=new n.StepAxis(n.Axis.units.y,i,p,{ticks:c}),u=d=new n.AutoScaleAxis(n.Axis.units.x,i,p,n.extend({},t.axisX,{highLow:e,referenceValue:0}))):(h=d=new n.StepAxis(n.Axis.units.x,i,p,{ticks:c}),u=f=new n.AutoScaleAxis(n.Axis.units.y,i,p,n.extend({},t.axisY,{highLow:e,referenceValue:0})));var g=t.horizontalBars?p.x1+u.projectValue(0):p.y1-u.projectValue(0),m=[];h.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),u.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),i.raw.series.forEach(function(e,r){var o,a,l=r-(i.raw.series.length-1)/2;o=t.distributeSeries&&!t.stackBars?h.axisLength/i.normalized.length/2:t.distributeSeries&&t.stackBars?h.axisLength/2:h.axisLength/i.normalized[r].length/2,a=s.elem("g"),a.attr({"series-name":e.name,meta:n.serialize(e.meta)},n.xmlNs.uri),a.addClass([t.classNames.series,e.className||t.classNames.series+"-"+n.alphaNumerate(r)].join(" ")),i.normalized[r].forEach(function(s,c){var d,f,v,y;if(y=t.distributeSeries&&!t.stackBars?r:t.distributeSeries&&t.stackBars?0:c,d=t.horizontalBars?{x:p.x1+u.projectValue(s||0,c,i.normalized[r]),y:p.y1-h.projectValue(s||0,y,i.normalized[r])}:{x:p.x1+h.projectValue(s||0,y,i.normalized[r]),y:p.y1-u.projectValue(s||0,c,i.normalized[r])},d[h.units.pos]+=o*(t.horizontalBars?-1:1),d[h.units.pos]+=t.stackBars||t.distributeSeries?0:l*t.seriesBarDistance*(t.horizontalBars?-1:1),v=m[c]||g,m[c]=v-(g-d[h.counterUnits.pos]),void 0!==s){var w={};w[h.units.pos+"1"]=d[h.units.pos],w[h.units.pos+"2"]=d[h.units.pos],w[h.counterUnits.pos+"1"]=t.stackBars?v:g,w[h.counterUnits.pos+"2"]=t.stackBars?m[c]:d[h.counterUnits.pos],f=a.elem("line",w,t.classNames.bar).attr({value:s,meta:n.getMetaData(e,c)},n.xmlNs.uri),this.eventEmitter.emit("draw",n.extend({type:"bar",value:s,index:c,meta:n.getMetaData(e,c),series:e,seriesIndex:r,chartRect:p,group:a,element:f},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:p,axisX:d,axisY:f,svg:this.svg,options:t})}function r(t,e,i,r){n.Bar["super"].constructor.call(this,t,e,o,n.extend({},o,i),r)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!0},width:void 0,height:void 0,high:void 0,low:void 0,onlyInteger:!1,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:r,createChart:i})}(window,document,t),function(t,e,n){"use strict";function i(t,e,n){var i=e.x>t.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function r(t){var e,r,o,a,l=[],u=t.startAngle,c=n.getDataArray(this.data,t.reverseData);this.svg=n.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),e=n.createChartRect(this.svg,t,s.padding),r=Math.min(e.width()/2,e.height()/2),a=t.total||c.reduce(function(t,e){return t+e},0),r-=t.donut?t.donutWidth/2:0,o="outside"===t.labelPosition||t.donut?r:"center"===t.labelPosition?0:r/2,o+=t.labelOffset;for(var h={x:e.x1+e.width()/2,y:e.y2+e.height()/2},d=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length,f=0;f<this.data.series.length;f++){var p=this.data.series[f];l[f]=this.svg.elem("g",null,null,!0),l[f].attr({"series-name":p.name},n.xmlNs.uri),l[f].addClass([t.classNames.series,p.className||t.classNames.series+"-"+n.alphaNumerate(f)].join(" "));var g=u+c[f]/a*360;g-u===360&&(g-=.01);var m=n.polarToCartesian(h.x,h.y,r,u-(0===f||d?0:.2)),v=n.polarToCartesian(h.x,h.y,r,g),y=new n.Svg.Path(!t.donut).move(v.x,v.y).arc(r,r,0,g-u>180,0,m.x,m.y);t.donut||y.line(h.x,h.y);var w=l[f].elem("path",{d:y.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(w.attr({value:c[f],meta:n.serialize(p.meta)},n.xmlNs.uri),t.donut&&w.attr({style:"stroke-width: "+ +t.donutWidth+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:c[f],totalDataSum:a,index:f,meta:p.meta,series:p,group:l[f],element:w,path:y.clone(),center:h,radius:r,startAngle:u,endAngle:g}),t.showLabel){var _=n.polarToCartesian(h.x,h.y,o,u+(g-u)/2),b=t.labelInterpolationFnc(this.data.labels?this.data.labels[f]:c[f],f);if(b||0===b){var C=l[f].elem("text",{dx:_.x,dy:_.y,"text-anchor":i(h,_,t.labelDirection)},t.classNames.label).text(""+b);this.eventEmitter.emit("draw",{type:"label",index:f,group:l[f],element:C,text:""+b,x:_.x,y:_.y})}}u=g}this.eventEmitter.emit("created",{chartRect:e,svg:this.svg,options:t})}function o(t,e,i,r){n.Pie["super"].constructor.call(this,t,e,s,n.extend({},s,i),r)}var s={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1};n.Pie=n.Base.extend({constructor:o,createChart:r,determineAnchorPosition:i})}(window,document,t),t})},{}],d3:[function(t,e,n){!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function s(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function l(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function c(){this._=Object.create(null)}function h(t){return(t+="")===Cs||t[0]===Ts?Ts+t:t}function d(t){return(t+="")[0]===Ts?t.slice(1):t}function f(t){return h(t)in this._}function p(t){return(t=h(t))in this._&&delete this._[t]}function g(){var t=[];for(var e in this._)t.push(d(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function v(){for(var t in this._)return!1;return!0}function y(){this._=Object.create(null)}function w(t){return t}function _(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xs.length;i>n;++n){var r=xs[n]+e;if(r in t)return r}}function C(){}function T(){}function x(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new c;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function S(){us.event.preventDefault()}function E(){for(var t,e=us.event;t=e.sourceEvent;)e=t;return e}function R(t){for(var e=new T,n=0,i=arguments.length;++n<i;)e[arguments[n]]=x(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=us.event;r.target=t,us.event=r,e[r.type].apply(n,i)}finally{us.event=o}}},e}function M(t){return Es(t,Os),t}function k(t){return"function"==typeof t?t:function(){return Rs(t,this)}}function O(t){return"function"==typeof t?t:function(){return Ms(t,this)}}function A(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=us.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:s:t.local?o:r}function N(t){return t.trim().replace(/\s+/g," ")}function P(t){return new RegExp("(?:^|\\s+)"+us.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=D(t).map(H);var r=t.length;return"function"==typeof e?i:n}function H(t){var e=P(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",N(r+" "+t))):n.setAttribute("class",N(r.replace(e," ")))}}function I(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function F(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function W(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===As&&e.documentElement.namespaceURI===As?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=us.ns.qualify(t)).local?n:e}function j(){var t=this.parentNode;t&&t.removeChild(this)}function B(t){return{__data__:t}}function z(t){return function(){return ks(this,t)}}function V(t){return arguments.length||(t=i),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function Y(t){return Es(t,Ps),t}function G(t){var e,n;return function(i,r,o){var s,a=t[o].update,l=a.length;for(o!=n&&(n=o,
e=0),r>=e&&(e=r+1);!(s=a[e])&&++e<l;);return s}}function X(t,e,n){function i(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,hs(arguments));i.call(this),this.addEventListener(t,this[s]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+us.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var s="__on"+t,a=t.indexOf("."),l=q;a>0&&(t=t.slice(0,a));var u=Ds.get(t);return u&&(t=u,l=$),a?e?r:i:e?C:o}function q(t,e){return function(n){var i=us.event;us.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{us.event=i}}}function $(t,e){var n=q(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function K(e){var i=".dragsuppress-"+ ++Hs,r="click"+i,o=us.select(n(e)).on("touchmove"+i,S).on("dragstart"+i,S).on("selectstart"+i,S);if(null==Ls&&(Ls="onselectstart"in e?!1:b(e.style,"userSelect")),Ls){var s=t(e).style,a=s[Ls];s[Ls]="none"}return function(t){if(o.on(i,null),Ls&&(s[Ls]=a),t){var e=function(){o.on(r,null)};o.on(r,function(){S(),e()},!0),setTimeout(e,0)}}}function Z(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Is){var o=n(t);if(o.scrollX||o.scrollY){i=us.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=i[0][0].getScreenCTM();Is=!(s.f||s.e),i.remove()}}return Is?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Q(){return us.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function tt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function et(t){return t>1?0:-1>t?js:Math.acos(t)}function nt(t){return t>1?Vs:-1>t?-Vs:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function st(t){return(t=Math.sin(t/2))*t}function at(){}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.s,t.l):Ct(""+t,Tt,lt):new lt(t,e,n)}function ut(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,new yt(r(t+120),r(t),r(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):t instanceof dt?pt(t.l,t.a,t.b):pt((t=xt((t=us.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function ht(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Us)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ct?ht(t.h,t.c,t.l):xt((t=yt(t)).r,t.g,t.b):new dt(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=gt(r)*ea,i=gt(i)*na,o=gt(o)*ia,new yt(vt(3.2404542*r-1.5371385*i-.4985314*o),vt(-.969266*r+1.8760108*i+.041556*o),vt(.0556434*r-.2040259*i+1.0572252*o))}function pt(t,e,n){return t>0?new ct(Math.atan2(n,e)*Ys,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):Ct(""+t,yt,ut):new yt(t,e,n)}function wt(t){return new yt(t>>16,t>>8&255,255&t)}function _t(t){return wt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Ct(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Et(r[0]),Et(r[1]),Et(r[2]))}return(o=sa.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,l=15&o,l=l<<4|l):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function Tt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new lt(i,r,l)}function xt(t,e,n){t=St(t),e=St(e),n=St(n);var i=mt((.4124564*t+.3575761*e+.1804375*n)/ea),r=mt((.2126729*t+.7151522*e+.072175*n)/na),o=mt((.0193339*t+.119192*e+.9503041*n)/ia);return dt(116*r-16,500*(i-r),200*(r-o))}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Et(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Rt(t){return"function"==typeof t?t:function(){return t}}function Mt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(e,n,t,i)}}function kt(t,e,n,i){function r(){var t,e=l.status;if(!e&&At(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(i){return void s.error.call(o,i)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=us.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=us.event;us.event=t;try{s.progress.call(o,l)}finally{us.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(hs(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var c in a)l.setRequestHeader(c,a[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},us.rebind(o,s,"on"),null==i?o:o.get(Ot(i))}function Ot(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Nt(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,n:null};return la?la.n=o:aa=o,la=o,ua||(ca=clearTimeout(ca),ua=1,ha(Pt)),o}function Pt(){var t=Dt(),e=Lt()-t;e>24?(isFinite(e)&&(clearTimeout(ca),ca=setTimeout(Pt,e)),ua=0):(ua=1,ha(Pt))}function Dt(){for(var t=Date.now(),e=aa;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Lt(){for(var t,e=aa,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:aa=e.n;return la=t,n}function Ht(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var n=Math.pow(10,3*bs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:w;return function(t){var n=fa.exec(t),i=n[1]||" ",s=n[2]||">",a=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),f){case"n":h=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=pa.get(f)||Wt;var w=u&&h;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>p){var l=us.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,d);var _,b,C=t.lastIndexOf(".");if(0>C){var T=y?t.lastIndexOf("e"):-1;0>T?(_=t,b=""):(_=t.substring(0,T),b=t.substring(T))}else _=t.substring(0,C),b=e+t.substring(C+1);!u&&h&&(_=o(_,1/0));var x=g.length+_.length+b.length+(w?0:r.length),S=c>x?new Array(x=c-x+1).join(i):"";return w&&(_=o(S+_,S.length?c-b.length:1/0)),r+=g,t=_+b,("<"===s?r+t+S:">"===s?S+r+t:"^"===s?S.substring(0,x>>=1)+r+t+S.substring(x):r+(w?t:S+t))+n}}}function Wt(t){return t+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Bt(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ma(n-1)),1),n}function o(t,n){return e(t=new ma(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;i>s;)a.push(new Date(+s)),e(s,1);return a}function a(t,e,n){try{ma=jt;var i=new jt;return i._=t,s(i,e,n)}finally{ma=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var l=t.utc=zt(t);return l.floor=l,l.round=zt(i),l.ceil=zt(r),l.offset=zt(o),l.range=a,t}function zt(t){return function(e,n){try{ma=jt;var i=new jt;return i._=e,t(i,n)._}finally{ma=Date}}}function Vt(t){function e(t){function e(e){for(var n,r,o,s=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=ya[n=t.charAt(++a)])&&(n=t.charAt(++a)),(o=M[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),s.push(n),l=a+1);return s.push(t.slice(l,a)),s.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&ma!==jt,s=new(o?jt:ma);return"j"in i?s.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?s._:s},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,s,a=0,l=e.length,u=n.length;l>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(s=e.charAt(a++),o=k[s in ya?e.charAt(a++):s],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.w=T.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.m=R.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,M.c.toString(),e,i)}function l(t,e,i){return n(t,M.x.toString(),e,i)}function u(t,e,i){return n(t,M.X.toString(),e,i)}function c(t,e,n){var i=w.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ma=jt;var e=new ma;return e._=t,i(e)}finally{ma=Date}}var i=e(t);return n.parse=function(t){try{ma=jt;var e=i.parse(t);return e&&e._}finally{ma=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ue;var w=us.map(),_=Yt(g),b=Gt(g),C=Yt(m),T=Gt(m),x=Yt(v),S=Gt(v),E=Yt(y),R=Gt(y);p.forEach(function(t,e){w.set(t.toLowerCase(),e)});var M={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+ga.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(ga.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(ga.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},k={a:i,A:r,b:o,B:s,c:a,d:ee,e:ee,H:ie,I:ie,j:ne,L:se,m:te,M:re,p:c,S:oe,U:qt,w:Xt,W:$t,x:l,X:u,y:Zt,Y:Kt,Z:Qt,"%":le};return e}function Ut(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Yt(t){return new RegExp("^(?:"+t.map(us.requote).join("|")+")","i")}function Gt(t){for(var e=new c,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qt(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function $t(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Kt(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Zt(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.y=Jt(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function te(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function ee(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ne(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ie(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function re(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function oe(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function se(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=bs(e)/60|0,r=bs(e)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function le(t,e,n){_a.lastIndex=0;var i=_a.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ce(){}function he(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function de(t,e){t&&xa.hasOwnProperty(t.type)&&xa[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function pe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function ge(){function t(t,e){t*=Us,e=e*Us/2+js/4;var n=t-i,s=n>=0?1:-1,a=s*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=r*l+c*Math.cos(a),d=c*s*Math.sin(a);Ea.add(Math.atan2(d,h)),i=t,r=l,o=u}var e,n,i,r,o;Ra.point=function(s,a){Ra.point=t,i=(e=s)*Us,r=Math.cos(a=(n=a)*Us/2+js/4),o=Math.sin(a)},Ra.lineEnd=function(){t(e,n)}}function me(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function we(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ce(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function Te(t,e){return bs(t[0]-e[0])<Fs&&bs(t[1]-e[1])<Fs}function xe(t,e){t*=Us;var n=Math.cos(e*=Us);Se(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Se(t,e,n){++Ma,Oa+=(t-Oa)/Ma,Aa+=(e-Aa)/Ma,Na+=(n-Na)/Ma}function Ee(){function t(t,r){t*=Us;var o=Math.cos(r*=Us),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*a)*u+(u=i*s-e*l)*u+(u=e*a-n*s)*u),e*s+n*a+i*l);ka+=u,Pa+=u*(e+(e=s)),Da+=u*(n+(n=a)),La+=u*(i+(i=l)),Se(e,n,i)}var e,n,i;Wa.point=function(r,o){r*=Us;var s=Math.cos(o*=Us);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Wa.point=t,Se(e,n,i)}}function Re(){Wa.point=xe}function Me(){function t(t,e){t*=Us;var n=Math.cos(e*=Us),s=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),u=r*l-o*a,c=o*s-i*l,h=i*a-r*s,d=Math.sqrt(u*u+c*c+h*h),f=i*s+r*a+o*l,p=d&&-et(f)/d,g=Math.atan2(d,f);Ha+=p*u,Ia+=p*c,Fa+=p*h,ka+=g,Pa+=g*(i+(i=s)),Da+=g*(r+(r=a)),La+=g*(o+(o=l)),Se(i,r,o)}var e,n,i,r,o;Wa.point=function(s,a){e=s,n=a,Wa.point=t,s*=Us;var l=Math.cos(a*=Us);i=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),Se(i,r,o)},Wa.lineEnd=function(){t(e,n),Wa.lineEnd=Re,Wa.point=xe}}function ke(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Oe(){return!0}function Ae(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Te(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l=new Pe(n,t,null,!0),u=new Pe(n,null,l,!1);l.o=u,o.push(l),s.push(u),l=new Pe(i,t,null,!1),u=new Pe(i,null,l,!0),l.o=u,o.push(l),s.push(u)}}),s.sort(e),Ne(o),Ne(s),o.length){for(var a=0,l=n,u=s.length;u>a;++a)s[a].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var a=0,u=c.length;u>a;++a)r.point((h=c[a])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){c=f.p.z;for(var a=c.length-1;a>=0;--a)r.point((h=c[a])[0],h[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Ne(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Pe(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function u(){y.point=s,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),_.lineEnd();var t,e=_.clean(),n=w.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,s=-1;if(i>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++s<i;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Le))}var f,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=u,f=us.merge(f);var t=Be(v,p);f.length?(b||(o.polygonStart(),b=!0),Ae(f,Ie,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},w=He(),_=e(w),b=!1;return y}}function Le(t){return t.length>1}function He(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:C,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-Vs-Fs:Vs-t[1])-((e=e.x)[0]<0?e[1]-Vs-Fs:Vs-e[1])}function Fe(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?js:-js,l=bs(o-n);bs(l-js)<Fs?(t.point(n,i=(i+s)/2>0?Vs:-Vs),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=js&&(bs(n-r)<Fs&&(n-=r*Fs),bs(o-a)<Fs&&(o-=a*Fs),i=We(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function We(t,e,n,i){var r,o,s=Math.sin(t-n);return bs(s)>Fs?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function je(t,e,n,i){var r;if(null==t)r=n*Vs,i.point(-js,r),i.point(0,r),i.point(js,r),i.point(js,0),i.point(js,-r),i.point(0,-r),i.point(-js,-r),i.point(-js,0),i.point(-js,r);else if(bs(t[0]-e[0])>Fs){var o=t[0]<e[0]?js:-js;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Be(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Ea.reset();for(var a=0,l=e.length;l>a;++a){var u=e[a],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+js/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+js/4,w=Math.sin(y),_=Math.cos(y),b=v-d,C=b>=0?1:-1,T=C*b,x=T>js,S=p*w;if(Ea.add(Math.atan2(S*C*Math.sin(T),g*_+S*Math.cos(T))),o+=x?b+C*Bs:b,x^d>=n^v>=n){var E=ye(me(h),me(t));be(E);var R=ye(r,E);be(R);var M=(x^b>=0?-1:1)*nt(R[2]);(i>M||i===M&&(E[0]||E[1]))&&(s+=x^b>=0?1:-1)}if(!m++)break;d=v,p=w,g=_,h=t}}return(-Fs>o||Fs>o&&-Fs>Ea)^1&s}function ze(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=s?g?0:r(h,d):g?r(h+(0>h?js:-js),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=i(n,p),(Te(n,f)||Te(p,f))&&(p[0]+=Fs,p[1]+=Fs,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(a&&n&&s^g){var v;m&o||!(v=i(p,n,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Te(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=me(t),r=me(e),s=[1,0,0],a=ye(i,r),l=ve(a,a),u=a[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,d=-o*u/c,f=ye(s,a),p=_e(s,h),g=_e(a,d);we(p,g);var m=f,v=ve(p,m),y=ve(m,m),w=v*v-y*(ve(p,p)-1);if(!(0>w)){var _=Math.sqrt(w),b=_e(m,(-v-_)/y);if(we(b,p),b=Ce(b),!n)return b;var C,T=t[0],x=e[0],S=t[1],E=e[1];T>x&&(C=T,T=x,x=C);var R=x-T,M=bs(R-js)<Fs,k=M||Fs>R;if(!M&&S>E&&(C=S,S=E,E=C),k?M?S+E>0^b[1]<(bs(b[0]-T)<Fs?S:E):S<=b[1]&&b[1]<=E:R>js^(T<=b[0]&&b[0]<=x)){var O=_e(m,(-v+_)/y);return we(O,p),[b,Ce(O)]}}}function r(e,n){var i=s?t:js-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),s=o>0,a=bs(o)>Fs,l=mn(t,6*Us);return De(e,n,l,s?[0,-t]:[-js,t-js])}function Ve(t,e,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,u=s.y,c=a.x,h=a.y,d=0,f=1,p=c-l,g=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(d>o)return;f>o&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>f)return;o>d&&(d=o)}else if(p>0){if(d>o)return;f>o&&(f=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(d>o)return;f>o&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=i-u,g||!(0>o)){if(o/=g,0>g){if(o>f)return;o>d&&(d=o)}else if(g>0){if(d>o)return;f>o&&(f=o)}return d>0&&(r.a={x:l+d*p,y:u+d*g}),1>f&&(r.b={x:l+f*p,y:u+f*g}),r}}}}}}function Ue(t,e,n,i){function r(i,r){return bs(i[0]-t)<Fs?r>0?0:3:bs(i[0]-n)<Fs?r>0?2:1:bs(i[1]-e)<Fs?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var o,s=1,a=m[r],l=a.length,u=a[0];l>s;++s)o=a[s],u[1]<=i?o[1]>i&&tt(u,o,t)>0&&++e:o[1]<=i&&tt(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,a,l,u){var c=0,h=0;if(null==o||(c=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(a[0],a[1])}function c(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function h(t,e){c(t,e)&&a.point(t,e)}function d(){k.point=p,m&&m.push(v=[]),x=!0,T=!1,b=C=NaN}function f(){g&&(p(y,w),_&&T&&R.rejoin(),g.push(R.buffer())),k.point=h,T&&a.lineEnd()}function p(t,e){t=Math.max(-Ba,Math.min(Ba,t)),e=Math.max(-Ba,Math.min(Ba,e));var n=c(t,e);if(m&&v.push([t,e]),x)y=t,w=e,_=n,x=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&T)a.point(t,e);else{var i={a:{x:b,y:C},b:{x:t,y:e}};M(i)?(T||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),S=!1):n&&(a.lineStart(),a.point(t,e),S=!1)}b=t,C=e,T=n}var g,m,v,y,w,_,b,C,T,x,S,E=a,R=He(),M=Ve(t,e,n,i),k={point:h,lineStart:d,lineEnd:f,polygonStart:function(){a=R,g=[],m=[],S=!0},polygonEnd:function(){a=E,g=us.merge(g);var e=l([t,i]),n=S&&e,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),r&&Ae(g,o,e,u,a),a.polygonEnd()),g=m=v=null}};return k}}function Ye(t){var e=0,n=js/3,i=ln(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*js/180,n=t[1]*js/180):[e/js*180,n/js*180]},r}function Ge(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,nt((o-(t*t+n*n)*r*r)/(2*r))]},n}function Xe(){function t(t,e){Va+=r*t-i*e,i=t,r=e}var e,n,i,r;qa.point=function(o,s){qa.point=t,e=i=o,n=r=s},qa.lineEnd=function(){t(e,n)}}function qe(t,e){Ua>t&&(Ua=t),t>Ga&&(Ga=t),Ya>e&&(Ya=e),e>Xa&&(Xa=e)}function $e(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=Ke(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=Ke(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ze(t,e){Oa+=t,Aa+=e,++Na}function Qe(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);Pa+=s*(e+t)/2,Da+=s*(n+i)/2,La+=s,Ze(e=t,n=i)}var e,n;Ka.point=function(i,r){Ka.point=t,Ze(e=i,n=r)}}function Je(){Ka.point=Ze}function tn(){function t(t,e){var n=t-i,o=e-r,s=Math.sqrt(n*n+o*o);Pa+=s*(i+t)/2,Da+=s*(r+e)/2,La+=s,s=r*t-i*e,Ha+=s*(i+t),Ia+=s*(r+e),Fa+=3*s,Ze(i=t,r=e)}var e,n,i,r;Ka.point=function(o,s){Ka.point=t,Ze(e=i=o,n=r=s)},Ka.lineEnd=function(){t(e,n)}}function en(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,Bs)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:C};return a}function nn(t){function e(t){return(a?i:n)(t)}function n(e){return sn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){w=NaN,x.point=o,e.lineStart()}function o(n,i){var o=me([n,i]),s=t(n,i);r(w,_,y,b,C,T,w=s[0],_=s[1],y=n,b=o[0],C=o[1],T=o[2],a,e),e.point(w,_)}function s(){x.point=n,e.lineEnd()}function l(){i(),x.point=u,x.lineEnd=c}function u(t,e){o(h=t,d=e),f=w,p=_,g=b,m=C,v=T,x.point=o}function c(){r(w,_,y,b,C,T,f,p,h,g,m,v,a,e),x.lineEnd=s,s()}var h,d,f,p,g,m,v,y,w,_,b,C,T,x={point:n,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),x.lineStart=l},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}function r(e,n,i,a,l,u,c,h,d,f,p,g,m,v){var y=c-e,w=h-n,_=y*y+w*w;if(_>4*o&&m--){var b=a+f,C=l+p,T=u+g,x=Math.sqrt(b*b+C*C+T*T),S=Math.asin(T/=x),E=bs(bs(T)-1)<Fs||bs(i-d)<Fs?(i+d)/2:Math.atan2(C,b),R=t(E,S),M=R[0],k=R[1],O=M-e,A=k-n,N=w*O-y*A;(N*N/_>o||bs((y*O+w*A)/_-.5)>.3||s>a*f+l*p+u*g)&&(r(e,n,i,a,l,u,M,k,E,b/=x,C/=x,T,m,v),v.point(M,k),r(M,k,E,b,C,T,c,h,d,f,p,g,m,v))}}var o=.5,s=Math.cos(30*Us),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function rn(t){var e=nn(function(e,n){return t([e*Ys,n*Ys])});return function(t){return un(e(t))}}function on(t){this.stream=t}function sn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return ln(function(){return t})()}function ln(t){function e(t){return t=a(t[0]*Us,t[1]*Us),[t[0]*d+l,u-t[1]*d]}function n(t){return t=a.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Ys,t[1]*Ys]}function i(){a=ke(s=dn(v,y,_),o);var t=o(g,m);return l=f-t[0]*d,u=p+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,s,a,l,u,c,h=nn(function(t,e){return t=o(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,y=0,_=0,b=ja,C=w,T=null,x=null;return e.stream=function(t){return c&&(c.valid=!1),c=un(b(s,h(C(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(T=t,ja):ze((T=+t)*Us),r()):T},e.clipExtent=function(t){return arguments.length?(x=t,C=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):w,r()):x},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Us,m=t[1]%360*Us,i()):[g*Ys,m*Ys]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Us,y=t[1]%360*Us,_=t.length>2?t[2]%360*Us:0,i()):[v*Ys,y*Ys,_*Ys]},us.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(t){return sn(t,function(e,n){t.point(e*Us,n*Us)})}function cn(t,e){return[t,e]}function hn(t,e){return[t>js?t-Bs:-js>t?t+Bs:t,e]}function dn(t,e,n){return t?e||n?ke(pn(t),gn(e,n)):pn(t):e||n?gn(e,n):hn}function fn(t){return function(e,n){return e+=t,[e>js?e-Bs:-js>e?e+Bs:e,n]}}function pn(t){var e=fn(t);return e.invert=fn(-t),e}function gn(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+a*r;return[Math.atan2(l*o-c*s,a*i-u*r),nt(c*o+l*s)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*s;return[Math.atan2(l*o+u*s,a*i+c*r),nt(c*i-a*r)]},n}function mn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=vn(n,r),o=vn(n,o),(s>0?o>r:r>o)&&(r+=s*Bs)):(r=t+s*Bs,o=t-.5*l);for(var u,c=r;s>0?c>o:o>c;c-=l)a.point((u=Ce([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function vn(t,e){var n=me(e);n[0]-=t,be(n);var i=et(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Fs)%(2*Math.PI)}function yn(t,e,n){var i=us.range(t,e-Fs,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function wn(t,e,n){var i=us.range(t,e-Fs,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function _n(t){return t.source}function bn(t){return t.target}function Cn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt(st(i-e)+r*s*st(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*c,r=n*u+e*h,s=n*o+e*a;return[Math.atan2(r,i)*Ys,Math.atan2(s,Math.sqrt(i*i+r*r))*Ys]}:function(){return[t*Ys,e*Ys]};return p.distance=d,p}function Tn(){function t(t,r){var o=Math.sin(r*=Us),s=Math.cos(r),a=bs((t*=Us)-e),l=Math.cos(a);Za+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;Qa.point=function(r,o){e=r*Us,n=Math.sin(o*=Us),i=Math.cos(o),Qa.point=t},Qa.lineEnd=function(){Qa.point=Qa.lineEnd=C}}function xn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)];
},n}function Sn(t,e){function n(t,e){s>0?-Vs+Fs>e&&(e=-Vs+Fs):e>Vs-Fs&&(e=Vs-Fs);var n=s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(js/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Vs]},n):Rn}function En(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return bs(r)<Fs?cn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-J(r)*Math.sqrt(t*t+n*n)]},n)}function Rn(t,e){return[t,Math.log(Math.tan(js/4+e/2))]}function Mn(t){var e,n=an(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=js*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(js/4+e/2)),-t]}function On(t){return t[0]}function An(t){return t[1]}function Nn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&tt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Pn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ln(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(a*(l-u)-h*(r-o))/(h*s-a*c);return[r+d*s,l+d*c]}function Hn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function In(){ri(this),this.edge=this.site=this.circle=null}function Fn(t){var e=cl.pop()||new In;return e.site=t,e}function Wn(t){$n(t),al.remove(t),cl.push(t),ri(t)}function jn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];Wn(t);for(var l=o;l.circle&&bs(n-l.circle.x)<Fs&&bs(i-l.circle.cy)<Fs;)o=l.P,a.unshift(l),Wn(l),l=o;a.unshift(l),$n(l);for(var u=s;u.circle&&bs(n-u.circle.x)<Fs&&bs(i-u.circle.cy)<Fs;)s=u.N,a.push(u),Wn(u),u=s;a.push(u),$n(u);var c,h=a.length;for(c=1;h>c;++c)u=a[c],l=a[c-1],ei(u.edge,l.site,u.site,r);l=a[0],u=a[h-1],u.edge=Jn(l.site,u.site,null,r),qn(l),qn(u)}function Bn(t){for(var e,n,i,r,o=t.x,s=t.y,a=al._;a;)if(i=zn(a,s)-o,i>Fs)a=a.L;else{if(r=o-Vn(a,s),!(r>Fs)){i>-Fs?(e=a.P,n=a):r>-Fs?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=Fn(t);if(al.insert(e,l),e||n){if(e===n)return $n(e),n=Fn(e.site),al.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),qn(e),void qn(n);if(!n)return void(l.edge=Jn(e.site,l.site));$n(e),$n(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,w=g*g+m*m,_={x:(m*y-f*w)/v+c,y:(d*w-g*y)/v+h};ei(n.edge,u,p,_),l.edge=Jn(u,t,null,_),n.edge=Jn(t,p,null,_),qn(e),qn(n)}}function zn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n.x,l=n.y,u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Vn(t,e){var n=t.N;if(n)return zn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Un(t){this.site=t,this.edges=[]}function Yn(t){for(var e,n,i,r,o,s,a,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=sl,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)c=a[s].end(),i=c.x,r=c.y,u=a[++s%l].start(),e=u.x,n=u.y,(bs(i-e)>Fs||bs(r-n)>Fs)&&(a.splice(s,0,new ni(ti(o.site,c,bs(i-h)<Fs&&p-r>Fs?{x:h,y:bs(e-h)<Fs?n:p}:bs(r-p)<Fs&&d-i>Fs?{x:bs(n-p)<Fs?e:d,y:p}:bs(i-d)<Fs&&r-f>Fs?{x:d,y:bs(e-d)<Fs?n:f}:bs(r-f)<Fs&&i-h>Fs?{x:bs(n-f)<Fs?e:h,y:f}:null),o.site,null)),++l)}function Gn(t,e){return e.angle-t.angle}function Xn(){ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function qn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,u=i.y-a,c=o.x-s,h=o.y-a,d=2*(l*h-u*c);if(!(d>=-Ws)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,m=(l*p-c*f)/d,h=m+a,v=hl.pop()||new Xn;v.arc=t,v.site=r,v.x=g+s,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,w=ul._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}ul.insert(y,v),y||(ll=v)}}}}function $n(t){var e=t.circle;e&&(e.P||(ll=e.N),ul.remove(e),hl.push(e),ri(e),t.circle=null)}function Kn(t){for(var e,n=ol,i=Ve(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Zn(e,t)||!i(e)||bs(e.a.x-e.b.x)<Fs&&bs(e.a.y-e.b.y)<Fs)&&(e.a=e.b=null,n.splice(r,1))}function Zn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(s>m||m>=a)return;if(d>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=(d-p)/(g-f),r=v-i*m,-1>i||i>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(g>f){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,i){var r=new Qn(t,e);return ol.push(r),n&&ei(r,t,e,n),i&&ei(r,e,t,i),sl[t.i].edges.push(new ni(r,t,e)),sl[e.i].edges.push(new ni(r,e,t)),r}function ti(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,ol.push(i),i}function ei(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ni(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ii(){this._=null}function ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function oi(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function si(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function li(t,e){var n,i,r,o=t.sort(ui).pop();for(ol=[],sl=new Array(t.length),al=new ii,ul=new ii;;)if(r=ll,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(sl[o.i]=new Un(o),Bn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;jn(r.arc)}e&&(Kn(e),Yn(e));var s={cells:sl,edges:ol};return al=ul=ol=sl=null,s}function ui(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function hi(t){return t.x}function di(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&pi(t,l[0],n,i,s,a),l[1]&&pi(t,l[1],s,i,r,a),l[2]&&pi(t,l[2],n,a,s,o),l[3]&&pi(t,l[3],s,a,r,o)}}function gi(t,e,n,i,r,o,s){var a,l=1/0;return function u(t,c,h,d,f){if(!(c>o||h>s||i>d||r>f)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);i=e-y,r=n-y,o=e+y,s=n+y,a=p}}for(var w=t.nodes,_=.5*(c+d),b=.5*(h+f),C=e>=_,T=n>=b,x=T<<1|C,S=x+4;S>x;++x)if(t=w[3&x])switch(3&x){case 0:u(t,c,h,_,b);break;case 1:u(t,_,h,d,b);break;case 2:u(t,c,b,_,f);break;case 3:u(t,_,b,d,f)}}}(t,i,r,o,s),a}function mi(t,e){t=us.rgb(t),e=us.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+s*t))+bt(Math.round(r+a*t))}}function vi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=_i(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function yi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wi(t,e){var n,i,r,o=fl.lastIndex=pl.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=fl.exec(t))&&(i=pl.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:yi(n,i)})),o=pl.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function _i(t,e){for(var n,i=us.interpolators.length;--i>=0&&!(n=us.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(_i(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function Ci(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ti(t){return function(e){return 1-t(1-e)}}function xi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Si(t){return t*t}function Ei(t){return t*t*t}function Ri(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Mi(t){return function(e){return Math.pow(e,t)}}function ki(t){return 1-Math.cos(t*Vs)}function Oi(t){return Math.pow(2,10*(t-1))}function Ai(t){return 1-Math.sqrt(1-t*t)}function Ni(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Bs*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Bs/e)}}function Pi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Di(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Li(t,e){t=us.hcl(t),e=us.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ht(n+o*t,i+s*t,r+a*t)+""}}function Hi(t,e){t=us.hsl(t),e=us.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ut(n+o*t,i+s*t,r+a*t)+""}}function Ii(t,e){t=us.lab(t),e=us.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return ft(n+o*t,i+s*t,r+a*t)+""}}function Fi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Wi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Bi(e),r=ji(e,n),o=Bi(zi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ys,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ys:0}function ji(t,e){return t[0]*e[0]+t[1]*e[1]}function Bi(t){var e=Math.sqrt(ji(t,t));return e&&(t[0]/=e,t[1]/=e),e}function zi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vi(t){return t.length?t.pop()+",":""}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Yi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Vi(n)+"rotate(",null,")")-2,x:yi(t,e)})):e&&n.push(Vi(n)+"rotate("+e+")")}function Gi(t,e,n,i){t!==e?i.push({i:n.push(Vi(n)+"skewX(",null,")")-2,x:yi(t,e)}):e&&n.push(Vi(n)+"skewX("+e+")")}function Xi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Vi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Vi(n)+"scale("+e+")")}function qi(t,e){var n=[],i=[];return t=us.transform(t),e=us.transform(e),Ui(t.translate,e.translate,n,i),Yi(t.rotate,e.rotate,n,i),Gi(t.skew,e.skew,n,i),Xi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function $i(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ki(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zi(t){for(var e=t.source,n=t.target,i=Ji(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ji(t,e){if(t===e)return t;for(var n=Qi(t),i=Qi(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function tr(t){t.fixed|=2}function er(t){t.fixed&=-7}function nr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ir(t){t.fixed&=-5}function rr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)o=s[l],null!=o&&(rr(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function or(t,e){return us.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=hr,t}function sr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function lr(t){return t.children}function ur(t){return t.value}function cr(t,e){return e.value-t.value}function hr(t){return us.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function dr(t){return t.x}function fr(t){return t.y}function pr(t,e,n){t.y0=e,t.y=n}function gr(t){return us.range(t.length)}function mr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function vr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function yr(t){return t.reduce(wr,0)}function wr(t,e){return t+e[1]}function _r(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Cr(t){return[us.min(t),us.max(t)]}function Tr(t,e){return t.value-e.value}function xr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Sr(t,e){t._pack_next=e,e._pack_prev=t}function Er(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Rr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,i,r,o,s,a,l,u,c=1/0,h=-(1/0),d=1/0,f=-(1/0);if(n.forEach(Mr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(o=n[2],Ar(i,r,o),e(o),xr(i,o),i._pack_prev=o,xr(o,r),r=i._pack_next,s=3;u>s;s++){Ar(i,r,o=n[s]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(Er(a,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!Er(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?Sr(i,r=a):Sr(i=l,r),s--):(xr(i,o),r=o,e(o))}var v=(c+h)/2,y=(d+f)/2,w=0;for(s=0;u>s;s++)o=n[s],o.x-=v,o.y-=y,w=Math.max(w,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=w,n.forEach(kr)}}function Mr(t){t._pack_next=t._pack_prev=t}function kr(t){delete t._pack_next,delete t._pack_prev}function Or(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)Or(r[o],e,n,i)}function Ar(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o;s*=s,i*=i;var l=.5+(i-s)/(2*a),u=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function Nr(t,e){return t.parent==e.parent?1:2}function Pr(t){var e=t.children;return e.length?e[0]:t.t}function Dr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Lr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Hr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ir(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+us.max(t,function(t){return t.y})}function Wr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function jr(t){var e=t.children;return e&&e.length?jr(e[0]):t}function Br(t){var e,n=t.children;return n&&(e=n.length)?Br(n[e-1]):t}function zr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Vr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Ur(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Yr(t){return t.rangeExtent?t.rangeExtent():Ur(t.range())}function Gr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Xr(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function qr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Sl}function $r(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=us.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function Kr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?$r:Gr,l=i?Ki:$i;return s=r(t,e,l,n),a=r(e,t,l,_i),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Fi)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return to(t,e)},o.tickFormat=function(e,n){return eo(t,e,n)},o.nice=function(e){return Qr(t,e),r()},o.copy=function(){return Kr(t,e,n,i)},r()}function Zr(t,e){return us.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qr(t,e){return Xr(t,qr(Jr(t,e)[2])),Xr(t,qr(Jr(t,e)[2])),t}function Jr(t,e){null==e&&(e=10);var n=Ur(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function to(t,e){return us.range.apply(us,Jr(t,e))}function eo(t,e,n){var i=Jr(t,e);if(n){var r=fa.exec(n);if(r.shift(),"s"===r[8]){var o=us.formatPrefix(Math.max(bs(i[0]),bs(i[1])));return r[7]||(r[7]="."+no(o.scale(i[2]))),r[8]="f",n=us.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+io(r[8],i)),n=r.join("")}else n=",."+no(i[2])+"f";return us.format(n)}function no(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function io(t,e){var n=no(e[2]);return t in El?Math.abs(n-no(Math.max(bs(e[0]),bs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ro(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),s):e},s.nice=function(){var e=Xr(i.map(r),n?Math:Ml);return t.domain(e),i=e.map(o),s},s.ticks=function(){var t=Ur(i),s=[],a=t[0],l=t[1],u=Math.floor(r(a)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;h>d;d++)s.push(o(u)*d);s.push(o(u))}else for(s.push(o(u));u++<c;)for(var d=h-1;d>0;d--)s.push(o(u)*d);for(u=0;s[u]<a;u++);for(c=s.length;s[c-1]>l;c--);s=s.slice(u,c)}return s},s.tickFormat=function(t,n){if(!arguments.length)return Rl;arguments.length<2?n=Rl:"function"!=typeof n&&(n=us.format(n));var i=Math.max(1,e*t/s.ticks().length);return function(t){var s=t/o(Math.round(r(t)));return e-.5>s*e&&(s*=e),i>=s?n(t):""}},s.copy=function(){return ro(t.copy(),e,n,i)},Zr(s,t)}function oo(t,e,n){function i(e){return t(r(e))}var r=so(e),o=so(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return to(n,t)},i.tickFormat=function(t,e){return eo(n,t,e)},i.nice=function(t){return i.domain(Qr(n,t))},i.exponent=function(s){return arguments.length?(r=so(e=s),o=so(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return oo(t.copy(),e,n)},Zr(i,t)}function so(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ao(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return us.range(t.length).map(function(t){return e+n*t})}var r,o,s;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new c;for(var o,s=-1,a=i.length;++s<a;)r.has(o=i[s])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+a);return o=i(l+c*a/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+a)|0;return o=i(l+Math.round(c*a/2+(u-l-(t.length-1+a)*c)/2),c),s=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=(h-c)/(t.length-a+2*l);return o=i(c+d*l,d),u&&o.reverse(),s=d*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=Math.floor((h-c)/(t.length-a+2*l));return o=i(c+Math.round((h-c-(t.length-a)*d)/2),d),u&&o.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ur(e.a[0])},n.copy=function(){return ao(t,e)},n.domain(t)}function lo(t,e){function n(){var n=0,i=e.length;for(a=[];++n<i;)a[n-1]=us.quantile(t,n/i);return s}function s(t){return isNaN(t=+t)?void 0:e[us.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.map(r).filter(o).sort(i),n()):t},s.range=function(t){return arguments.length?(e=t,n()):e},s.quantiles=function(){return a},s.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},s.copy=function(){return lo(t,e)},n()}function uo(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return uo(t,e,n)},r()}function co(t,e){function n(n){return n>=n?e[us.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return co(t,e)},n}function ho(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return to(t,e)},e.tickFormat=function(e,n){return eo(t,e,n)},e.copy=function(){return ho(t)},e}function fo(){return 0}function po(t){return t.innerRadius}function go(t){return t.outerRadius}function mo(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function wo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function _o(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,u=-a*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,g=(h+f)/2,m=d-c,v=f-h,y=m*m+v*v,w=n-i,_=c*f-d*h,b=(0>v?-1:1)*Math.sqrt(Math.max(0,w*w*y-_*_)),C=(_*v-m*b)/y,T=(-_*m-v*b)/y,x=(_*v+m*b)/y,S=(-_*m+v*b)/y,E=C-p,R=T-g,M=x-p,k=S-g;return E*E+R*R>M*M+k*k&&(C=x,T=S),[[C-l,T-u],[C*n/w,T*n/w]]}function bo(t){function e(e){function s(){u.push("M",o(t(c),a))}for(var l,u=[],c=[],h=-1,d=e.length,f=Rt(n),p=Rt(i);++h<d;)r.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(s(),c=[]);return c.length&&s(),u.length?u.join(""):null}var n=On,i=An,r=Oe,o=Co,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Dl.get(t)||Co).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function Co(t){return t.length>1?t.join("L"):t+"Z"}function To(t){return t.join("L")+"Z"}function xo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Eo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Ro(t,e){return t.length<4?Co(t):t[1]+Oo(t.slice(1,-1),Ao(t,e))}function Mo(t,e){return t.length<3?To(t):t[0]+Oo((t.push(t[0]),t),Ao([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?Co(t):t[0]+Oo(t,Ao(t,e))}function Oo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Co(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return i}function Ao(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function No(t){if(t.length<3)return Co(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",Ho(Il,s),",",Ho(Il,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Io(l,s,a);return t.pop(),l.push("L",i),l.join("")}function Po(t){if(t.length<4)return Co(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(Ho(Il,o)+","+Ho(Il,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Io(n,o,s);return n.join("")}function Do(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[Ho(Il,s),",",Ho(Il,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Io(e,s,a);return e.join("")}function Lo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return No(t)}function Ho(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Io(t,e,n){t.push("C",Ho(Ll,e),",",Ho(Ll,n),",",Ho(Hl,e),",",Ho(Hl,n),",",Ho(Il,e),",",Ho(Il,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Wo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=Fo(r,o);++e<n;)i[e]=(s+(s=Fo(r=o,o=t[e+1])))/2;return i[e]=s,i}function jo(t){for(var e,n,i,r,o=[],s=Wo(t),a=-1,l=t.length-1;++a<l;)e=Fo(t[a],t[a+1]),bs(e)<Fs?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function Bo(t){return t.length<3?Co(t):t[0]+Oo(t,jo(t))}function zo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Vs,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Vo(t){function e(e){function l(){g.push("M",a(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,w=e.length,_=Rt(n),b=Rt(r),C=n===i?function(){return f}:Rt(i),T=r===o?function(){return p}:Rt(o);++y<w;)s.call(this,d=e[y],y)?(m.push([f=+_.call(this,d,y),p=+b.call(this,d,y)]),v.push([+C.call(this,d,y),+T.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=On,i=On,r=0,o=An,s=Oe,a=Co,l=a.key,u=a,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Dl.get(t)||Co).key,u=a.reverse||a,c=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Uo(t){return t.radius}function Yo(t){return[t.x,t.y]}function Go(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Vs;return[n*Math.cos(i),n*Math.sin(i)]}}function Xo(){return 64}function qo(){return"circle"}function $o(t){var e=Math.sqrt(t/js);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ko(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Zo(t,e,n){return Es(t,Ul),t.namespace=e,t.id=n,t}function Qo(t,e,n,i){var r=t.id,o=t.namespace;return U(t,"function"==typeof n?function(t,s,a){t[o][r].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Jo(t){return null==t&&(t=""),function(){this.textContent=t}}function ts(t){return null==t?"__transition__":"__transition_"+t+"__"}function es(t,e,n,i,r){function o(t){var e=g.delay;return u.t=e+l,t>=e?s(t-e):void(u.c=s)}function s(n){var r=p.active,o=p[r];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var s in p)if(i>+s){var c=p[s];c.timer.c=null,c.timer.t=NaN,--p.count,delete p[s]}u.c=a,Nt(function(){return u.c&&a(n||1)&&(u.c=null,u.t=NaN),1},0,l),p.active=i,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&f.push(i)}),d=g.ease,h=g.duration}function a(r){for(var o=r/h,s=d(o),a=f.length;a>0;)f[--a].call(t,s);return o>=1?(g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var l,u,h,d,f,p=t[n]||(t[n]={active:0,count:0}),g=p[i];g||(l=r.time,u=Nt(o,0,l),g=p[i]={tween:new c,time:l,timer:u,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function ns(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function is(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function rs(t){return t.toISOString()}function os(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=us.bisect(Jl,r);return o==Jl.length?[e.year,Jr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Jl[o-1]<Jl[o]/r?o-1:o]:[nu,Jr(t,n)[2]]}return i.invert=function(e){return ss(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(ss)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ss(+n+1),e).length}var o=i.domain(),s=Ur(o),a=null==t?r(s,10):"number"==typeof t&&r(s,t);return a&&(t=a[0],e=a[1]),i.domain(Xr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ss(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ss(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Ur(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ss(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return os(t.copy(),e,n)},Zr(i,t)}function ss(t){return new Date(t)}function as(t){return JSON.parse(t.responseText)}function ls(t){var e=ds.createRange();return e.selectNode(ds.body),e.createContextualFragment(t.responseText)}var us={version:"3.5.17"},cs=[].slice,hs=function(t){return cs.call(t)},ds=this.document;if(ds)try{hs(ds.documentElement.childNodes)[0].nodeType}catch(fs){hs=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ds)try{ds.createElement("DIV").style.setProperty("opacity",0,"")}catch(ps){var gs=this.Element.prototype,ms=gs.setAttribute,vs=gs.setAttributeNS,ys=this.CSSStyleDeclaration.prototype,ws=ys.setProperty;gs.setAttribute=function(t,e){ms.call(this,t,e+"");
},gs.setAttributeNS=function(t,e,n){vs.call(this,t,e,n+"")},ys.setProperty=function(t,e,n){ws.call(this,t,e+"",n)}}us.ascending=i,us.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},us.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},us.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},us.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},us.sum=function(t,e){var n,i=0,r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)o(n=+t[s])&&(i+=n);else for(;++s<r;)o(n=+e.call(t,t[s],s))&&(i+=n);return i},us.mean=function(t,e){var n,i=0,s=t.length,a=-1,l=s;if(1===arguments.length)for(;++a<s;)o(n=r(t[a]))?i+=n:--l;else for(;++a<s;)o(n=r(e.call(t,t[a],a)))?i+=n:--l;return l?i/l:void 0},us.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},us.median=function(t,e){var n,s=[],a=t.length,l=-1;if(1===arguments.length)for(;++l<a;)o(n=r(t[l]))&&s.push(n);else for(;++l<a;)o(n=r(e.call(t,t[l],l)))&&s.push(n);return s.length?us.quantile(s.sort(i),.5):void 0},us.variance=function(t,e){var n,i,s=t.length,a=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<s;)o(n=r(t[u]))&&(i=n-a,a+=i/++c,l+=i*(n-a));else for(;++u<s;)o(n=r(e.call(t,t[u],u)))&&(i=n-a,a+=i/++c,l+=i*(n-a));return c>1?l/(c-1):void 0},us.deviation=function(){var t=us.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _s=s(i);us.bisectLeft=_s.left,us.bisect=us.bisectRight=_s.right,us.bisector=function(t){return s(1===t.length?function(e,n){return i(t(e),n)}:t)},us.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},us.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},us.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},us.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=us.min(t,a),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i},us.zip=function(){return us.transpose(arguments)},us.keys=function(t){var e=[];for(var n in t)e.push(n);return e},us.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},us.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},us.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n};var bs=Math.abs;us.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=l(bs(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},us.map=function(t,e){var n=new c;if(t instanceof c)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var Cs="__proto__",Ts="\x00";u(c,{has:f,get:function(t){return this._[h(t)]},set:function(t,e){return this._[h(t)]=e},remove:p,keys:g,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:m,empty:v,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),us.nest=function(){function t(e,s,a){if(a>=o.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,u,h,d,f=-1,p=s.length,g=o[a++],m=new c;++f<p;)(d=m.get(l=g(u=s[f])))?d.push(u):m.set(l,[u]);return e?(u=e(),h=function(n,i){u.set(n,t(e,i,a))}):(u={},h=function(n,i){u[n]=t(e,i,a)}),m.forEach(h),u}function e(t,n){if(n>=o.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],s=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(us.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return s[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},us.set=function(t){var e=new y;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},u(y,{has:f,add:function(t){return this._[h(t+="")]=!0,t},remove:p,values:g,size:m,empty:v,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),us.behavior={},us.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=_(t,e,e[n]);return t};var xs=["webkit","ms","moz","Moz","o","O"];us.dispatch=function(){for(var t=new T,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},T.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},us.event=null,us.requote=function(t){return t.replace(Ss,"\\$&")};var Ss=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Es={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Rs=function(t,e){return e.querySelector(t)},Ms=function(t,e){return e.querySelectorAll(t)},ks=function(t,e){var n=t.matches||t[b(t,"matchesSelector")];return(ks=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Rs=function(t,e){return Sizzle(t,e)[0]||null},Ms=Sizzle,ks=Sizzle.matchesSelector),us.selection=function(){return us.select(ds.documentElement)};var Os=us.selection.prototype=[];Os.select=function(t){var e,n,i,r,o=[];t=k(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return M(o)},Os.selectAll=function(t){var e,n,i=[];t=O(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=hs(t.call(n,n.__data__,a,r))),e.parentNode=n);return M(i)};var As="http://www.w3.org/1999/xhtml",Ns={svg:"http://www.w3.org/2000/svg",xhtml:As,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};us.ns={prefix:Ns,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ns.hasOwnProperty(n)?{space:Ns[n],local:t}:t}},Os.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=us.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},Os.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=D(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!P(t[r]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Os.style=function(t,e,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(i in t)this.each(I(i,t[i],e));return this}if(2>r){var o=this.node();return n(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(I(t,e,i))},Os.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Os.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Os.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Os.append=function(t){return t=W(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Os.insert=function(t,e){return t=W(t),e=k(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Os.remove=function(){return this.each(j)},Os.data=function(t,e){function n(t,n){var i,r,o,s=t.length,h=n.length,d=Math.min(s,h),f=new Array(h),p=new Array(h),g=new Array(s);if(e){var m,v=new c,y=new Array(s);for(i=-1;++i<s;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m);for(i=-1;++i<h;)(r=v.get(m=e.call(n,o=n[i],i)))?r!==!0&&(f[i]=r,r.__data__=o):p[i]=B(o),v.set(m,!0);for(i=-1;++i<s;)i in y&&v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<d;)r=t[i],o=n[i],r?(r.__data__=o,f[i]=r):p[i]=B(o);for(;h>i;++i)p[i]=B(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,a.push(p),l.push(f),u.push(g)}var i,r,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++o<s;)(r=i[o])&&(t[o]=r.__data__);return t}var a=Y([]),l=M([]),u=M([]);if("function"==typeof t)for(;++o<s;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<s;)n(i=this[o],t);return l.enter=function(){return a},l.exit=function(){return u},l},Os.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Os.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return M(r)},Os.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Os.sort=function(t){t=V.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Os.each=function(t){return U(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Os.call=function(t){var e=hs(arguments);return t.apply(e[0]=this,e),this},Os.empty=function(){return!this.node()},Os.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},Os.size=function(){var t=0;return U(this,function(){++t}),t};var Ps=[];us.selection.enter=Y,us.selection.enter.prototype=Ps,Ps.append=Os.append,Ps.empty=Os.empty,Ps.node=Os.node,Ps.call=Os.call,Ps.size=Os.size,Ps.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return M(s)},Ps.insert=function(t,e){return arguments.length<2&&(e=G(this)),Os.insert.call(this,t,e)},us.select=function(e){var n;return"string"==typeof e?(n=[Rs(e,ds)],n.parentNode=ds.documentElement):(n=[e],n.parentNode=t(e)),M([n])},us.selectAll=function(t){var e;return"string"==typeof t?(e=hs(Ms(t,ds)),e.parentNode=ds.documentElement):(e=hs(t),e.parentNode=null),M([e])},Os.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(X(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(X(t,e,n))};var Ds=us.map({mouseenter:"mouseover",mouseleave:"mouseout"});ds&&Ds.forEach(function(t){"on"+t in ds&&Ds.remove(t)});var Ls,Hs=0;us.mouse=function(t){return Z(t,E())};var Is=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;us.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=E().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return Z(t,i)},us.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",s)}function e(t,e,n,o,s){return function(){function a(){var t,n,i=e(d,g);i&&(t=i[0]-w[0],n=i[1]-w[1],p|=t|n,w=i,f({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(o+m,null).on(s+m,null),y(p),f({type:"dragend"}))}var u,c=this,h=us.event.target.correspondingElement||us.event.target,d=c.parentNode,f=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=us.select(n(h)).on(o+m,a).on(s+m,l),y=K(h),w=e(d,g);r?(u=r.apply(c,arguments),u=[u.x-w[0],u.y-w[1]]):u=[0,0],f({type:"dragstart"})}}var i=R(t,"drag","dragstart","dragend"),r=null,o=e(C,us.mouse,n,"mousemove","mouseup"),s=e(Q,us.touch,w,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},us.rebind(t,i,"on")},us.touches=function(t,e){return arguments.length<2&&(e=E().touches),e?hs(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Fs=1e-6,Ws=Fs*Fs,js=Math.PI,Bs=2*js,zs=Bs-Fs,Vs=js/2,Us=js/180,Ys=180/js,Gs=Math.SQRT2,Xs=2,qs=4;us.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,d=c*c+h*h;if(Ws>d)i=Math.log(u/s)/Gs,n=function(t){return[r+t*c,o+t*h,s*Math.exp(Gs*t*i)]};else{var f=Math.sqrt(d),p=(u*u-s*s+qs*d)/(2*s*Xs*f),g=(u*u-s*s-qs*d)/(2*u*Xs*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Gs,n=function(t){var e=t*i,n=rt(m),a=s/(Xs*f)*(n*ot(Gs*e+m)-it(m));return[r+a*c,o+a*h,s*n/rt(Gs*e+m)]}}return n.duration=1e3*i,n},us.behavior.zoom=function(){function t(t){t.on(A,h).on(Ks+".zoom",f).on("dblclick.zoom",p).on(D,d)}function e(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function i(t){return[t[0]*x.k+x.x,t[1]*x.k+x.y]}function r(t){x.k=Math.max(M[0],Math.min(M[1],t))}function o(t,e){e=i(e),x.x+=t[0]-e[0],x.y+=t[1]-e[1]}function s(e,n,i,s){e.__chart__={x:x.x,y:x.y,k:x.k},r(Math.pow(2,s)),o(m=n,i),e=us.select(e),k>0&&(e=e.transition().duration(k)),e.call(t.event)}function a(){b&&b.domain(_.range().map(function(t){return(t-x.x)/x.k}).map(_.invert)),T&&T.domain(C.range().map(function(t){return(t-x.y)/x.k}).map(C.invert))}function l(t){O++||t({type:"zoomstart"})}function u(t){a(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function c(t){--O||(t({type:"zoomend"}),m=null)}function h(){function t(){a=1,o(us.mouse(r),d),u(s)}function i(){h.on(N,null).on(P,null),f(a),c(s)}var r=this,s=L.of(r,arguments),a=0,h=us.select(n(r)).on(N,t).on(P,i),d=e(us.mouse(r)),f=K(r);Vl.call(r),l(s)}function d(){function t(){var t=us.touches(p);return f=x.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){var e=us.event.target;us.select(e).on(_,i).on(b,a),C.push(e);for(var n=us.event.changedTouches,r=0,o=n.length;o>r;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-w){var c=l[0];s(p,c,m[c.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),S()}w=u}else if(l.length>1){var c=l[0],h=l[1],d=c[0]-h[0],f=c[1]-h[1];v=d*d+f*f}}function i(){var t,e,n,i,s=us.touches(p);Vl.call(p);for(var a=0,l=s.length;l>a;++a,i=null)if(n=s[a],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*f)}w=null,o(t,e),u(g)}function a(){if(us.event.touches.length){for(var e=us.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}us.selectAll(C).on(y,null),T.on(A,h).on(D,d),E(),c(g)}var f,p=this,g=L.of(p,arguments),m={},v=0,y=".zoom-"+us.event.changedTouches[0].identifier,_="touchmove"+y,b="touchend"+y,C=[],T=us.select(p),E=K(p);n(),l(g),T.on(A,null).on(D,n)}function f(){var t=L.of(this,arguments);y?clearTimeout(y):(Vl.call(this),g=e(m=v||us.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),S(),r(Math.pow(2,.002*$s())*x.k),o(m,g),u(t)}function p(){var t=us.mouse(this),n=Math.log(x.k)/Math.LN2;s(this,t,e(t),us.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,m,v,y,w,_,b,C,T,x={x:0,y:0,k:1},E=[960,500],M=Zs,k=250,O=0,A="mousedown.zoom",N="mousemove.zoom",P="mouseup.zoom",D="touchstart.zoom",L=R(t,"zoomstart","zoom","zoomend");return Ks||(Ks="onwheel"in ds?($s=function(){return-us.event.deltaY*(us.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ds?($s=function(){return us.event.wheelDelta},"mousewheel"):($s=function(){return-us.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=x;Bl?us.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=E[0],i=E[1],r=m?m[0]:n/2,o=m?m[1]:i/2,s=us.interpolateZoom([(r-x.x)/x.k,(o-x.y)/x.k,n/x.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=s(e),a=n/i[2];this.__chart__=x={x:r-i[0]*a,y:o-i[1]*a,k:a},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=x,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(x={x:+e[0],y:+e[1],k:x.k},a(),t):[x.x,x.y]},t.scale=function(e){return arguments.length?(x={x:x.x,y:x.y,k:null},r(+e),a(),t):x.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Zs:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(E=e&&[+e[0],+e[1]],t):E},t.duration=function(e){return arguments.length?(k=+e,t):k},t.x=function(e){return arguments.length?(b=e,_=e.copy(),x={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(T=e,C=e.copy(),x={x:0,y:0,k:1},t):T},us.rebind(t,L,"on")};var $s,Ks,Zs=[0,1/0];us.color=at,at.prototype.toString=function(){return this.rgb()+""},us.hsl=lt;var Qs=lt.prototype=new at;Qs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new lt(this.h,this.s,this.l/t)},Qs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new lt(this.h,this.s,t*this.l)},Qs.rgb=function(){return ut(this.h,this.s,this.l)},us.hcl=ct;var Js=ct.prototype=new at;Js.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+ta*(arguments.length?t:1)))},Js.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-ta*(arguments.length?t:1)))},Js.rgb=function(){return ht(this.h,this.c,this.l).rgb()},us.lab=dt;var ta=18,ea=.95047,na=1,ia=1.08883,ra=dt.prototype=new at;ra.brighter=function(t){return new dt(Math.min(100,this.l+ta*(arguments.length?t:1)),this.a,this.b)},ra.darker=function(t){return new dt(Math.max(0,this.l-ta*(arguments.length?t:1)),this.a,this.b)},ra.rgb=function(){return ft(this.l,this.a,this.b)},us.rgb=yt;var oa=yt.prototype=new at;oa.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},oa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},oa.hsl=function(){return Tt(this.r,this.g,this.b)},oa.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var sa=us.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});sa.forEach(function(t,e){sa.set(t,wt(e))}),us.functor=Rt,us.xhr=Mt(w),us.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=kt(t,e,null==n?i:r(n),o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return s;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i=t.charCodeAt(c++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++a);else if(i!==l)continue;return t.slice(e,c-a)}return t.slice(e)}for(var i,r,o={},s={},a=[],u=t.length,c=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new y,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},us.csv=us.dsv(",","text/csv"),us.tsv=us.dsv("	","text/tab-separated-values");var aa,la,ua,ca,ha=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};us.timer=function(){Nt.apply(this,arguments)},us.timer.flush=function(){Dt(),Lt()},us.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var da=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(It);us.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=us.round(t,Ht(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),da[8+n/3]};var fa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pa=us.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=us.round(t,Ht(t,e))).toFixed(Math.max(0,Math.min(20,Ht(t*(1+1e-15),e))))}}),ga=us.time={},ma=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){va.setUTCDate.apply(this._,arguments)},setDay:function(){va.setUTCDay.apply(this._,arguments)},setFullYear:function(){va.setUTCFullYear.apply(this._,arguments)},setHours:function(){va.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){va.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){va.setUTCMinutes.apply(this._,arguments)},setMonth:function(){va.setUTCMonth.apply(this._,arguments)},setSeconds:function(){va.setUTCSeconds.apply(this._,arguments)},setTime:function(){va.setTime.apply(this._,arguments)}};var va=Date.prototype;ga.year=Bt(function(t){return t=ga.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ga.years=ga.year.range,ga.years.utc=ga.year.utc.range,ga.day=Bt(function(t){var e=new ma(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ga.days=ga.day.range,ga.days.utc=ga.day.utc.range,ga.dayOfYear=function(t){var e=ga.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ga[t]=Bt(function(t){return(t=ga.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ga.year(t).getDay();return Math.floor((ga.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ga[t+"s"]=n.range,ga[t+"s"].utc=n.utc.range,ga[t+"OfYear"]=function(t){var n=ga.year(t).getDay();return Math.floor((ga.dayOfYear(t)+(n+e)%7)/7)}}),ga.week=ga.sunday,ga.weeks=ga.sunday.range,ga.weeks.utc=ga.sunday.utc.range,ga.weekOfYear=ga.sundayOfYear;var ya={"-":"",_:" ",0:"0"},wa=/^\s*\d+/,_a=/^%/;us.locale=function(t){return{numberFormat:Ft(t),timeFormat:Vt(t)}};var ba=us.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});us.format=ba.numberFormat,us.geo={},ce.prototype={s:0,t:0,add:function(t){he(t,this.t,Ca),he(Ca.s,this.s,this),this.s?this.t+=Ca.t:this.s=Ca.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ca=new ce;us.geo.stream=function(t,e){t&&Ta.hasOwnProperty(t.type)?Ta[t.type](t,e):de(t,e)};var Ta={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)de(n[i].geometry,e)}},xa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){pe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)pe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)de(n[i],e)}};us.geo.area=function(t){return Sa=0,us.geo.stream(t,Ra),Sa};var Sa,Ea=new ce,Ra={sphere:function(){Sa+=4*js},point:C,lineStart:C,lineEnd:C,polygonStart:function(){Ea.reset(),Ra.lineStart=ge},polygonEnd:function(){var t=2*Ea;Sa+=0>t?4*js+t:t,Ra.lineStart=Ra.lineEnd=Ra.point=C}};us.geo.bounds=function(){function t(t,e){w.push(_=[c=t,d=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var i=me([e*Us,n*Us]);if(v){var r=ye(v,i),o=[r[1],-r[0],0],s=ye(o,r);be(s),s=Ce(s);var l=e-p,u=l>0?1:-1,g=s[0]*Ys*u,m=bs(l)>180;if(m^(g>u*p&&u*e>g)){var y=s[1]*Ys;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-s[1]*Ys;h>y&&(h=y)}else h>n&&(h=n),n>f&&(f=n);m?p>e?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e)}else t(e,n);v=i,p=e}function n(){b.point=e}function i(){_[0]=c,_[1]=d,b.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=bs(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Ra.point(t,n),e(t,n)}function o(){Ra.lineStart()}function s(){r(g,m),Ra.lineEnd(),bs(y)>Fs&&(c=-(d=180)),_[0]=c,_[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,m,v,y,w,_,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=o,b.lineEnd=s,y=0,Ra.polygonStart()},polygonEnd:function(){Ra.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>Ea?(c=-(d=180),h=-(f=90)):y>Fs?f=90:-Fs>y&&(h=-90),_[0]=c,_[1]=d}};return function(t){f=d=-(c=h=1/0),w=[],us.geo.stream(t,b);var e=w.length;if(e){w.sort(l);for(var n,i=1,r=w[0],o=[r];e>i;++i)n=w[i],u(n[0],r)||u(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var s,n,p=-(1/0),e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(s=a(r[1],n[0]))>p&&(p=s,c=n[0],d=r[1])}return w=_=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),us.geo.centroid=function(t){Ma=ka=Oa=Aa=Na=Pa=Da=La=Ha=Ia=Fa=0,us.geo.stream(t,Wa);var e=Ha,n=Ia,i=Fa,r=e*e+n*n+i*i;return Ws>r&&(e=Pa,n=Da,i=La,Fs>ka&&(e=Oa,n=Aa,i=Na),r=e*e+n*n+i*i,Ws>r)?[NaN,NaN]:[Math.atan2(n,e)*Ys,nt(i/Math.sqrt(r))*Ys]};var Ma,ka,Oa,Aa,Na,Pa,Da,La,Ha,Ia,Fa,Wa={sphere:C,point:xe,lineStart:Ee,lineEnd:Re,polygonStart:function(){Wa.lineStart=Me},polygonEnd:function(){Wa.lineStart=Ee}},ja=De(Oe,Fe,je,[-js,-js/2]),Ba=1e9;us.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(a){return arguments.length?(o=Ue(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(us.geo.conicEqualArea=function(){return Ye(Ge)}).raw=Ge,us.geo.albers=function(){return us.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},us.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,n(o,s),e||(i(o,s),e)||r(o,s),e}var e,n,i,r,o=us.geo.albers(),s=us.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=us.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:o).invert(t);
},t.stream=function(t){var e=o.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=s.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Fs,h+.12*u+Fs],[c-.214*u-Fs,h+.234*u-Fs]]).stream(l).point,r=a.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Fs,h+.166*u+Fs],[c-.115*u-Fs,h+.234*u-Fs]]).stream(l).point,t},t.scale(1070)};var za,Va,Ua,Ya,Ga,Xa,qa={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Va=0,qa.lineStart=Xe},polygonEnd:function(){qa.lineStart=qa.lineEnd=qa.point=C,za+=bs(Va/2)}},$a={point:qe,lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},Ka={point:Ze,lineStart:Qe,lineEnd:Je,polygonStart:function(){Ka.lineStart=tn},polygonEnd:function(){Ka.point=Ze,Ka.lineStart=Qe,Ka.lineEnd=Je}};us.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),us.geo.stream(t,s)),o.result()}function e(){return s=null,t}var n,i,r,o,s,a=4.5;return t.area=function(t){return za=0,us.geo.stream(t,r(qa)),za},t.centroid=function(t){return Oa=Aa=Na=Pa=Da=La=Ha=Ia=Fa=0,us.geo.stream(t,r(Ka)),Fa?[Ha/Fa,Ia/Fa]:La?[Pa/La,Da/La]:Na?[Oa/Na,Aa/Na]:[NaN,NaN]},t.bounds=function(t){return Ga=Xa=-(Ua=Ya=1/0),us.geo.stream(t,r($a)),[[Ua,Ya],[Ga,Xa]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||rn(t):w,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new $e:new en(t),"function"!=typeof a&&o.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection(us.geo.albersUsa()).context(null)},us.geo.transform=function(t){return{stream:function(e){var n=new on(e);for(var i in t)n[i]=t[i];return n}}},on.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},us.geo.projection=an,us.geo.projectionMutator=ln,(us.geo.equirectangular=function(){return an(cn)}).raw=cn.invert=cn,us.geo.rotation=function(t){function e(e){return e=t(e[0]*Us,e[1]*Us),e[0]*=Ys,e[1]*=Ys,e}return t=dn(t[0]%360*Us,t[1]*Us,t.length>2?t[2]*Us:0),e.invert=function(e){return e=t.invert(e[0]*Us,e[1]*Us),e[0]*=Ys,e[1]*=Ys,e},e},hn.invert=cn,us.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=dn(-t[0]*Us,-t[1]*Us,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ys,t[1]*=Ys}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=mn((e=+i)*Us,r*Us),t):e},t.precision=function(i){return arguments.length?(n=mn(e*Us,(r=+i)*Us),t):r},t.angle(90)},us.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Us,r=t[1]*Us,o=e[1]*Us,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=u*c-l*h*a)*n),l*c+u*h*a)},us.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return us.range(Math.ceil(o/m)*m,r,m).map(d).concat(us.range(Math.ceil(u/v)*v,l,v).map(f)).concat(us.range(Math.ceil(i/p)*p,n,p).filter(function(t){return bs(t%m)>Fs}).map(c)).concat(us.range(Math.ceil(a/g)*g,s,g).filter(function(t){return bs(t%v)>Fs}).map(h))}var n,i,r,o,s,a,l,u,c,h,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(r).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=yn(a,s,90),h=wn(i,n,y),d=yn(u,l,90),f=wn(o,r,y),t):y},t.majorExtent([[-180,-90+Fs],[180,90-Fs]]).minorExtent([[-180,-80-Fs],[180,80+Fs]])},us.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=_n,r=bn;return t.distance=function(){return us.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},us.geo.interpolate=function(t,e){return Cn(t[0]*Us,t[1]*Us,e[0]*Us,e[1]*Us)},us.geo.length=function(t){return Za=0,us.geo.stream(t,Qa),Za};var Za,Qa={sphere:C,point:C,lineStart:Tn,lineEnd:C,polygonStart:C,polygonEnd:C},Ja=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(us.geo.azimuthalEqualArea=function(){return an(Ja)}).raw=Ja;var tl=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},w);(us.geo.azimuthalEquidistant=function(){return an(tl)}).raw=tl,(us.geo.conicConformal=function(){return Ye(Sn)}).raw=Sn,(us.geo.conicEquidistant=function(){return Ye(En)}).raw=En;var el=xn(function(t){return 1/t},Math.atan);(us.geo.gnomonic=function(){return an(el)}).raw=el,Rn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Vs]},(us.geo.mercator=function(){return Mn(Rn)}).raw=Rn;var nl=xn(function(){return 1},Math.asin);(us.geo.orthographic=function(){return an(nl)}).raw=nl;var il=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(us.geo.stereographic=function(){return an(il)}).raw=il,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Vs]},(us.geo.transverseMercator=function(){var t=Mn(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=kn,us.geom={},us.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Rt(n),o=Rt(i),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort(Pn),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var u=Nn(a),c=Nn(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[a[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[a[c[e]][2]]);return f}var n=On,i=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},us.geom.polygon=function(t){return Es(t,rl),t};var rl=us.geom.polygon.prototype=[];rl.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},rl.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},rl.clip=function(t){for(var e,n,i,r,o,s,a=Hn(t),l=-1,u=this.length-Hn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)s=e[n],Dn(s,c,r)?(Dn(o,c,r)||t.push(Ln(o,s,c,r)),t.push(s)):Dn(o,c,r)&&t.push(Ln(o,s,c,r)),o=s;a&&t.push(t[0]),c=r}return t};var ol,sl,al,ll,ul,cl=[],hl=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Gn),e.length},ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ii.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,si(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(si(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?ai(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,oi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,si(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,oi(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,si(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,oi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,si(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},us.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return li(n(t),a).cells.forEach(function(n,a){var l=n.edges,u=n.site,c=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=s?[[i,s],[o,s],[o,r],[i,r]]:[];c.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Fs)*Fs,y:Math.round(s(t,e)/Fs)*Fs,i:e}})}var i=On,r=An,o=i,s=r,a=dl;return t?e(t):(e.links=function(t){return li(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return li(n(t)).cells.forEach(function(n,i){for(var r,o,s=n.site,a=n.edges.sort(Gn),l=-1,u=a.length,c=a[u-1].edge,h=c.l===s?c.r:c.l;++l<u;)r=c,o=h,c=a[l].edge,h=c.l===s?c.r:c.l,i<o.i&&i<h.i&&ci(s,o,h)<0&&e.push([t[i],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Rt(i=t),e):i},e.y=function(t){return arguments.length?(s=Rt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?dl:t,e):a===dl?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===dl?null:a&&a[1]},e)};var dl=[[-1e6,-1e6],[1e6,1e6]];us.geom.delaunay=function(t){return us.geom.voronoi().triangles(t)},us.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(bs(l-n)+bs(c-i)<.01)u(t,e,n,i,r,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,o,s,a),u(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,s,a)}function u(t,e,n,i,r,s,a,l){var u=.5*(r+a),c=.5*(s+l),h=n>=u,d=i>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=fi()),h?r=u:a=u,d?s=c:l=c,o(t,e,n,i,r,s,a,l)}var c,h,d,f,p,g,m,v,y,w=Rt(a),_=Rt(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),h=[],d=[],p=t.length,s)for(f=0;p>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),d.push(c.y);else for(f=0;p>f;++f){var b=+w(c=t[f],f),C=+_(c,f);g>b&&(g=b),m>C&&(m=C),b>v&&(v=b),C>y&&(y=C),h.push(b),d.push(C)}var T=v-g,x=y-m;T>x?y=m+T:v=g+x;var S=fi();if(S.add=function(t){o(S,t,+w(t,++f),+_(t,f),g,m,v,y)},S.visit=function(t){pi(t,S,g,m,v,y)},S.find=function(t){return gi(S,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)o(S,t[f],h[f],d[f],g,m,v,y);--f}else t.forEach(S.add);return h=d=t=c=null,S}var s,a=On,l=An;return(s=arguments.length)?(a=hi,l=di,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},us.interpolateRgb=mi,us.interpolateObject=vi,us.interpolateNumber=yi,us.interpolateString=wi;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pl=new RegExp(fl.source,"g");us.interpolate=_i,us.interpolators=[function(t,e){var n=typeof e;return("string"===n?sa.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?mi:wi:e instanceof at?mi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?vi:yi)(t,e)}],us.interpolateArray=bi;var gl=function(){return w},ml=us.map({linear:gl,poly:Mi,quad:function(){return Si},cubic:function(){return Ei},sin:function(){return ki},exp:function(){return Oi},circle:function(){return Ai},elastic:Ni,back:Pi,bounce:function(){return Di}}),vl=us.map({"in":w,out:Ti,"in-out":xi,"out-in":function(t){return xi(Ti(t))}});us.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=ml.get(n)||gl,i=vl.get(i)||w,Ci(i(n.apply(null,cs.call(arguments,1))))},us.interpolateHcl=Li,us.interpolateHsl=Hi,us.interpolateLab=Ii,us.interpolateRound=Fi,us.transform=function(t){var e=ds.createElementNS(us.ns.prefix.svg,"g");return(us.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Wi(n?n.matrix:yl)})(t)},Wi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yl={a:1,b:0,c:0,d:1,e:0,f:0};us.interpolateTransform=qi,us.layout={},us.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Zi(t[n]));return e}},us.layout.chord=function(){function t(){var t,u,h,d,f,p={},g=[],m=us.range(o),v=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=r[d][f];g.push(u),v.push(us.range(o)),t+=u}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(Bs-c*o)/t,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var y=m[d],w=v[y][f],_=r[y][w],b=u,C=u+=_*t;p[y+"-"+w]={index:y,subindex:w,startAngle:b,endAngle:C,value:_}}i[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var T=p[d+"-"+f],x=p[f+"-"+d];(T.value||x.value)&&n.push(T.value<x.value?{source:x,target:T}:{source:T,target:x})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,s,a,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(s=t,n=i=null,u):s},u.sortSubgroups=function(t){return arguments.length?(a=t,n=null,u):a},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},us.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,l=o*o+s*s;if(l>a*a/v){if(g>l){var u=e.charge/l;t.px-=o*u,t.py-=s*u}return!0}if(e.point&&l&&g>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=s*u}}return!e.charge}}function e(t){t.px=us.event.x,t.py=us.event.y,l.resume()}var n,i,r,o,s,a,l={},u=us.dispatch("start","tick","end"),c=[1,1],h=.9,d=wl,f=_l,p=-30,g=bl,m=.1,v=.64,y=[],_=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,d,f,g,v,w,b,C=y.length,T=_.length;for(i=0;T>i;++i)l=_[i],d=l.source,f=l.target,w=f.x-d.x,b=f.y-d.y,(g=w*w+b*b)&&(g=r*s[i]*((g=Math.sqrt(g))-o[i])/g,w*=g,b*=g,f.x-=w*(v=d.weight+f.weight?d.weight/(d.weight+f.weight):.5),f.y-=b*v,d.x+=w*(v=1-v),d.y+=b*v);if((v=r*m)&&(w=c[0]/2,b=c[1]/2,i=-1,v))for(;++i<C;)l=y[i],l.x+=(w-l.x)*v,l.y+=(b-l.y)*v;if(p)for(rr(e=us.geom.quadtree(y),r,a),i=-1;++i<C;)(l=y[i]).fixed||e.visit(t(l));for(i=-1;++i<C;)l=y[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(_=t,l):_},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(h=+t,l):h},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=Nt(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;r>l;++l)n[l]=[];for(l=0;u>l;++l){var o=_[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var s,a=n[e],l=-1,c=a.length;++l<c;)if(!isNaN(s=a[l][t]))return s;return Math.random()*i}var e,n,i,r=y.length,u=_.length,h=c[0],g=c[1];for(e=0;r>e;++e)(i=y[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=_[e],"number"==typeof i.source&&(i.source=y[i.source]),"number"==typeof i.target&&(i.target=y[i.target]),++i.source.weight,++i.target.weight;for(e=0;r>e;++e)i=y[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof d)for(e=0;u>e;++e)o[e]=+d.call(this,_[e],e);else for(e=0;u>e;++e)o[e]=d;if(s=[],"function"==typeof f)for(e=0;u>e;++e)s[e]=+f.call(this,_[e],e);else for(e=0;u>e;++e)s[e]=f;if(a=[],"function"==typeof p)for(e=0;r>e;++e)a[e]=+p.call(this,y[e],e);else for(e=0;r>e;++e)a[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=us.behavior.drag().origin(w).on("dragstart.force",tr).on("drag.force",e).on("dragend.force",er)),arguments.length?void this.on("mouseover.force",nr).on("mouseout.force",ir).call(i):i},us.rebind(l,u,"on")};var wl=20,_l=1,bl=1/0;us.layout.hierarchy=function(){function t(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return ar(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),a}var e=cr,n=lr,i=ur;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(sr(e,function(t){t.children&&(t.value=0)}),ar(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},us.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,u=-1;for(i=e.value?i/e.value:0;++u<s;)t(a=o[u],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=us.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},or(n,i)},us.layout.pie=function(){function t(s){var a,l=s.length,u=s.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=d*(0>h?-1:1),p=us.sum(u),g=p?(h-l*f)/p:0,m=us.range(l),v=[];return null!=n&&m.sort(n===Cl?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),m.forEach(function(t){v[t]={data:s[t],value:a=u[t],startAngle:c,endAngle:c+=a*g+f,padAngle:d}}),v}var e=Number,n=Cl,i=0,r=Bs,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var Cl={};us.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var u=a.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,c,l);u=us.permute(u,h),c=us.permute(c,h);var d,f,p,g,m=i.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(r.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;d>f;++f)r.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return a}var e=w,n=gr,i=mr,r=pr,o=dr,s=fr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Tl.get(e)||gr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:xl.get(e)||mr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var Tl=us.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(vr),o=t.map(yr),s=us.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return us.range(t.length).reverse()},"default":gr}),xl=us.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];c>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:mr});us.layout.histogram=function(){function t(t,o){for(var s,a,l=[],u=t.map(n,this),c=i.call(this,u,o),h=r.call(this,c,u,o),o=-1,d=u.length,f=h.length-1,p=e?1:1/d;++o<f;)s=l[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<d;)a=u[o],a>=c[0]&&a<=c[1]&&(s=l[us.bisect(h,a,1,f)-1],s.y+=p,s.push(t[o]));return l}var e=!0,n=Number,i=Cr,r=_r;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Rt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return br(t,e)}:Rt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},us.layout.pack=function(){function t(t,o){var s=n.call(this,t,o),a=s[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,ar(a,function(t){t.r=+c(t.value)}),ar(a,Rr),i){var h=i*(e?1:Math.max(2*a.r/l,2*a.r/u))/2;ar(a,function(t){t.r+=h}),ar(a,Rr),ar(a,function(t){t.r-=h})}return Or(a,l/2,u/2,e?1:1/Math.max(2*a.r/l,2*a.r/u)),s}var e,n=us.layout.hierarchy().sort(Tr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},or(t,n)},us.layout.tree=function(){function t(t,r){var c=s.call(this,t,r),h=c[0],d=e(h);if(ar(d,n),d.parent.m=-d.z,sr(d,i),u)sr(h,o);else{var f=h,p=h,g=h;sr(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=a(f,p)/2-f.x,v=l[0]/(p.x+a(p,f)/2+m),y=l[1]/(g.depth||1);sr(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;a>s;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Hr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+a(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,s=e,l=r.parent.children[0],u=r.m,c=o.m,h=s.m,d=l.m;s=Dr(s),r=Pr(r),s&&r;)l=Pr(l),o=Dr(o),o.a=t,i=s.z+h-r.z-u+a(s._,r._),i>0&&(Lr(Ir(s,t,n),t,i),u+=i,c+=i),h+=s.m,u+=r.m,d+=l.m,c+=o.m;s&&!Dr(o)&&(o.t=s,o.m+=h-c),r&&!Pr(l)&&(l.t=r,l.m+=u-d,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var s=us.layout.hierarchy().sort(null).value(null),a=Nr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},or(t,s)},us.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),l=a[0],u=0;ar(l,function(t){var e=t.children;e&&e.length?(t.x=Wr(e),t.y=Fr(e)):(t.x=s?u+=n(t,s):0,t.y=0,s=t)});var c=jr(l),h=Br(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return ar(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=us.layout.hierarchy().sort(null).value(null),n=Nr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},or(t,e)},us.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,u=h(n),c=[],d=o.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(s=d[l-1]),c.area+=s.area,"squarify"!==f||(a=i(c,g))<=p?(d.pop(),p=a):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)r=t[o],r.x=a,r.y=u,r.dy=c,a+=r.dx=Math.min(n.x+n.dx-a,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)r=t[o],r.x=a,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=s||a(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),d&&(s=r),r}var s,a=us.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=zr,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?zr(e):Vr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Vr(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?zr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},or(o,a)},us.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=us.random.normal.apply(us,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=us.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},us.scale={};var Sl={floor:w,ceil:w};us.scale.linear=function(){return Kr([0,1],[0,1],_i,!1)};var El={s:1,g:1,p:1,r:1,e:1};us.scale.log=function(){return ro(us.scale.linear().domain([0,1]),10,!0,[1,10])};var Rl=us.format(".0e"),Ml={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};us.scale.pow=function(){return oo(us.scale.linear(),1,[0,1])},us.scale.sqrt=function(){return us.scale.pow().exponent(.5)},us.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},us.scale.category10=function(){return us.scale.ordinal().range(kl)},us.scale.category20=function(){return us.scale.ordinal().range(Ol)},us.scale.category20b=function(){return us.scale.ordinal().range(Al)},us.scale.category20c=function(){return us.scale.ordinal().range(Nl)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Ol=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Nl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);us.scale.quantile=function(){return lo([],[])},us.scale.quantize=function(){return uo(0,1,[0,1])},us.scale.threshold=function(){return co([.5],[0,1])},us.scale.identity=function(){return ho([0,1])},us.svg={},us.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=s.apply(this,arguments)-Vs,h=a.apply(this,arguments)-Vs,d=Math.abs(h-c),f=c>h?0:1;if(t>u&&(p=u,u=t,t=p),d>=zs)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,w,_,b,C,T,x,S,E=0,R=0,M=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Pl?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(R*=-1),u&&(R=nt(m/u*Math.sin(v))),t&&(E=nt(m/t*Math.sin(v)))),u){y=u*Math.cos(c+R),w=u*Math.sin(c+R),_=u*Math.cos(h-R),b=u*Math.sin(h-R);var k=Math.abs(h-c-2*R)<=js?0:1;if(R&&wo(y,w,_,b)===f^k){var O=(c+h)/2;y=u*Math.cos(O),w=u*Math.sin(O),_=b=null}}else y=w=0;if(t){C=t*Math.cos(h-E),T=t*Math.sin(h-E),x=t*Math.cos(c+E),S=t*Math.sin(c+E);var A=Math.abs(c-h+2*E)<=js?0:1;if(E&&wo(C,T,x,S)===1-f^A){var N=(c+h)/2;C=t*Math.cos(N),T=t*Math.sin(N),x=S=null}}else C=T=0;if(d>Fs&&(p=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=u>t^f?0:1;var P=p,D=p;if(js>d){var L=null==x?[C,T]:null==_?[y,w]:Ln([y,w],[x,S],[_,b],[C,T]),H=y-L[0],I=w-L[1],F=_-L[0],W=b-L[1],j=1/Math.sin(Math.acos((H*F+I*W)/(Math.sqrt(H*H+I*I)*Math.sqrt(F*F+W*W)))/2),B=Math.sqrt(L[0]*L[0]+L[1]*L[1]);D=Math.min(p,(t-B)/(j-1)),P=Math.min(p,(u-B)/(j+1))}if(null!=_){var z=_o(null==x?[C,T]:[x,S],[y,w],u,P,f),V=_o([_,b],[C,T],u,P,f);
p===P?M.push("M",z[0],"A",P,",",P," 0 0,",g," ",z[1],"A",u,",",u," 0 ",1-f^wo(z[1][0],z[1][1],V[1][0],V[1][1]),",",f," ",V[1],"A",P,",",P," 0 0,",g," ",V[0]):M.push("M",z[0],"A",P,",",P," 0 1,",g," ",V[0])}else M.push("M",y,",",w);if(null!=x){var U=_o([y,w],[x,S],t,-D,f),Y=_o([C,T],null==_?[y,w]:[_,b],t,-D,f);p===D?M.push("L",Y[0],"A",D,",",D," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",f^wo(Y[1][0],Y[1][1],U[1][0],U[1][1]),",",1-f," ",U[1],"A",D,",",D," 0 0,",g," ",U[0]):M.push("L",Y[0],"A",D,",",D," 0 0,",g," ",U[0])}else M.push("L",C,",",T)}else M.push("M",y,",",w),null!=_&&M.push("A",u,",",u," 0 ",k,",",f," ",_,",",b),M.push("L",C,",",T),null!=x&&M.push("A",t,",",t," 0 ",A,",",1-f," ",x,",",S);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=po,i=go,r=fo,o=Pl,s=mo,a=vo,l=yo;return t.innerRadius=function(e){return arguments.length?(n=Rt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Rt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Rt(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Pl?Pl:Rt(e),t):o},t.startAngle=function(e){return arguments.length?(s=Rt(e),t):s},t.endAngle=function(e){return arguments.length?(a=Rt(e),t):a},t.padAngle=function(e){return arguments.length?(l=Rt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Vs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Pl="auto";us.svg.line=function(){return bo(w)};var Dl=us.map({linear:Co,"linear-closed":To,step:xo,"step-before":So,"step-after":Eo,basis:No,"basis-open":Po,"basis-closed":Do,bundle:Lo,cardinal:ko,"cardinal-open":Ro,"cardinal-closed":Mo,monotone:Bo});Dl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ll=[0,2/3,1/3,0],Hl=[0,1/3,2/3,0],Il=[0,1/6,2/3,1/6];us.svg.line.radial=function(){var t=bo(zo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},So.reverse=Eo,Eo.reverse=So,us.svg.area=function(){return Vo(w)},us.svg.area.radial=function(){var t=Vo(zo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},us.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),u=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)-Vs,c=u.call(t,r,i)-Vs;return{r:o,a0:s,a1:c,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>js)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=_n,s=bn,a=Uo,l=mo,u=vo;return t.radius=function(e){return arguments.length?(a=Rt(e),t):a},t.source=function(e){return arguments.length?(o=Rt(e),t):o},t.target=function(e){return arguments.length?(s=Rt(e),t):s},t.startAngle=function(e){return arguments.length?(l=Rt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Rt(e),t):u},t},us.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=_n,n=bn,i=Yo;return t.source=function(n){return arguments.length?(e=Rt(n),t):e},t.target=function(e){return arguments.length?(n=Rt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},us.svg.diagonal.radial=function(){var t=us.svg.diagonal(),e=Yo,n=t.projection;return t.projection=function(t){return arguments.length?n(Go(e=t)):e},t},us.svg.symbol=function(){function t(t,i){return(Fl.get(e.call(this,t,i))||$o)(n.call(this,t,i))}var e=qo,n=Xo;return t.type=function(n){return arguments.length?(e=Rt(n),t):e},t.size=function(e){return arguments.length?(n=Rt(e),t):n},t};var Fl=us.map({circle:$o,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*jl)),n=e*jl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Wl),n=e*Wl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Wl),n=e*Wl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});us.svg.symbolTypes=Fl.keys();var Wl=Math.sqrt(3),jl=Math.tan(30*Us);Os.transition=function(t){for(var e,n,i=Bl||++Yl,r=ts(t),o=[],s=zl||{time:Date.now(),ease:Ri,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(n=u[c])&&es(n,c,r,i,s),e.push(n)}return Zo(o,r,i)},Os.interrupt=function(t){return this.each(null==t?Vl:Ko(ts(t)))};var Bl,zl,Vl=Ko(ts()),Ul=[],Yl=0;Ul.call=Os.call,Ul.empty=Os.empty,Ul.node=Os.node,Ul.size=Os.size,us.transition=function(t,e){return t&&t.transition?Bl?t.transition(e):t:us.selection().transition(t)},us.transition.prototype=Ul,Ul.select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=k(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),es(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Zo(s,o,r)},Ul.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,l=[];t=O(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&es(r,p,a,s,o),e.push(r)}return Zo(l,a,s)},Ul.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var n=this[o],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return Zo(r,this.namespace,this.id)},Ul.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):U(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Ul.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?qi:_i,a=us.ns.qualify(t);return Qo(this,"attr."+t,e,a.local?o:r)},Ul.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=us.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Ul.style=function(t,e,i){function r(){this.style.removeProperty(t)}function o(e){return null==e?r:(e+="",function(){var r,o=n(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=_i(o,e),function(e){this.style.setProperty(t,r(e),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(e="");for(i in t)this.style(i,t[i],e);return this}i=""}return Qo(this,"style."+t,e,o)},Ul.styleTween=function(t,e,i){function r(r,o){var s=e.call(this,r,o,n(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Ul.text=function(t){return Qo(this,"text",t,Jo)},Ul.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ul.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=us.ease.apply(us,arguments)),U(this,function(i){i[n][e].ease=t}))},Ul.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Ul.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Ul.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=zl,o=Bl;try{Bl=n,U(this,function(e,r,o){zl=e[i][n],t.call(e,e.__data__,r,o)})}finally{zl=r,Bl=o}}else U(this,function(r){var o=r[i][n];(o.event||(o.event=us.dispatch("start","end","interrupt"))).on(t,e)});return this},Ul.transition=function(){for(var t,e,n,i,r=this.id,o=++Yl,s=this.namespace,a=[],l=0,u=this.length;u>l;l++){a.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=n[s][r],es(n,c,s,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Zo(a,s,o)},us.svg.axis=function(){function t(t){t.each(function(){var t,u=us.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,a):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,a):w:e,p=u.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Fs),m=us.transition(p.exit()).style("opacity",Fs).remove(),v=us.transition(p.order()).style("opacity",1),y=Math.max(r,0)+s,_=Yr(h),b=u.selectAll(".domain").data([0]),C=(b.enter().append("path").attr("class","domain"),us.transition(b));g.append("line"),g.append("text");var T,x,S,E,R=g.select("line"),M=v.select("line"),k=p.select("text").text(f),O=g.select("text"),A=v.select("text"),N="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ns,T="x",S="y",x="x2",E="y2",k.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+_[0]+","+N*o+"V0H"+_[1]+"V"+N*o)):(t=is,T="y",S="x",x="y2",E="x2",k.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),C.attr("d","M"+N*o+","+_[0]+"H0V"+_[1]+"H"+N*o)),R.attr(E,N*r),O.attr(S,N*y),M.attr(x,0).attr(E,N*r),A.attr(T,0).attr(S,N*y),h.rangeBand){var P=h,D=P.rangeBand()/2;c=h=function(t){return P(t)+D}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=us.scale.linear(),i=Gl,r=6,o=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Xl?e+"":Gl,t):i},t.ticks=function(){return arguments.length?(a=hs(arguments),t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var Gl="bottom",Xl={top:1,right:1,bottom:1,left:1};us.svg.brush=function(){function t(n){n.each(function(){var n=us.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),s=n.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=n.selectAll(".resize").data(g,w);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,h=us.transition(n),d=us.transition(s);u&&(l=Yr(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),c&&(l=Yr(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==us.event.keyCode&&(k||(w=null,A[0]-=h[1],A[1]-=d[1],k=2),S())}function g(){32==us.event.keyCode&&2==k&&(A[0]+=h[1],A[1]+=d[1],k=0,S())}function m(){var t=us.mouse(b),n=!1;_&&(t[0]+=_[0],t[1]+=_[1]),k||(us.event.altKey?(w||(w=[(h[0]+h[1])/2,(d[0]+d[1])/2]),A[0]=h[+(t[0]<w[0])],A[1]=d[+(t[1]<w[1])]):w=null),R&&v(t,u,0)&&(i(x),n=!0),M&&v(t,c,1)&&(r(x),n=!0),n&&(e(x),T({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var i,r,o=Yr(e),l=o[0],u=o[1],c=A[n],g=n?d:h,m=g[1]-g[0];return k&&(l-=c,u-=m+c),i=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],k?r=(i+=c)+m:(w&&(c=Math.max(l,Math.min(u,2*w[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?a=null:s=null,g[0]=i,g[1]=r,!0):void 0}function y(){m(),x.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),us.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),T({type:"brushend"})}var w,_,b=this,C=us.select(us.event.target),T=l.of(b,arguments),x=us.select(b),E=C.datum(),R=!/^(n|s)$/.test(E)&&u,M=!/^(e|w)$/.test(E)&&c,k=C.classed("extent"),O=K(b),A=us.mouse(b),N=us.select(n(b)).on("keydown.brush",o).on("keyup.brush",g);if(us.event.changedTouches?N.on("touchmove.brush",m).on("touchend.brush",y):N.on("mousemove.brush",m).on("mouseup.brush",y),x.interrupt().selectAll("*").interrupt(),k)A[0]=h[0]-A[0],A[1]=d[0]-A[1];else if(E){var P=+/w$/.test(E),D=+/^n/.test(E);_=[h[1-P]-A[0],d[1-D]-A[1]],A[0]=h[P],A[1]=d[D]}else us.event.altKey&&(w=A.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),us.select("body").style("cursor",C.style("cursor")),T({type:"brushstart"}),m()}var s,a,l=R(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,g=$l[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:s,j:a},n=this.__chart__||e;this.__chart__=e,Bl?us.select(this).transition().each("start.brush",function(){s=n.i,a=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(h,e.x),i=bi(d,e.y);return s=a=null,function(r){h=e.x=n(r),d=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=$l[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=$l[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),s=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),a=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(l=r,r=o,o=l),r==d[0]&&o==d[1]||(d=[r,o])),t):(u&&(s?(n=s[0],i=s[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(a?(r=a[0],o=a[1]):(r=d[0],o=d[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},us.rebind(t,l,"on")};var ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Kl=ga.format=ba.timeFormat,Zl=Kl.utc,Ql=Zl("%Y-%m-%dT%H:%M:%S.%LZ");Kl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?rs:Ql,rs.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},rs.toString=Ql.toString,ga.second=Bt(function(t){return new ma(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ga.seconds=ga.second.range,ga.seconds.utc=ga.second.utc.range,ga.minute=Bt(function(t){return new ma(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ga.minutes=ga.minute.range,ga.minutes.utc=ga.minute.utc.range,ga.hour=Bt(function(t){var e=t.getTimezoneOffset()/60;return new ma(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ga.hours=ga.hour.range,ga.hours.utc=ga.hour.utc.range,ga.month=Bt(function(t){return t=ga.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ga.months=ga.month.range,ga.months.utc=ga.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],tu=[[ga.second,1],[ga.second,5],[ga.second,15],[ga.second,30],[ga.minute,1],[ga.minute,5],[ga.minute,15],[ga.minute,30],[ga.hour,1],[ga.hour,3],[ga.hour,6],[ga.hour,12],[ga.day,1],[ga.day,2],[ga.week,1],[ga.month,1],[ga.month,3],[ga.year,1]],eu=Kl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Oe]]),nu={range:function(t,e,n){return us.range(Math.ceil(t/n)*n,+e,n).map(ss)},floor:w,ceil:w};tu.year=ga.year,ga.scale=function(){return os(us.scale.linear(),tu,eu)};var iu=tu.map(function(t){return[t[0].utc,t[1]]}),ru=Zl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Oe]]);iu.year=ga.year.utc,ga.scale.utc=function(){return os(us.scale.linear(),iu,ru)},us.text=Mt(function(t){return t.responseText}),us.json=function(t,e){return kt(t,"application/json",as,e)},us.html=function(t,e){return kt(t,"text/html",ls,e)},us.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=us,define(us)):"object"==typeof e&&e.exports?e.exports=us:this.d3=us}()},{}],datamaps:[function(t,e,n){!function(){function i(t,e,n){"undefined"==typeof n&&(n=e,optionsValues=void 0);var i="undefined"!=typeof t?t:e;if("undefined"==typeof i)return null;if("function"==typeof i){var r=[n];return n.geography&&(r=[n.geography,n.data]),i.apply(null,r)}return i}function r(t,e,n){return this.svg=m.select(t).append("svg").attr("width",n||t.offsetWidth).attr("data-width",n||t.offsetWidth).attr("class","datamap").attr("height",e||t.offsetHeight).style("overflow","hidden"),this.options.responsive&&(m.select(this.options.element).style({position:"relative","padding-bottom":100*this.options.aspectRatio+"%"}),m.select(this.options.element).select("svg").style({position:"absolute",width:"100%",height:"100%"}),m.select(this.options.element).select("svg").select("g").selectAll("path").style("vector-effect","non-scaling-stroke")),this.svg}function o(t,e){var n,i,r=e.width||t.offsetWidth,o=e.height||t.offsetHeight,s=this.svg;return e&&"undefined"==typeof e.scope&&(e.scope="world"),"usa"===e.scope?n=m.geo.albersUsa().scale(r).translate([r/2,o/2]):"world"===e.scope&&(n=m.geo[e.projection]().scale((r+1)/2/Math.PI).translate([r/2,o/("mercator"===e.projection?1.45:1.8)])),"orthographic"===e.projection&&(s.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere").attr("d",i),s.append("use").attr("class","stroke").attr("xlink:href","#sphere"),s.append("use").attr("class","fill").attr("xlink:href","#sphere"),n.scale(250).clipAngle(90).rotate(e.projectionConfig.rotation)),i=m.geo.path().projection(n),{path:i,projection:n}}function s(){m.select(".datamaps-style-block").empty()&&m.select("head").append("style").attr("class","datamaps-style-block").html('.datamap path.datamaps-graticule { fill: none; stroke: #777; stroke-width: 0.5px; stroke-opacity: .5; pointer-events: none; } .datamap .labels {pointer-events: none;} .datamap path:not(.datamaps-arc), .datamap circle, .datamap line {stroke: #FFFFFF; vector-effect: non-scaling-stroke; stroke-width: 1px;} .datamaps-legend dt, .datamaps-legend dd { float: left; margin: 0 3px 0 0;} .datamaps-legend dd {width: 20px; margin-right: 6px; border-radius: 3px;} .datamaps-legend {padding-bottom: 20px; z-index: 1001; position: absolute; left: 4px; font-size: 12px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;} .datamaps-hoverover {display: none; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; } .hoverinfo {padding: 4px; border-radius: 1px; background-color: #FFF; box-shadow: 1px 1px 5px #CCC; font-size: 12px; border: 1px solid #CCC; } .hoverinfo hr {border:1px dotted #CCC; }')}function a(t){var e=this.options.fills,n=this.options.data||{},r=this.options.geographyConfig,o=this.svg.select("g.datamaps-subunits");o.empty()&&(o=this.addLayer("datamaps-subunits",null,!0));var s=v.feature(t,t.objects[this.options.scope]).features;r.hideAntarctica&&(s=s.filter(function(t){return"ATA"!==t.id})),r.hideHawaiiAndAlaska&&(s=s.filter(function(t){return"HI"!==t.id&&"AK"!==t.id}));var a=o.selectAll("path.datamaps-subunit").data(s);a.enter().append("path").attr("d",this.path).attr("class",function(t){return"datamaps-subunit "+t.id}).attr("data-info",function(t){return JSON.stringify(n[t.id])}).style("fill",function(t){var r,o=n[t.id];return o&&o.fillKey&&(r=e[i(o.fillKey,{data:n[t.id],geography:t})]),"undefined"==typeof r&&(r=i(o&&o.fillColor,e.defaultFill,{data:n[t.id],geography:t})),r}).style("stroke-width",r.borderWidth).style("stroke-opacity",r.borderOpacity).style("stroke",r.borderColor)}function l(){function t(){this.parentNode.appendChild(this)}var e=this.svg,n=this,r=this.options.geographyConfig;(r.highlightOnHover||r.popupOnHover)&&e.selectAll(".datamaps-subunit").on("mouseover",function(o){var s=m.select(this),a=n.options.data[o.id]||{};if(r.highlightOnHover){var l={fill:s.style("fill"),stroke:s.style("stroke"),"stroke-width":s.style("stroke-width"),"fill-opacity":s.style("fill-opacity")};s.style("fill",i(a.highlightFillColor,r.highlightFillColor,a)).style("stroke",i(a.highlightBorderColor,r.highlightBorderColor,a)).style("stroke-width",i(a.highlightBorderWidth,r.highlightBorderWidth,a)).style("stroke-opacity",i(a.highlightBorderOpacity,r.highlightBorderOpacity,a)).style("fill-opacity",i(a.highlightFillOpacity,r.highlightFillOpacity,a)).attr("data-previousAttributes",JSON.stringify(l)),/((MSIE)|(Trident))/.test(navigator.userAgent)||t.call(this)}r.popupOnHover&&n.updatePopup(s,o,r,e)}).on("mouseout",function(){var t=m.select(this);if(r.highlightOnHover){var e=JSON.parse(t.attr("data-previousAttributes"));for(var n in e)t.style(n,e[n])}t.on("mousemove",null),m.selectAll(".datamaps-hoverover").style("display","none")})}function u(t,e,n){if(e=e||{},this.options.fills){var i="<dl>",r="";e.legendTitle&&(i='<h2 style="color:'+e.textColor+'">'+e.legendTitle+"</h2>"+i);for(var o in this.options.fills){if("defaultFill"===o){if(!e.defaultFillName)continue;r=e.defaultFillName}else r=e.labels&&e.labels[o]?e.labels[o]:o+": ";i+='<dt style="color:'+e.textColor+'">'+r+"</dt>",i+='<dd style="background-color:'+this.options.fills[o]+'">&nbsp;</dd>'}i+="</dl>";m.select(this.options.element).append("div").attr("class","datamaps-legend").html(i)}}function c(t,e){var n=m.geo.graticule();this.svg.insert("path",".datamaps-subunits").datum(n).attr("class","datamaps-graticule").attr("d",this.path)}function h(t,e,n){var r=this,o=this.svg;if(!e||e&&!e.slice)throw"Datamaps Error - arcs must be an array";for(var s=0;s<e.length;s++)e[s]=p(e[s],e[s].options),delete e[s].options;"undefined"==typeof n&&(n=y.arcConfig);var a=t.selectAll("path.datamaps-arc").data(e,JSON.stringify),l=m.geo.path().projection(r.projection);a.enter().append("svg:path").attr("class","datamaps-arc").style("stroke-linecap","round").style("stroke",function(t){return i(t.strokeColor,n.strokeColor,t)}).style("fill","none").style("stroke-width",function(t){return i(t.strokeWidth,n.strokeWidth,t)}).attr("d",function(t){var e,s;if("string"==typeof t.origin)switch(t.origin){case"USA":e=r.latLngToXY(41.140276,-100.760145);break;case"CAN":e=r.latLngToXY(56.624472,-114.665293);break;case"JPN":e=r.latLngToXY(35.689487,139.691706);break;case"CHL":e=r.latLngToXY(-33.44889,-70.669265);break;case"IDN":e=r.latLngToXY(-6.208763,106.845599);break;case"MYS":e=r.latLngToXY(14.599512,120.984219);break;case"NOR":e=r.latLngToXY(59.913869,10.752245);break;default:e=r.path.centroid(o.select("path."+t.origin).data()[0])}else e=r.latLngToXY(i(t.origin.latitude,t),i(t.origin.longitude,t));if("string"==typeof t.destination)switch(t.destination){case"USA":s=r.latLngToXY(41.140276,-100.760145);break;case"CAN":s=r.latLngToXY(56.624472,-114.665293);break;case"JPN":s=r.latLngToXY(35.689487,139.691706);break;case"CHL":s=r.latLngToXY(-33.44889,-70.669265);break;case"IDN":s=r.latLngToXY(-6.208763,106.845599);break;case"MYS":s=r.latLngToXY(14.599512,120.984219);break;case"NOR":s=r.latLngToXY(59.913869,10.752245);break;default:s=r.path.centroid(o.select("path."+t.destination).data()[0])}else s=r.latLngToXY(i(t.destination.latitude,t),i(t.destination.longitude,t));var a=[(e[0]+s[0])/2,(e[1]+s[1])/2];if(n.greatArc){var u=m.geo.greatArc().source(function(t){return[i(t.origin.longitude,t),i(t.origin.latitude,t)]}).target(function(t){return[i(t.destination.longitude,t),i(t.destination.latitude,t)]});return l(u(t))}var c=i(t.arcSharpness,n.arcSharpness,t);return"M"+e[0]+","+e[1]+"S"+(a[0]+50*c)+","+(a[1]-75*c)+","+s[0]+","+s[1]}).attr("data-info",function(t){return JSON.stringify(t)}).on("mouseover",function(t){var e=m.select(this);n.popupOnHover&&r.updatePopup(e,t,n,o)}).on("mouseout",function(t){m.select(this);m.selectAll(".datamaps-hoverover").style("display","none")}).transition().delay(100).style("fill",function(t){var e=this.getTotalLength();return this.style.transition=this.style.WebkitTransition="none",this.style.strokeDasharray=e+" "+e,this.style.strokeDashoffset=e,this.getBoundingClientRect(),this.style.transition=this.style.WebkitTransition="stroke-dashoffset "+i(t.animationSpeed,n.animationSpeed,t)+"ms ease-out",this.style.strokeDashoffset="0","none"}),a.exit().transition().style("opacity",0).remove()}function d(t,e){var n=this;e=e||{};var i=this.projection([-67.707617,42.722131]);this.svg.selectAll(".datamaps-subunit").attr("data-foo",function(r){var o=n.path.centroid(r),s=7.5,a=5;["FL","KY","MI"].indexOf(r.id)>-1&&(s=-2.5),"NY"===r.id&&(s=-1),"MI"===r.id&&(a=18),"LA"===r.id&&(s=13);var l,u;l=o[0]-s,u=o[1]+a;var c=["VT","NH","MA","RI","CT","NJ","DE","MD","DC"].indexOf(r.id);if(c>-1){var h=i[1];l=i[0],u=h+c*(2+(e.fontSize||12)),t.append("line").attr("x1",l-3).attr("y1",u-5).attr("x2",o[0]).attr("y2",o[1]).style("stroke",e.labelColor||"#000").style("stroke-width",e.lineWidth||1)}return t.append("text").attr("x",l).attr("y",u).style("font-size",(e.fontSize||10)+"px").style("font-family",e.fontFamily||"Verdana").style("fill",e.labelColor||"#000").text(function(){return e.customLabelText&&e.customLabelText[r.id]?e.customLabelText[r.id]:r.id}),"bar"})}function f(t,e,n){function r(t){return"undefined"!=typeof t&&"undefined"!=typeof t.latitude&&"undefined"!=typeof t.longitude}var o=this,s=this.options.fills,a=this.options.filters,l=this.svg;if(!e||e&&!e.slice)throw"Datamaps Error - bubbles must be an array";var u=t.selectAll("circle.datamaps-bubble").data(e,n.key);u.enter().append("svg:circle").attr("class","datamaps-bubble").attr("cx",function(t){var e;return r(t)?e=o.latLngToXY(t.latitude,t.longitude):t.centered&&(e="USA"===t.centered?o.projection([-98.58333,39.83333]):o.path.centroid(l.select("path."+t.centered).data()[0])),e?e[0]:void 0}).attr("cy",function(t){var e;return r(t)?e=o.latLngToXY(t.latitude,t.longitude):t.centered&&(e="USA"===t.centered?o.projection([-98.58333,39.83333]):o.path.centroid(l.select("path."+t.centered).data()[0])),e?e[1]:void 0}).attr("r",function(t){return n.animate?0:i(t.radius,n.radius,t)}).attr("data-info",function(t){return JSON.stringify(t)}).attr("filter",function(t){var e=a[i(t.filterKey,n.filterKey,t)];return e?e:void 0}).style("stroke",function(t){return i(t.borderColor,n.borderColor,t)}).style("stroke-width",function(t){return i(t.borderWidth,n.borderWidth,t)}).style("stroke-opacity",function(t){return i(t.borderOpacity,n.borderOpacity,t)}).style("fill-opacity",function(t){return i(t.fillOpacity,n.fillOpacity,t)}).style("fill",function(t){var e=s[i(t.fillKey,n.fillKey,t)];return e||s.defaultFill}).on("mouseover",function(t){var e=m.select(this);if(n.highlightOnHover){var r={fill:e.style("fill"),stroke:e.style("stroke"),"stroke-width":e.style("stroke-width"),"fill-opacity":e.style("fill-opacity")};e.style("fill",i(t.highlightFillColor,n.highlightFillColor,t)).style("stroke",i(t.highlightBorderColor,n.highlightBorderColor,t)).style("stroke-width",i(t.highlightBorderWidth,n.highlightBorderWidth,t)).style("stroke-opacity",i(t.highlightBorderOpacity,n.highlightBorderOpacity,t)).style("fill-opacity",i(t.highlightFillOpacity,n.highlightFillOpacity,t)).attr("data-previousAttributes",JSON.stringify(r))}n.popupOnHover&&o.updatePopup(e,t,n,l)}).on("mouseout",function(t){var e=m.select(this);if(n.highlightOnHover){var i=JSON.parse(e.attr("data-previousAttributes"));for(var r in i)e.style(r,i[r])}m.selectAll(".datamaps-hoverover").style("display","none")}),u.transition().duration(400).attr("r",function(t){return i(t.radius,n.radius,t)}).transition().duration(0).attr("data-info",function(t){return JSON.stringify(t)}),u.exit().transition().delay(n.exitDelay).attr("r",0).remove()}function p(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e)for(var n in e)null==t[n]&&("function"==typeof e[n]?t[n]=e[n]:t[n]=JSON.parse(JSON.stringify(e[n])))}),t}function g(t){if("undefined"==typeof m||"undefined"==typeof v)throw new Error("Include d3.js (v3.0.3 or greater) and topojson on this page before creating a new map");return this.options=p(t,y),this.options.geographyConfig=p(t.geographyConfig,y.geographyConfig),this.options.projectionConfig=p(t.projectionConfig,y.projectionConfig),this.options.bubblesConfig=p(t.bubblesConfig,y.bubblesConfig),this.options.arcConfig=p(t.arcConfig,y.arcConfig),m.select(this.options.element).select("svg").length>0&&r.call(this,this.options.element,this.options.height,this.options.width),this.addPlugin("bubbles",f),this.addPlugin("legend",u),this.addPlugin("arc",h),this.addPlugin("labels",d),this.addPlugin("graticule",c),this.options.disableDefaultStyles||s(),this.draw()}var m=window.d3,v=window.topojson,y={scope:"world",responsive:!1,aspectRatio:.5625,setProjection:o,projection:"equirectangular",dataType:"json",data:{},done:function(){},fills:{defaultFill:"#ABDDA4"},filters:{},geographyConfig:{dataUrl:null,hideAntarctica:!0,hideHawaiiAndAlaska:!1,borderWidth:1,borderOpacity:1,borderColor:"#FDFDFD",popupTemplate:function(t,e){return'<div class="hoverinfo"><strong>'+t.properties.name+"</strong></div>"},popupOnHover:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1},projectionConfig:{
rotation:[97,0]},bubblesConfig:{borderWidth:2,borderOpacity:1,borderColor:"#FFFFFF",popupOnHover:!0,radius:null,popupTemplate:function(t,e){return'<div class="hoverinfo"><strong>'+e.name+"</strong></div>"},fillOpacity:.75,animate:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1,highlightFillOpacity:.85,exitDelay:100,key:JSON.stringify},arcConfig:{strokeColor:"#DD1C77",strokeWidth:1,arcSharpness:1,animationSpeed:600,popupOnHover:!1,popupTemplate:function(t,e){return e.origin&&e.destination&&e.origin.latitude&&e.origin.longitude&&e.destination.latitude&&e.destination.longitude?'<div class="hoverinfo"><strong>Arc</strong><br>Origin: '+JSON.stringify(e.origin)+"<br>Destination: "+JSON.stringify(e.destination)+"</div>":e.origin&&e.destination?'<div class="hoverinfo"><strong>Arc</strong><br>'+e.origin+" -> "+e.destination+"</div>":""}}};g.prototype.resize=function(){var t=this,e=t.options;if(e.responsive){var n=e.element.clientWidth,i=m.select(e.element).select("svg").attr("data-width");m.select(e.element).select("svg").selectAll("g").attr("transform","scale("+n/i+")")}},g.prototype.draw=function(){function t(t){e.options.dataUrl&&m[e.options.dataType](e.options.dataUrl,function(t){if("csv"===e.options.dataType&&t&&t.slice){for(var n={},i=0;i<t.length;i++)n[t[i].id]=t[i];t=n}Datamaps.prototype.updateChoropleth.call(e,t)}),a.call(e,t),l.call(e),(e.options.geographyConfig.popupOnHover||e.options.bubblesConfig.popupOnHover)&&(hoverover=m.select(e.options.element).append("div").attr("class","datamaps-hoverover").style("z-index",10001).style("position","absolute")),e.options.done(e)}var e=this,n=e.options,i=n.setProjection.apply(this,[n.element,n]);return this.path=i.path,this.projection=i.projection,n.geographyConfig.dataUrl?n.geographyConfig.mapJson?setTimeout(function(){e.customTopo=n.geographyConfig.mapJson,t(n.geographyConfig.mapJson)},100):m.json(n.geographyConfig.dataUrl,function(n,i){if(n)throw new Error(n);e.customTopo=i,t(i)}):t(this[n.scope+"Topo"]||n.geographyConfig.dataJson),this},g.prototype.worldTopo="__WORLD__",g.prototype.abwTopo="__ABW__",g.prototype.afgTopo="__AFG__",g.prototype.agoTopo="__AGO__",g.prototype.aiaTopo="__AIA__",g.prototype.albTopo="__ALB__",g.prototype.aldTopo="__ALD__",g.prototype.andTopo="__AND__",g.prototype.areTopo="__ARE__",g.prototype.argTopo="__ARG__",g.prototype.armTopo="__ARM__",g.prototype.asmTopo="__ASM__",g.prototype.ataTopo="__ATA__",g.prototype.atcTopo="__ATC__",g.prototype.atfTopo="__ATF__",g.prototype.atgTopo="__ATG__",g.prototype.ausTopo="__AUS__",g.prototype.autTopo="__AUT__",g.prototype.azeTopo="__AZE__",g.prototype.bdiTopo="__BDI__",g.prototype.belTopo="__BEL__",g.prototype.benTopo="__BEN__",g.prototype.bfaTopo="__BFA__",g.prototype.bgdTopo="__BGD__",g.prototype.bgrTopo="__BGR__",g.prototype.bhrTopo="__BHR__",g.prototype.bhsTopo="__BHS__",g.prototype.bihTopo="__BIH__",g.prototype.bjnTopo="__BJN__",g.prototype.blmTopo="__BLM__",g.prototype.blrTopo="__BLR__",g.prototype.blzTopo="__BLZ__",g.prototype.bmuTopo="__BMU__",g.prototype.bolTopo="__BOL__",g.prototype.braTopo="__BRA__",g.prototype.brbTopo="__BRB__",g.prototype.brnTopo="__BRN__",g.prototype.btnTopo="__BTN__",g.prototype.norTopo="__NOR__",g.prototype.bwaTopo="__BWA__",g.prototype.cafTopo="__CAF__",g.prototype.canTopo="__CAN__",g.prototype.cheTopo="__CHE__",g.prototype.chlTopo="__CHL__",g.prototype.chnTopo="__CHN__",g.prototype.civTopo="__CIV__",g.prototype.clpTopo="__CLP__",g.prototype.cmrTopo="__CMR__",g.prototype.codTopo="__COD__",g.prototype.cogTopo="__COG__",g.prototype.cokTopo="__COK__",g.prototype.colTopo="__COL__",g.prototype.comTopo="__COM__",g.prototype.cpvTopo="__CPV__",g.prototype.criTopo="__CRI__",g.prototype.csiTopo="__CSI__",g.prototype.cubTopo="__CUB__",g.prototype.cuwTopo="__CUW__",g.prototype.cymTopo="__CYM__",g.prototype.cynTopo="__CYN__",g.prototype.cypTopo="__CYP__",g.prototype.czeTopo="__CZE__",g.prototype.deuTopo="__DEU__",g.prototype.djiTopo="__DJI__",g.prototype.dmaTopo="__DMA__",g.prototype.dnkTopo="__DNK__",g.prototype.domTopo="__DOM__",g.prototype.dzaTopo="__DZA__",g.prototype.ecuTopo="__ECU__",g.prototype.egyTopo="__EGY__",g.prototype.eriTopo="__ERI__",g.prototype.esbTopo="__ESB__",g.prototype.espTopo="__ESP__",g.prototype.estTopo="__EST__",g.prototype.ethTopo="__ETH__",g.prototype.finTopo="__FIN__",g.prototype.fjiTopo="__FJI__",g.prototype.flkTopo="__FLK__",g.prototype.fraTopo="__FRA__",g.prototype.froTopo="__FRO__",g.prototype.fsmTopo="__FSM__",g.prototype.gabTopo="__GAB__",g.prototype.psxTopo="__PSX__",g.prototype.gbrTopo="__GBR__",g.prototype.geoTopo="__GEO__",g.prototype.ggyTopo="__GGY__",g.prototype.ghaTopo="__GHA__",g.prototype.gibTopo="__GIB__",g.prototype.ginTopo="__GIN__",g.prototype.gmbTopo="__GMB__",g.prototype.gnbTopo="__GNB__",g.prototype.gnqTopo="__GNQ__",g.prototype.grcTopo="__GRC__",g.prototype.grdTopo="__GRD__",g.prototype.grlTopo="__GRL__",g.prototype.gtmTopo="__GTM__",g.prototype.gumTopo="__GUM__",g.prototype.guyTopo="__GUY__",g.prototype.hkgTopo="__HKG__",g.prototype.hmdTopo="__HMD__",g.prototype.hndTopo="__HND__",g.prototype.hrvTopo="__HRV__",g.prototype.htiTopo="__HTI__",g.prototype.hunTopo="__HUN__",g.prototype.idnTopo="__IDN__",g.prototype.imnTopo="__IMN__",g.prototype.indTopo="__IND__",g.prototype.ioaTopo="__IOA__",g.prototype.iotTopo="__IOT__",g.prototype.irlTopo="__IRL__",g.prototype.irnTopo="__IRN__",g.prototype.irqTopo="__IRQ__",g.prototype.islTopo="__ISL__",g.prototype.isrTopo="__ISR__",g.prototype.itaTopo="__ITA__",g.prototype.jamTopo="__JAM__",g.prototype.jeyTopo="__JEY__",g.prototype.jorTopo="__JOR__",g.prototype.jpnTopo="__JPN__",g.prototype.kabTopo="__KAB__",g.prototype.kasTopo="__KAS__",g.prototype.kazTopo="__KAZ__",g.prototype.kenTopo="__KEN__",g.prototype.kgzTopo="__KGZ__",g.prototype.khmTopo="__KHM__",g.prototype.kirTopo="__KIR__",g.prototype.knaTopo="__KNA__",g.prototype.korTopo="__KOR__",g.prototype.kosTopo="__KOS__",g.prototype.kwtTopo="__KWT__",g.prototype.laoTopo="__LAO__",g.prototype.lbnTopo="__LBN__",g.prototype.lbrTopo="__LBR__",g.prototype.lbyTopo="__LBY__",g.prototype.lcaTopo="__LCA__",g.prototype.lieTopo="__LIE__",g.prototype.lkaTopo="__LKA__",g.prototype.lsoTopo="__LSO__",g.prototype.ltuTopo="__LTU__",g.prototype.luxTopo="__LUX__",g.prototype.lvaTopo="__LVA__",g.prototype.macTopo="__MAC__",g.prototype.mafTopo="__MAF__",g.prototype.marTopo="__MAR__",g.prototype.mcoTopo="__MCO__",g.prototype.mdaTopo="__MDA__",g.prototype.mdgTopo="__MDG__",g.prototype.mdvTopo="__MDV__",g.prototype.mexTopo="__MEX__",g.prototype.mhlTopo="__MHL__",g.prototype.mkdTopo="__MKD__",g.prototype.mliTopo="__MLI__",g.prototype.mltTopo="__MLT__",g.prototype.mmrTopo="__MMR__",g.prototype.mneTopo="__MNE__",g.prototype.mngTopo="__MNG__",g.prototype.mnpTopo="__MNP__",g.prototype.mozTopo="__MOZ__",g.prototype.mrtTopo="__MRT__",g.prototype.msrTopo="__MSR__",g.prototype.musTopo="__MUS__",g.prototype.mwiTopo="__MWI__",g.prototype.mysTopo="__MYS__",g.prototype.namTopo="__NAM__",g.prototype.nclTopo="__NCL__",g.prototype.nerTopo="__NER__",g.prototype.nfkTopo="__NFK__",g.prototype.ngaTopo="__NGA__",g.prototype.nicTopo="__NIC__",g.prototype.niuTopo="__NIU__",g.prototype.nldTopo="__NLD__",g.prototype.nplTopo="__NPL__",g.prototype.nruTopo="__NRU__",g.prototype.nulTopo="__NUL__",g.prototype.nzlTopo="__NZL__",g.prototype.omnTopo="__OMN__",g.prototype.pakTopo="__PAK__",g.prototype.panTopo="__PAN__",g.prototype.pcnTopo="__PCN__",g.prototype.perTopo="__PER__",g.prototype.pgaTopo="__PGA__",g.prototype.phlTopo="__PHL__",g.prototype.plwTopo="__PLW__",g.prototype.pngTopo="__PNG__",g.prototype.polTopo="__POL__",g.prototype.priTopo="__PRI__",g.prototype.prkTopo="__PRK__",g.prototype.prtTopo="__PRT__",g.prototype.pryTopo="__PRY__",g.prototype.pyfTopo="__PYF__",g.prototype.qatTopo="__QAT__",g.prototype.rouTopo="__ROU__",g.prototype.rusTopo="__RUS__",g.prototype.rwaTopo="__RWA__",g.prototype.sahTopo="__SAH__",g.prototype.sauTopo="__SAU__",g.prototype.scrTopo="__SCR__",g.prototype.sdnTopo="__SDN__",g.prototype.sdsTopo="__SDS__",g.prototype.senTopo="__SEN__",g.prototype.serTopo="__SER__",g.prototype.sgpTopo="__SGP__",g.prototype.sgsTopo="__SGS__",g.prototype.shnTopo="__SHN__",g.prototype.slbTopo="__SLB__",g.prototype.sleTopo="__SLE__",g.prototype.slvTopo="__SLV__",g.prototype.smrTopo="__SMR__",g.prototype.solTopo="__SOL__",g.prototype.somTopo="__SOM__",g.prototype.spmTopo="__SPM__",g.prototype.srbTopo="__SRB__",g.prototype.stpTopo="__STP__",g.prototype.surTopo="__SUR__",g.prototype.svkTopo="__SVK__",g.prototype.svnTopo="__SVN__",g.prototype.sweTopo="__SWE__",g.prototype.swzTopo="__SWZ__",g.prototype.sxmTopo="__SXM__",g.prototype.sycTopo="__SYC__",g.prototype.syrTopo="__SYR__",g.prototype.tcaTopo="__TCA__",g.prototype.tcdTopo="__TCD__",g.prototype.tgoTopo="__TGO__",g.prototype.thaTopo="__THA__",g.prototype.tjkTopo="__TJK__",g.prototype.tkmTopo="__TKM__",g.prototype.tlsTopo="__TLS__",g.prototype.tonTopo="__TON__",g.prototype.ttoTopo="__TTO__",g.prototype.tunTopo="__TUN__",g.prototype.turTopo="__TUR__",g.prototype.tuvTopo="__TUV__",g.prototype.twnTopo="__TWN__",g.prototype.tzaTopo="__TZA__",g.prototype.ugaTopo="__UGA__",g.prototype.ukrTopo="__UKR__",g.prototype.umiTopo="__UMI__",g.prototype.uryTopo="__URY__",g.prototype.usaTopo="__USA__",g.prototype.usgTopo="__USG__",g.prototype.uzbTopo="__UZB__",g.prototype.vatTopo="__VAT__",g.prototype.vctTopo="__VCT__",g.prototype.venTopo="__VEN__",g.prototype.vgbTopo="__VGB__",g.prototype.virTopo="__VIR__",g.prototype.vnmTopo="__VNM__",g.prototype.vutTopo="__VUT__",g.prototype.wlfTopo="__WLF__",g.prototype.wsbTopo="__WSB__",g.prototype.wsmTopo="__WSM__",g.prototype.yemTopo="__YEM__",g.prototype.zafTopo="__ZAF__",g.prototype.zmbTopo="__ZMB__",g.prototype.zweTopo="__ZWE__",g.prototype.latLngToXY=function(t,e){return this.projection([e,t])},g.prototype.addLayer=function(t,e,n){var i;return i=n?this.svg.insert("g",":first-child"):this.svg.append("g"),i.attr("id",e||"").attr("class",t||"")},g.prototype.updateChoropleth=function(t,e){var n=this.svg;e&&e.reset===!0&&n.selectAll(".datamaps-subunit").attr("data-info",function(){return"{}"}).transition().style("fill",this.options.fills.defaultFill);for(var i in t)if(t.hasOwnProperty(i)){var r,o=t[i];if(!i)continue;if(r="string"==typeof o?o:"string"==typeof o.color?o.color:"string"==typeof o.fillColor?o.fillColor:this.options.fills[o.fillKey],o===Object(o)){this.options.data[i]=p(o,this.options.data[i]||{});this.svg.select("."+i).attr("data-info",JSON.stringify(this.options.data[i]))}n.selectAll("."+i).transition().style("fill",r)}},g.prototype.updatePopup=function(t,e,n){var i=this;t.on("mousemove",null),t.on("mousemove",function(){var r=m.mouse(i.options.element),o=$(i.options.element).parents(".stage")[0],s=1;o&&(s=o.offsetWidth/o.getBoundingClientRect().width),m.select(i.svg[0][0].parentNode).select(".datamaps-hoverover").style("top",r[1]*s+30+"px").html(function(){var i=JSON.parse(t.attr("data-info"));try{return n.popupTemplate(e,i)}catch(r){return""}}).style("left",r[0]*s+"px")}),m.select(i.svg[0][0].parentNode).select(".datamaps-hoverover").style("display","block")},g.prototype.addPlugin=function(t,e){var n=this;"undefined"==typeof g.prototype[t]&&(g.prototype[t]=function(i,r,o,s){var a;"undefined"==typeof s&&(s=!1),"function"==typeof r&&(o=r,r=void 0),r=p(r||{},n.options[t+"Config"]),!s&&this.options[t+"Layer"]?(a=this.options[t+"Layer"],r=r||this.options[t+"Options"]):(a=this.addLayer(t),this.options[t+"Layer"]=a,this.options[t+"Options"]=r),e.apply(this,[a,i,r]),o&&o(a)})},"object"==typeof n?(m=t("d3"),v=t("topojson"),e.exports=g):"function"==typeof define&&define.amd?define("datamaps",["require","d3","topojson"],function(t){return m=t("d3"),v=t("topojson"),g}):window.Datamap=window.Datamaps=g,window.jQuery&&(window.jQuery.fn.datamaps=function(t,e){t=t||{},t.element=this[0];var n=new g(t);return"function"==typeof e&&e(n,t),this})}()},{d3:"d3",topojson:"topojson"}],"handsontable.full":[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,r.Handsontable=t()}}(function(){var e;return function n(e,i,r){function o(l,u){if(!i[l]){if(!e[l]){var c="function"==typeof t&&t;if(!u&&c)return c(l,!0);if(s)return s(l,!0);if(a[l]&&"undefined"!=typeof window[a[l]])return window[a[l]];var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};e[l][0].call(d.exports,function(t){var n=e[l][1][t];return o(n?n:t)},d,d.exports,n,e,i,r)}return i[l].exports}for(var s="function"==typeof t&&t,a=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}')||{},l=0;l<r.length;l++)o(r[l]);return o}({1:[function(t,e,n){window.jQuery&&!function(t){t.fn.handsontable=function(t){var e,n,i,r,o,s=this.first(),a=s.data("handsontable");if("string"!=typeof t)return o=t||{},a?a.updateSettings(o):(a=new Handsontable.Core(s[0],o),s.data("handsontable",a),a.init()),s;if(i=[],arguments.length>1)for(e=1,n=arguments.length;n>e;e++)i.push(arguments[e]);if(a){if("undefined"==typeof a[t])throw new Error("Handsontable do not provide action: "+t);r=a[t].apply(a,i),"destroy"===t&&s.removeData()}return r}}(window.jQuery)},{}],2:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableBorder:{get:function(){return b}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.getComputedStyle,h=u.getTrimmingContainer,d=u.innerWidth,f=u.innerHeight,p=u.offset,g=u.outerHeight,m=u.outerWidth,v=(r=t("helpers/dom/event"),r&&r.__esModule&&r||{"default":r}).stopImmediatePropagation,y=(o=t("helpers/browser"),o&&o.__esModule&&o||{"default":o}).isMobileBrowser,w=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).EventManager,_=(a=t("cell/coords"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,b=((l=t("overlay/_base.js"),l&&l.__esModule&&l||{"default":l}).WalkontableOverlay,function(t,e){e&&(this.eventManager=new w(t),this.instance=t,this.wot=t,this.settings=e,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(e),this.registerListeners())});$traceurRuntime.createClass(b,{registerListeners:function(){var t=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return t.onMouseUp()});for(var e=this,n=function(n,i){e.eventManager.addEventListener(e.main.childNodes[n],"mouseenter",function(e){return t.onMouseEnter(e,t.main.childNodes[n])})},i=0,r=this.main.childNodes.length;r>i;i++)n(i,r)},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onMouseEnter:function(t,e){function n(t){return t.clientY<Math.floor(o.top)?!0:t.clientY>Math.ceil(o.top+o.height)?!0:t.clientX<Math.floor(o.left)?!0:t.clientX>Math.ceil(o.left+o.width)?!0:void 0}function i(t){n(t)&&(r.eventManager.removeEventListener(document.body,"mousemove",i),e.style.display="block")}if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),v(t);var r=this,o=e.getBoundingClientRect();e.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",i)}},createBorders:function(t){this.main=document.createElement("div");var e=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var i=0;5>i;i++){var r=e[i],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[r]&&this.settings[r].hide&&(o.className+=" hidden"),n=o.style,n.backgroundColor=this.settings[r]&&this.settings[r].color?this.settings[r].color:t.border.color,n.height=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":t.border.width+"px",n.width=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":t.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),y()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)},createMultipleSelectorHandles:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var i in n)n.hasOwnProperty(i)&&(this.selectionHandles.styles.bottomRightHitArea[i]=n[i],this.selectionHandles.styles.topLeftHitArea[i]=n[i]);var r={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var o in r)r.hasOwnProperty(o)&&(this.selectionHandles.styles.bottomRight[o]=r[o],this.selectionHandles.styles.topLeft[o]=r[o]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)},isPartRange:function(t,e){return this.wot.selections.area.cellRange&&(t!=this.wot.selections.area.cellRange.to.row||e!=this.wot.selections.area.cellRange.to.col)},updateMultipleSelectionHandlesPosition:function(t,e,n,i,r,o){var s=parseInt(this.selectionHandles.styles.topLeft.width,10),a=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-s,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(i-s,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-a/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(i-a/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(i+r,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+o-a/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(i+r-a/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,e)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t==this.wot.wtSettings.getSetting("fixedRowsTop")||e==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")},appear:function(t){if(!this.disabled){var e,n,i,r,o,s,a,l,u,v,w,b,C,T,x,S,E,R,M;M=this.wot.wtTable.getRenderedRowsCount();for(var k=0;M>k;k++){var O=this.wot.wtTable.rowFilter.renderedToSource(k);if(O>=t[0]&&O<=t[2]){C=O;break}}for(var A=M-1;A>=0;A--){var N=this.wot.wtTable.rowFilter.renderedToSource(A);if(N>=t[0]&&N<=t[2]){x=N;break}}M=this.wot.wtTable.getRenderedColumnsCount();for(var P=0;M>P;P++){var D=this.wot.wtTable.columnFilter.renderedToSource(P);if(D>=t[1]&&D<=t[3]){T=D;break}}for(var L=M-1;L>=0;L--){var H=this.wot.wtTable.columnFilter.renderedToSource(L);if(H>=t[1]&&H<=t[3]){S=H;break}}if(void 0===C||void 0===T)return void this.disappear();e=C!==x||T!==S,n=this.wot.wtTable.getCell(new _(C,T)),i=e?this.wot.wtTable.getCell(new _(x,S)):n,r=p(n),o=e?p(i):r,s=p(this.wot.wtTable.TABLE),l=r.top,w=o.top+g(i)-l,v=r.left,b=o.left+m(i)-v,a=l-s.top-1,u=v-s.left-1;var I=c(n);parseInt(I.borderTopWidth,10)>0&&(a+=1,w=w>0?w-1:0),parseInt(I.borderLeftWidth,10)>0&&(u+=1,b=b>0?b-1:0),this.topStyle.top=a+"px",this.topStyle.left=u+"px",this.topStyle.width=b+"px",this.topStyle.display="block",this.leftStyle.top=a+"px",this.leftStyle.left=u+"px",this.leftStyle.height=w+"px",this.leftStyle.display="block";var F=Math.floor(this.settings.border.width/2);this.bottomStyle.top=a+w-F+"px",this.bottomStyle.left=u+"px",this.bottomStyle.width=b+"px",this.bottomStyle.display="block",this.rightStyle.top=a+"px",this.rightStyle.left=u+b-F+"px",this.rightStyle.height=w+1+"px",this.rightStyle.display="block",y()||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(x,S)?this.cornerStyle.display="none":(this.cornerStyle.top=a+w-4+"px",this.cornerStyle.left=u+b-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",E=h(this.wot.wtTable.TABLE),S===this.wot.getSetting("totalColumns")-1&&(R=i.offsetLeft+m(i)>=d(E),R&&(this.cornerStyle.left=Math.floor(u+b-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)),x===this.wot.getSetting("totalRows")-1&&(R=i.offsetTop+g(i)>=f(E),R&&(this.cornerStyle.top=Math.floor(a+w-3-parseInt(this.cornerDefaultStyle.height)/2)+"px",this.cornerStyle.borderBottomWidth=0))),y()&&this.updateMultipleSelectionHandlesPosition(C,T,a,u,b,w)}},disappear:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",y()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},hasSetting:function(t){return"function"==typeof t?t():!!t}},{}),window.WalkontableBorder=b},{"cell/coords":5,eventManager:41,"helpers/browser":43,"helpers/dom/element":46,"helpers/dom/event":47,"overlay/_base.js":11}],3:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportColumnsCalculator:{get:function(){return r}},__esModule:{value:!0}});var i=new WeakMap,r=function(t,e,n,r,o,s,a){var l=void 0!==arguments[7]?arguments[7]:function(t){return t};i.set(this,{viewportWidth:t,scrollOffset:e,totalColumns:n,columnWidthFn:r,overrideFn:o,onlyFullyVisible:s,stretchingColumnWidthFn:l}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=a,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},o=r;$traceurRuntime.createClass(r,{calculate:function(){for(var t,e=0,n=!0,r=[],o=i.get(this),s=o.onlyFullyVisible,a=o.overrideFn,l=o.scrollOffset,u=o.totalColumns,c=o.viewportWidth,h=0;u>h;h++)if(t=this._getColumnWidth(h),l>=e&&!s&&(this.startColumn=h),e>=l&&l+c>=e+t&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),r.push(e),e+=t,s||(this.endColumn=h),e>=l+c){n=!1;break}if(this.endColumn===u-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=r[this.endColumn]+t-r[this.startColumn-1];if((c>=d||!s)&&this.startColumn--,d>c)break}null!==this.startColumn&&a&&a(this),this.startPosition=r[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(t){if("none"!==this.stretch){this.totalTargetWidth=t;for(var e=i.get(this),n=e.totalColumns,r=0,o=0;n>o;o++){var s=this._getColumnWidth(o),a=e.stretchingColumnWidthFn(void 0,o);"number"==typeof a?t-=a:r+=s}var l=t-r;if("all"===this.stretch&&l>0)this.stretchAllRatio=t/r,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&t!==1/0){var u=this._getColumnWidth(n-1),c=l+u;this.stretchLastWidth=c>=0?c:u}}},getStretchedColumnWidth:function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n},_getStretchedAllColumnWidth:function(t,e){var n=0,r=i.get(this),o=r.totalColumns;if(!this.stretchAllColumnsWidth[t]){var s=Math.round(e*this.stretchAllRatio),a=r.stretchingColumnWidthFn(s,t);void 0===a?this.stretchAllColumnsWidth[t]=s:this.stretchAllColumnsWidth[t]=isNaN(a)?this._getColumnWidth(t):a}if(this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var l=0;l<this.stretchAllColumnsWidth.length;l++)n+=this.stretchAllColumnsWidth[l];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[t]},_getStretchedLastColumnWidth:function(t){var e=i.get(this),n=e.totalColumns;return t===n-1?this.stretchLastWidth:null},_getColumnWidth:function(t){var e=i.get(this).columnWidthFn(t);return void 0===e&&(e=o.DEFAULT_WIDTH),e}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=r},{}],4:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportRowsCalculator:{get:function(){return r}},__esModule:{value:!0}});var i=new WeakMap,r=function(t,e,n,r,o,s,a){i.set(this,{viewportHeight:t,scrollOffset:e,totalRows:n,rowHeightFn:r,overrideFn:o,onlyFullyVisible:s,horizontalScrollbarHeight:a}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},o=r;$traceurRuntime.createClass(r,{calculate:function(){for(var t=0,e=!0,n=[],r=i.get(this),s=r.onlyFullyVisible,a=r.overrideFn,l=r.rowHeightFn,u=r.scrollOffset,c=r.totalRows,h=r.viewportHeight,d=r.horizontalScrollbarHeight||0,f=0;c>f;f++){var p=l(f);if(void 0===p&&(p=o.DEFAULT_HEIGHT),u>=t&&!s&&(this.startRow=f),t>=u&&u+h-d>=t+p&&(null===this.startRow&&(this.startRow=f),this.endRow=f),n.push(t),t+=p,s||(this.endRow=f),t>=u+h-d){e=!1;break}}if(this.endRow===c-1&&e)for(this.startRow=this.endRow;this.startRow>0;){var g=n[this.endRow]+p-n[this.startRow-1];if((h-d>=g||!s)&&this.startRow--,g>=h-d)break}null!==this.startRow&&a&&a(this),this.startPosition=n[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=r},{}],5:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellCoords:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)};$traceurRuntime.createClass(i,{isValid:function(t){return this.row<0||this.col<0?!1:!(this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))},isEqual:function(t){return t===this?!0:this.row===t.row&&this.col===t.col},isSouthEastOf:function(t){return this.row>=t.row&&this.col>=t.col},isNorthWestOf:function(t){return this.row<=t.row&&this.col<=t.col},isSouthWestOf:function(t){return this.row>=t.row&&this.col<=t.col},isNorthEastOf:function(t){return this.row<=t.row&&this.col>=t.col}},{}),window.WalkontableCellCoords=i},{}],6:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellRange:{get:function(){return o}},__esModule:{value:!0}});var i,r=(i=t("cell/coords"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords,o=function(t,e,n){this.highlight=t,this.from=e,this.to=n},s=o;$traceurRuntime.createClass(o,{isValid:function(t){return this.from.isValid(t)&&this.to.isValid(t)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(t){var e=t,n=e.row,i=e.col,r=this.getTopLeftCorner(),o=this.getBottomRightCorner();return r.row<=n&&o.row>=n&&r.col<=i&&o.col>=i},includesRange:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},isEqual:function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},overlaps:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},isNorthWestOf:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},expand:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col?(this.from=new r(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new r(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0):!1},expandByRange:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),o=t.getBottomRightCorner(),a=Math.min(e.row,i.row),l=Math.min(e.col,i.col),u=Math.max(n.row,o.row),c=Math.max(n.col,o.col),h=new r(a,l),d=new r(u,c),f=new s(h,h,d).isCorner(this.from,t),p=t.isEqual(new s(h,h,d));return f&&!p&&(this.from.col>h.col&&(h.col=c,d.col=l),this.from.row>h.row&&(h.row=u,d.row=a)),this.from=h,this.to=d,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},setDirection:function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},getTopLeftCorner:function(){return new r(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new r(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col));
},getTopRightCorner:function(){return new r(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new r(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new r(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new r(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new r(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new r(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},getOppositeCorner:function(t,e){if(!(t instanceof r))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new r(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new r(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new r(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new r(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},i=[];return e.top==n.top&&i.push("top"),e.right==n.right&&i.push("right"),e.bottom==n.bottom&&i.push("bottom"),e.left==n.left&&i.push("left"),i},getInner:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],i=t.row;i<=e.row;i++)for(var o=t.col;o<=e.col;o++)this.from.row===i&&this.from.col===o||this.to.row===i&&this.to.col===o||n.push(new r(i,o));return n},getAll:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],i=t.row;i<=e.row;i++)for(var o=t.col;o<=e.col;o++)t.row===i&&t.col===o?n.push(t):e.row===i&&e.col===o?n.push(e):n.push(new r(i,o));return n},forAll:function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=e.row;i<=n.row;i++)for(var r=e.col;r<=n.col;r++){var o=t(i,r);if(o===!1)return}}},{}),window.WalkontableCellRange=o},{"cell/coords":5}],7:[function(t,e,n){"use strict";Object.defineProperties(n,{Walkontable:{get:function(){return N}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,f,p,g,m,v=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),y=v.addClass,w=v.fastInnerText,_=v.isVisible,b=v.removeClass,C=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}).objectEach,T=(o=t("helpers/string"),o&&o.__esModule&&o||{"default":o}),x=T.toUpperCaseFirst,S=T.randomString,E=(s=t("event"),s&&s.__esModule&&s||{"default":s}).WalkontableEvent,R=(a=t("overlays"),a&&a.__esModule&&a||{"default":a}).WalkontableOverlays,M=(l=t("scroll"),l&&l.__esModule&&l||{"default":l}).WalkontableScroll,k=(u=t("settings"),u&&u.__esModule&&u||{"default":u}).WalkontableSettings,O=(c=t("table"),c&&c.__esModule&&c||{"default":c}).WalkontableTable,A=(h=t("viewport"),h&&h.__esModule&&h||{"default":h}).WalkontableViewport,N=((d=t("overlay/_base.js"),d&&d.__esModule&&d||{"default":d}).WalkontableOverlay,(f=t("overlay/top.js"),f&&f.__esModule&&f||{"default":f}).WalkontableTopOverlay,(p=t("overlay/left.js"),p&&p.__esModule&&p||{"default":p}).WalkontableLeftOverlay,(g=t("overlay/debug.js"),g&&g.__esModule&&g||{"default":g}).WalkontableDebugOverlay,(m=t("overlay/topLeftCorner.js"),m&&m.__esModule&&m||{"default":m}).WalkontableTopLeftCornerOverlay,function(t){var e=[];if(this.guid="wt_"+S(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new O(this,t.table,t.wtRootElement),this.wtScroll=new M(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new E(this),this.selections=this.cloneSource.selections):(this.wtSettings=new k(this,t),this.wtTable=new O(this,t.table),this.wtScroll=new M(this),this.wtViewport=new A(this),this.wtEvent=new E(this),this.selections=this.getSetting("selections"),this.wtOverlays=new R(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;i>n;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,n){w(n,e[t])}])}this.drawn=!1,this.drawInterrupted=!1});$traceurRuntime.createClass(N,{draw:function(){var t=void 0!==arguments[0]?arguments[0]:!1;return this.drawInterrupted=!1,t||_(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this},getCell:function(t){var e=void 0!==arguments[1]?arguments[1]:!1;if(!e)return this.wtTable.getCell(t);var n=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),r=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsLeft");if(t.row<i&&t.col<o)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t);if(t.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<o&&t.row>=n-r){if(this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<o)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(t);if(t.row<n&&t.row>n-r&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)},update:function(t,e){return this.wtSettings.update(t,e)},scrollVertical:function(t){return this.wtOverlays.topOverlay.scrollTo(t),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(t){return this.wtOverlays.leftOverlay.scrollTo(t),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(t){return this.wtScroll.scrollViewport(t),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},isOverlayName:function(t){return this.cloneOverlay?this.cloneOverlay.type===t:!1},exportSettingsAsClassNames:function(){var t=this,e={rowHeaders:["array"],columnHeaders:["array"]},n=[],i=[];C(e,function(e,r){e.indexOf("array")>-1&&t.getSetting(r).length&&i.push("ht"+x(r)),n.push("ht"+x(r))}),b(this.wtTable.wtRootElement.parentNode,n),y(this.wtTable.wtRootElement.parentNode,i)},getSetting:function(t,e,n,i,r){return this.wtSettings.getSetting(t,e,n,i,r)},hasSetting:function(t){return this.wtSettings.has(t)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{}),window.Walkontable=N},{event:8,"helpers/dom/element":46,"helpers/object":52,"helpers/string":54,"overlay/_base.js":11,"overlay/debug.js":12,"overlay/left.js":13,"overlay/top.js":14,"overlay/topLeftCorner.js":15,overlays:16,scroll:17,settings:19,table:20,viewport:22}],8:[function(t,e,n){"use strict";function i(t){var e=this,n=d(t);this.instance=t;var i=[null,null];this.dblClickTimeout=[null,null];var r,o=function(t){var n=e.parentCell(t.realTarget);u(t.realTarget,"corner")?e.instance.getSetting("onCellCornerMouseDown",t,t.realTarget):n.TD&&e.instance.hasSetting("onCellMouseDown")&&e.instance.getSetting("onCellMouseDown",t,n.coords,n.TD,e.instance),2!==t.button&&n.TD&&(i[0]=n.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){i[0]=null},1e3))},s=function(t){e.instance.touchMoving=!0},a=function(t){n.addEventListener(this,"touchmove",s),e.checkIfTouchMove=setTimeout(function(){return e.instance.touchMoving===!0?(e.instance.touchMoving=void 0,void n.removeEventListener("touchmove",s,!1)):void o(t)},30)},f=function(t){var n,i,r;e.instance.hasSetting("onCellMouseOver")&&(n=e.instance.wtTable.TABLE,i=l(t.realTarget,["TD","TH"],n),r=e.instance.cloneSource||e.instance,i&&i!==r.lastMouseOver&&c(i,n)&&(r.lastMouseOver=i,e.instance.getSetting("onCellMouseOver",t,e.instance.wtTable.getCoords(i),i,e.instance)))},p=function(t){if(2!==t.button){var n=e.parentCell(t.realTarget);n.TD===i[0]&&n.TD===i[1]?(u(t.realTarget,"corner")?e.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,e.instance):e.instance.getSetting("onCellDblClick",t,n.coords,n.TD,e.instance),i[0]=null,i[1]=null):n.TD===i[0]&&(i[1]=n.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){i[1]=null},500))}},g=function(t){clearTimeout(r),t.preventDefault(),p(t)};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",o),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",f),n.addEventListener(this.instance.wtTable.holder,"mouseup",p),this.instance.wtTable.holder.parentNode.parentNode&&h()&&!e.instance.wtTable.isWorkingOnClone()){var m="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(t){e.instance.touchApplied=!0,c(t.target,m)&&a.call(t.target,t)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(t){e.instance.touchApplied=!1,c(t.target,m)&&g.call(t.target,t)}),e.instance.momentumScrolling||(e.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(t){clearTimeout(e.instance.momentumScrolling._timeout),e.instance.momentumScrolling.ongoing||e.instance.getSetting("onBeforeTouchScroll"),e.instance.momentumScrolling.ongoing=!0,e.instance.momentumScrolling._timeout=setTimeout(function(){e.instance.touchApplied||(e.instance.momentumScrolling.ongoing=!1,e.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==e.instance.getSetting("stretchH")&&e.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}Object.defineProperties(n,{WalkontableEvent:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=a.closest,u=a.hasClass,c=a.isChildOf,h=(o=t("helpers/browser"),o&&o.__esModule&&o||{"default":o}).isMobileBrowser,d=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).eventManager;i.prototype.parentCell=function(t){var e={},n=this.instance.wtTable.TABLE,i=l(t,["TD","TH"],n),r=l(i,["TABLE"]);return i&&c(i,n)&&r==n?(e.coords=this.instance.wtTable.getCoords(i),e.TD=i):u(t,"wtBorder")&&u(t,"current")?(e.coords=this.instance.selections.current.cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):u(t,"wtBorder")&&u(t,"area")&&this.instance.selections.area.cellRange&&(e.coords=this.instance.selections.area.cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e},window.WalkontableEvent=i},{eventManager:41,"helpers/browser":43,"helpers/dom/element":46}],9:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableColumnFilter:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(i,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleRowHeadedColumnToSourceColumn:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceColumnToVisibleRowHeadedColumn:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableColumnFilter=i},{}],10:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableRowFilter:{get:function(){return i}},__esModule:{value:!0}});var i=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(i,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleColHeadedRowToSourceRow:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceRowToVisibleColHeadedRow:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableRowFilter=i},{}],11:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlay:{get:function(){return d}},__esModule:{value:!0}});var i,r,o,s=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),a=s.getScrollableElement,l=s.getTrimmingContainer,u=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}).defineGetter,c=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,h={},d=function(t){u(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=l(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.areElementSizesAdjusted=!1},f=d;$traceurRuntime.createClass(d,{shouldBeRendered:function(){return!0},updateTrimmingContainer:function(){this.trimmingContainer=l(this.hider.parentNode.parentNode)},updateMainScrollableElement:function(){this.mainTableScrollableElement=a(this.wot.wtTable.TABLE)},makeClone:function(t){if(-1===f.CLONE_TYPES.indexOf(t))throw new Error('Clone type "'+t+'" is not supported.');var e=document.createElement("DIV"),n=document.createElement("TABLE");e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden",n.className=this.wot.wtTable.TABLE.className,e.appendChild(n),this.type=t,this.wot.wtTable.wtRootElement.parentNode.appendChild(e);var i=this.wot.getSetting("preventOverflow");return i===!0||"horizontal"===i&&this.type===f.CLONE_TOP||"vertical"===i&&this.type===f.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=a(this.wot.wtTable.TABLE),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:n})},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e},destroy:function(){c(this.clone).destroy()}},{get CLONE_TOP(){return"top"},get CLONE_BOTTOM(){return"bottom"},get CLONE_LEFT(){return"left"},get CLONE_TOP_LEFT_CORNER(){return"top_left_corner"},get CLONE_BOTTOM_LEFT_CORNER(){return"bottom_left_corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[f.CLONE_TOP,f.CLONE_BOTTOM,f.CLONE_LEFT,f.CLONE_TOP_LEFT_CORNER,f.CLONE_BOTTOM_LEFT_CORNER,f.CLONE_DEBUG]},registerOverlay:function(t,e){if(-1===f.CLONE_TYPES.indexOf(t))throw new Error("Unsupported overlay ("+t+").");h[t]=e},createOverlay:function(t,e){return new h[t](e)},isOverlayTypeOf:function(t,e){return t&&h[e]?t instanceof h[e]:!1}}),window.WalkontableOverlay=d},{eventManager:41,"helpers/dom/element":46,"helpers/object":52}],12:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableDebugOverlay:{get:function(){return a}},__esModule:{value:!0}});var i,r,o=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).addClass,s=(r=t("_base"),r&&r.__esModule&&r||{"default":r}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(s.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",o(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},l=a;$traceurRuntime.createClass(a,{},{},s),window.WalkontableDebugOverlay=a,s.registerOverlay(s.CLONE_DEBUG,a)},{_base:11,"helpers/dom/element":46}],13:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableLeftOverlay:{get:function(){return v}},__esModule:{value:!0}});var i,r,o=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=o.addClass,a=o.getScrollbarWidth,l=o.getScrollLeft,u=o.getWindowScrollTop,c=o.hasClass,h=o.outerWidth,d=o.innerHeight,f=o.removeClass,p=o.setOverlayPosition,g=o.resetCssTransform,m=(r=t("_base"),r&&r.__esModule&&r||{"default":r}).WalkontableOverlay,v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.clone=this.makeClone(m.CLONE_LEFT)},y=v;$traceurRuntime.createClass(v,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"horizontal"===n)e=this.getScrollPosition(),g(t);else{var i,r,o=this.wot.wtTable.hider.getBoundingClientRect(),s=Math.ceil(o.left),a=Math.ceil(o.right);r=this.wot.wtTable.hider.style.top,r=""===r?0:r,i=0>s&&a-t.offsetWidth>0?-s:0,e=i,i+="px",p(t,i,r)}this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(t,u()):this.mainTableScrollableElement.scrollLeft=t},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(t,e){for(var n=0,i=this.wot.wtSettings.defaultColumnWidth;e>t;)n+=this.wot.wtTable.getStretchedColumnWidth(t)||i,t++;return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientHeight===e.offsetHeight?0:a(),i=this.clone.wtTable.holder.parentNode,r=i.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===o){var s=this.wot.wtViewport.getWorkspaceHeight()-n;s=Math.min(s,d(this.wot.wtTable.wtRootElement)),r.height=s+"px"}else r.height="";this.clone.wtTable.holder.style.height=r.height,t=h(this.clone.wtTable.TABLE),r.width=(0===t?t:t+4)+"px"},adjustRootChildrenSize:function(){var t=a();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""},scrollTo:function(t,e){var n=this.getTableParentOffset(),i=this.wot.cloneSource?this.wot.cloneSource:this.wot,r=i.wtTable.holder,o=0;e&&r.offsetWidth!==r.clientWidth&&(o=a()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){var t=this.wot.getSetting("preventOverflow"),e=0;return t||this.trimmingContainer!==window||(e=this.wot.wtTable.holderOffset.left),e},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){var e=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),i=this.wot.getSetting("fixedColumnsLeft");if(i&&!n.length)s(e,"innerBorderLeft");else if(!i&&n.length){var r=c(e,"innerBorderLeft");t?s(e,"innerBorderLeft"):f(e,"innerBorderLeft"),(!r&&t||r&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}},{},m),window.WalkontableLeftOverlay=v,m.registerOverlay(m.CLONE_LEFT,v)},{_base:11,"helpers/dom/element":46}],14:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTopOverlay:{get:function(){return v}},__esModule:{value:!0}});var i,r,o=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=o.addClass,a=o.getScrollbarWidth,l=o.getScrollTop,u=o.getWindowScrollLeft,c=o.hasClass,h=o.outerHeight,d=o.innerWidth,f=o.removeClass,p=o.setOverlayPosition,g=o.resetCssTransform,m=(r=t("_base"),r&&r.__esModule&&r||{"default":r}).WalkontableOverlay,v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.clone=this.makeClone(m.CLONE_TOP)},y=v;$traceurRuntime.createClass(v,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"vertical"===n)e=this.getScrollPosition(),g(t);else{var i,r,o=this.wot.wtTable.hider.getBoundingClientRect(),s=Math.ceil(o.top),a=Math.ceil(o.bottom);i=this.wot.wtTable.hider.style.left,i=""===i?0:i,r=0>s&&a-t.offsetHeight>0?-s:0,e=r,r+="px",p(t,i,r)}this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(u(),t):this.mainTableScrollableElement.scrollTop=t},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(t,e){for(var n=0,i=this.wot.wtSettings.settings.defaultRowHeight;e>t;){var r=this.wot.wtTable.getRowHeight(t);n+=void 0===r?i:r,t++}return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientWidth===e.offsetWidth?0:a(),i=this.clone.wtTable.holder.parentNode,r=i.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===o){var s=this.wot.wtViewport.getWorkspaceWidth()-n;s=Math.min(s,d(this.wot.wtTable.wtRootElement)),r.width=s+"px"}else r.width="";this.clone.wtTable.holder.style.width=r.width,t=h(this.clone.wtTable.TABLE),r.height=(0===t?t:t+4)+"px"},adjustRootChildrenSize:function(){var t=a();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""},scrollTo:function(t,e){var n=this.getTableParentOffset(),i=this.wot.cloneSource?this.wot.cloneSource:this.wot,r=i.wtTable.holder,o=0;if(e&&r.offsetHeight!==r.clientHeight&&(o=a()),e){var s=this.wot.getSetting("fixedRowsBottom"),l=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(l-s,l),n+=1}else n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t);n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){if(0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,n=c(e,"innerBorderTop");t||0===this.wot.getSetting("totalRows")?s(e,"innerBorderTop"):f(e,"innerBorderTop"),(!n&&t||n&&!t)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var i=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(i)for(var r=0;r<i.length;r++)i[r].style["border-left-width"]=0}}},{},m),window.WalkontableTopOverlay=v,m.registerOverlay(m.CLONE_TOP,v)},{_base:11,"helpers/dom/element":46}],15:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTopLeftCornerOverlay:{get:function(){return h}},__esModule:{value:!0}});var i,r,o=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=o.outerHeight,a=o.outerWidth,l=o.setOverlayPosition,u=o.resetCssTransform,c=(r=t("_base"),r&&r.__esModule&&r||{"default":r}).WalkontableOverlay,h=function(t){$traceurRuntime.superConstructor(d).call(this,t),this.clone=this.makeClone(c.CLONE_TOP_LEFT_CORNER)},d=h;$traceurRuntime.createClass(h,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=s(this.clone.wtTable.TABLE),n=a(this.clone.wtTable.TABLE),i=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var r=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(r.top),c=Math.ceil(r.left),h=Math.ceil(r.bottom),d=Math.ceil(r.right),f="0",p="0";i&&"vertical"!==i||0>c&&d-t.offsetWidth>0&&(f=-c+"px"),i&&"horizontal"!==i||0>o&&h-t.offsetHeight>0&&(p=-o+"px"),l(t,f,p)}else u(t);t.style.height=(0===e?e:e+4)+"px",t.style.width=(0===n?n:n+4)+"px"}}},{},c),window.WalkontableTopLeftCornerOverlay=h,c.registerOverlay(c.CLONE_TOP_LEFT_CORNER,h)},{_base:11,"helpers/dom/element":46}],16:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlays:{get:function(){return v}},__esModule:{value:!0}});var i,r,o,s,a,l=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.getScrollableElement,c=l.getScrollbarWidth,h=l.getScrollLeft,d=l.getScrollTop,f=(r=t("helpers/array"),r&&r.__esModule&&r||{"default":r}).arrayEach,p=(o=t("helpers/unicode"),o&&o.__esModule&&o||{"default":o}).isKey,g=(s=t("helpers/browser"),s&&s.__esModule&&s||{"default":s}).isMobileBrowser,m=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,v=function(t){this.wot=t,this.instance=this.wot,this.eventManager=new m(this.wot),this.wot.update("scrollbarWidth",c()),this.wot.update("scrollbarHeight",c()),this.scrollableElement=u(this.wot.wtTable.TABLE),this.topOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP,this.wot),"undefined"==typeof WalkontableBottomOverlay?this.bottomOverlay={needFullRender:!1}:this.bottomOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM,this.wot),this.leftOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&"undefined"!=typeof WalkontableBottomLeftCornerOverlay?this.bottomLeftCornerOverlay=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER,this.wot):this.bottomLeftCornerOverlay={needFullRender:!1},this.wot.getSetting("debug")&&(this.debug=WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_DEBUG,this.wot)),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.registerListeners()};$traceurRuntime.createClass(v,{refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}},registerListeners:function(){var t=this,e=this.topOverlay.mainTableScrollableElement,n=this.leftOverlay.mainTableScrollableElement,i=[];for(i.push([document.documentElement,"keydown",function(e){return t.onKeyDown(e)}]),i.push([document.documentElement,"keyup",function(){return t.onKeyUp()}]),i.push([document,"visibilitychange",function(){return t.onKeyUp()}]),i.push([e,"scroll",function(e){return t.onTableScroll(e)}]),e!==n&&i.push([n,"scroll",function(e){return t.onTableScroll(e)}]),this.topOverlay.needFullRender&&(i.push([this.topOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),i.push([this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.bottomOverlay.needFullRender&&(i.push([this.bottomOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),i.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.leftOverlay.needFullRender&&(i.push([this.leftOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),i.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&i.push([window,"wheel",function(e){var n,i=e.wheelDeltaY||e.deltaY,r=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.realTarget)?n="top":t.bottomOverlay.clone&&t.bottomOverlay.clone.wtTable.holder.contains(e.realTarget)?n="bottom":t.leftOverlay.clone.wtTable.holder.contains(e.realTarget)&&(n="left"),"top"==n&&0!==i?e.preventDefault():"left"==n&&0!==r?e.preventDefault():"bottom"==n&&0!==i&&e.preventDefault()}]);i.length;){var r=i.pop();this.eventManager.addEventListener(r[0],r[1],r[2]),this.registeredListeners.push(r)}},deregisterListeners:function(){for(;this.registeredListeners.length;){var t=this.registeredListeners.pop();this.eventManager.removeEventListener(t[0],t[1],t[2])}},onTableScroll:function(t){if(!g()){var e=this.leftOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,i=t.target;this.keyPressed&&(n!==window&&i!==window&&!t.target.contains(n)||e!==window&&i!==window&&!t.target.contains(e))||("scroll"===t.type?this.syncScrollPositions(t):this.translateMouseWheelToScroll(t))}},onKeyDown:function(t){this.keyPressed=p(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(t){var e,n=this.topOverlay.clone.wtTable.holder,i=this.bottomOverlay.clone?this.bottomOverlay.clone.wtTable.holder:null,r=this.leftOverlay.clone.wtTable.holder,o={type:"wheel"},s=t.target,a=t.wheelDeltaY||-1*t.deltaY,l=t.wheelDeltaX||-1*t.deltaX;
for(1===t.deltaMode&&(a=120*a,l=120*l);s!=document&&null!=s;){if(s.className.indexOf("wtHolder")>-1){e=s;break}s=s.parentNode}return o.target=e,e==n?this.syncScrollPositions(o,-.2*a):e==i?this.syncScrollPositions(o,-.2*a):e==r&&this.syncScrollPositions(o,-.2*l),!1},syncScrollPositions:function(t){var e=void 0!==arguments[1]?arguments[1]:null;if(!this.destroyed){if(0===arguments.length)return void this.syncScrollWithMaster();var n,i,r,o=this.leftOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,a=t.target,l=0,u=!1,c=!1,f=this.wot.getSetting("preventOverflow");this.topOverlay.needFullRender&&(n=this.topOverlay.clone.wtTable.holder),this.bottomOverlay.needFullRender&&(r=this.bottomOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(i=this.leftOverlay.clone.wtTable.holder),a===document&&(a=window),a===o||a===s?(l=h(f?this.scrollableElement:a),this.horizontalScrolling=!0,this.overlayScrollPositions.master.left=l,u=!0,this.pendingScrollCallbacks.master.left>0?this.pendingScrollCallbacks.master.left--:(n&&n.scrollLeft!==l&&(null==e&&this.pendingScrollCallbacks.top.left++,n.scrollLeft=l,c=o!==window),r&&r.scrollLeft!==l&&(null==e&&this.pendingScrollCallbacks.bottom.left++,r.scrollLeft=l,c=o!==window)),l=d(a),this.verticalScrolling=!0,this.overlayScrollPositions.master.top=l,u=!0,this.pendingScrollCallbacks.master.top>0?this.pendingScrollCallbacks.master.top--:i&&i.scrollTop!==l&&(null==e&&this.pendingScrollCallbacks.left.top++,i.scrollTop=l,c=s!==window)):a===r?(l=h(a),this.horizontalScrolling=!0,this.overlayScrollPositions.bottom.left=l,u=!0,this.pendingScrollCallbacks.bottom.left>0?this.pendingScrollCallbacks.bottom.left--:(null==e&&this.pendingScrollCallbacks.master.left++,o.scrollLeft=l,n&&n.scrollLeft!==l&&(null==e&&this.pendingScrollCallbacks.top.left++,n.scrollLeft=l,c=s!==window)),null!==e&&(u=!0,s.scrollTop+=e)):a===n?(l=h(a),this.horizontalScrolling=!0,this.overlayScrollPositions.top.left=l,u=!0,this.pendingScrollCallbacks.top.left>0?this.pendingScrollCallbacks.top.left--:(null==e&&this.pendingScrollCallbacks.master.left++,o.scrollLeft=l),null!==e&&(u=!0,s.scrollTop+=e),r&&r.scrollLeft!==l&&(null==e&&this.pendingScrollCallbacks.bottom.left++,r.scrollLeft=l,c=s!==window)):a===i&&(l=d(a),this.overlayScrollPositions.left.top!==l&&(this.verticalScrolling=!0,this.overlayScrollPositions.left.top=l,u=!0,this.pendingScrollCallbacks.left.top>0?this.pendingScrollCallbacks.left.top--:(null==e&&this.pendingScrollCallbacks.master.top++,s.scrollTop=l)),null!==e&&(u=!0,s.scrollLeft+=e)),!this.keyPressed&&u&&"scroll"===t.type&&(this.delegatedScrollCallback?this.delegatedScrollCallback=!1:this.refreshAll(),c&&(this.delegatedScrollCallback=!0))}},syncScrollWithMaster:function(){var t=this.topOverlay.mainTableScrollableElement;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t.scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=t.scrollTop)},updateMainScrollableElements:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=u(this.wot.wtTable.TABLE),this.registerListeners()},destroy:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=e.clientWidth,i=e.clientHeight;n===this.spreaderLastSize.width&&i===this.spreaderLastSize.height||(this.spreaderLastSize.width=n,this.spreaderLastSize.height=i,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),i=this.wot.wtViewport.getRowHeaderWidth(),r=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=i+this.leftOverlay.sumCellSizes(0,e)+"px",o.height=r+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(t)},applyToDOM:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()},getParentOverlay:function(t){if(!t)return null;var e=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],n=null;return f(e,function(e,i){e&&e.clone&&e.clone.wtTable.TABLE.contains(t)&&(n=e.clone)}),n}},{}),window.WalkontableOverlays=v},{eventManager:41,"helpers/array":42,"helpers/browser":43,"helpers/dom/element":46,"helpers/unicode":55}],17:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableScroll:{get:function(){return p}},__esModule:{value:!0}});var i,r,o=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=o.innerHeight,a=o.innerWidth,l=o.getScrollLeft,u=o.getScrollTop,c=o.offset,h=(r=t("helpers/number"),r&&r.__esModule&&r||{"default":r}),d=h.rangeEach,f=h.rangeEachReverse,p=function(t){this.wot=t,this.instance=t};$traceurRuntime.createClass(p,{scrollViewport:function(t){if(this.wot.drawn){var e=this._getVariables(),n=e.topOverlay,i=e.leftOverlay,r=e.totalRows,o=e.totalColumns,s=e.fixedRowsTop,a=e.fixedRowsBottom,l=e.fixedColumnsLeft;if(t.row<0||t.row>r-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>o-1)throw new Error("column "+t.col+" does not exist");t.row>=s&&t.row<this.getFirstVisibleRow()?n.scrollTo(t.row):t.row>this.getLastVisibleRow()&&t.row<r-a&&n.scrollTo(t.row,!0),t.col>=l&&t.col<this.getFirstVisibleColumn()?i.scrollTo(t.col):t.col>this.getLastVisibleColumn()&&i.scrollTo(t.col,!0)}},getFirstVisibleRow:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,i=t.wtViewport,r=t.totalRows,o=t.fixedRowsTop,a=n.getFirstVisibleRow();if(e.mainTableScrollableElement===window){var l=c(n.wtRootElement),h=s(n.hider),d=s(window),p=u(window);if(l.top+h-d<=p){var g=i.getColumnHeaderHeight();g+=e.sumCellSizes(0,o),f(r,1,function(t){return g+=e.sumCellSizes(t-1,t),l.top+h-g<=p?(a=t,!1):void 0})}}return a},getLastVisibleRow:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,i=t.wtViewport,r=t.totalRows,o=n.getLastVisibleRow();if(e.mainTableScrollableElement===window){var a=c(n.wtRootElement),l=s(window),h=u(window);if(a.top>h){var f=i.getColumnHeaderHeight();d(1,r,function(t){return f+=e.sumCellSizes(t-1,t),a.top+f-h>=l?(o=t-2,!1):void 0})}}return o},getFirstVisibleColumn:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,i=t.wtViewport,r=t.totalColumns,o=(t.fixedColumnsLeft,n.getFirstVisibleColumn());if(e.mainTableScrollableElement===window){var s=c(n.wtRootElement),u=a(n.hider),h=a(window),d=l(window);if(s.left+u-h<=d){var p=i.getRowHeaderWidth();f(r,1,function(t){return p+=e.sumCellSizes(t-1,t),s.left+u-p<=d?(o=t,!1):void 0})}}return o},getLastVisibleColumn:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,i=t.wtViewport,r=t.totalColumns,o=n.getLastVisibleColumn();if(e.mainTableScrollableElement===window){var s=c(n.wtRootElement),u=a(window),h=l(window);if(s.left>h){var f=i.getRowHeaderWidth();d(1,r,function(t){return f+=e.sumCellSizes(t-1,t),s.left+f-h>=u?(o=t-2,!1):void 0})}}return o},_getVariables:function(){var t=this.wot,e=t.wtOverlays.topOverlay,n=t.wtOverlays.leftOverlay,i=t.wtTable,r=t.wtViewport,o=t.getSetting("totalRows"),s=t.getSetting("totalColumns"),a=t.getSetting("fixedRowsTop"),l=t.getSetting("fixedRowsBottom"),u=t.getSetting("fixedColumnsLeft");return{topOverlay:e,leftOverlay:n,wtTable:i,wtViewport:r,totalRows:o,totalColumns:s,fixedRowsTop:a,fixedRowsBottom:l,fixedColumnsLeft:u}}},{}),window.WalkontableScroll=p},{"helpers/dom/element":46,"helpers/number":51}],18:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSelection:{get:function(){return h}},__esModule:{value:!0}});var i,r,o,s,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).addClass,l=(r=t("border"),r&&r.__esModule&&r||{"default":r}).WalkontableBorder,u=(o=t("cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,c=(s=t("cell/range"),s&&s.__esModule&&s||{"default":s}).WalkontableCellRange,h=function(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}};$traceurRuntime.createClass(h,{getBorder:function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new l(t,this.settings))},isEmpty:function(){return null===this.cellRange},add:function(t){this.isEmpty()?this.cellRange=new c(t,t,t):this.cellRange.expand(t)},replace:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},addClassAtCoords:function(t,e,n,i){var r=t.wtTable.getCell(new u(e,n));"object"==typeof r&&a(r,i)},draw:function(t){if(this.isEmpty()){if(this.settings.border){var e=this.getBorder(t);e&&e.disappear()}}else{for(var n,i,r,o=t.wtTable.getRenderedRowsCount(),s=t.wtTable.getRenderedColumnsCount(),l=this.getCorners(),u=0;s>u;u++)i=t.wtTable.columnFilter.renderedToSource(u),i>=l[1]&&i<=l[3]&&(r=t.wtTable.getColumnHeader(i),r&&this.settings.highlightColumnClassName&&a(r,this.settings.highlightColumnClassName));for(var c=0;o>c;c++){n=t.wtTable.rowFilter.renderedToSource(c),n>=l[0]&&n<=l[2]&&(r=t.wtTable.getRowHeader(n),r&&this.settings.highlightRowClassName&&a(r,this.settings.highlightRowClassName));for(var h=0;s>h;h++)i=t.wtTable.columnFilter.renderedToSource(h),n>=l[0]&&n<=l[2]&&i>=l[1]&&i<=l[3]?this.settings.className&&this.addClassAtCoords(t,n,i,this.settings.className):n>=l[0]&&n<=l[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(t,n,i,this.settings.highlightRowClassName):i>=l[1]&&i<=l[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,n,i,this.settings.highlightColumnClassName)}if(t.getSetting("onBeforeDrawBorders",l,this.settings.className),this.settings.border){var d=this.getBorder(t);d&&d.appear(l)}}}},{}),window.WalkontableSelection=h},{border:2,"cell/coords":5,"cell/range":6,"helpers/dom/element":46}],19:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSettings:{get:function(){return o}},__esModule:{value:!0}});var i,r=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).fastInnerText,o=function(t,e){var n=this;this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,i){var o=n.getSetting("data",t,e);r(i,void 0===o||null===o?"":o)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(t){return t},scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null},this.settings={};for(var i in this.defaults)if(this.defaults.hasOwnProperty(i))if(void 0!==e[i])this.settings[i]=e[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}};$traceurRuntime.createClass(o,{update:function(t,e){if(void 0===e)for(var n in t)t.hasOwnProperty(n)&&(this.settings[n]=t[n]);else this.settings[t]=e;return this.wot},getSetting:function(t,e,n,i,r){return"function"==typeof this.settings[t]?this.settings[t](e,n,i,r):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},has:function(t){return!!this.settings[t]}},{}),window.WalkontableSettings=o},{"helpers/dom/element":46}],20:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTable:{get:function(){return T}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.getStyle,h=u.getTrimmingContainer,d=u.hasClass,f=u.index,p=u.offset,g=u.removeClass,m=u.removeTextNodes,v=u.overlayContainsElement,y=u.closest,w=(r=t("cell/coords"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,_=((o=t("cell/range"),o&&o.__esModule&&o||{"default":o}).WalkontableCellRange,(s=t("filter/column"),s&&s.__esModule&&s||{"default":s}).WalkontableColumnFilter),b=(a=t("filter/row"),a&&a.__esModule&&a||{"default":a}).WalkontableRowFilter,C=(l=t("tableRenderer"),l&&l.__esModule&&l||{"default":l}).WalkontableTableRenderer,T=function(t,e){this.wot=t,this.instance=this.wot,this.TABLE=e,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,m(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null};$traceurRuntime.createClass(T,{fixTableDomTree:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))},createSpreader:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(e=document.createElement("div"),e.className="wtSpreader",n&&n.insertBefore(e,t),e.appendChild(t)),e.style.position="relative",e},createHider:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(e=document.createElement("div"),e.className="wtHider",n&&n.insertBefore(e,t),e.appendChild(t)),e},createHolder:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&d(n,"wtHolder")||(e=document.createElement("div"),e.style.position="relative",e.className="wtHolder",n&&n.insertBefore(e,t),this.isWorkingOnClone()||(e.parentNode.className+="ht_master handsontable"),e.appendChild(t)),e},alignOverlaysWithTrimmingContainer:function(){var t=h(this.wtRootElement);if(!this.isWorkingOnClone())if(this.holder.parentNode.style.position="relative",t===window){var e=this.wot.getSetting("preventOverflow");e||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else this.holder.style.width=c(t,"width"),this.holder.style.height=c(t,"height"),this.holder.style.overflow=""},isWorkingOnClone:function(){return!!this.wot.cloneSource},draw:function(t){var e=this.instance.getSetting("totalRows");if(this.isWorkingOnClone()||(this.holderOffset=p(this.holder),t=this.wot.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays&&this.wot.wtOverlays.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=p(this.TABLE);var n;n=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?0:WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?Math.max(e-this.wot.getSetting("fixedRowsBottom"),0):this.wot.wtViewport.rowsRenderCalculator.startRow;var i;i=WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_DEBUG)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_LEFT)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)?0:this.wot.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new b(n,e,this.wot.getSetting("columnHeaders").length),this.columnFilter=new _(i,this.wot.getSetting("totalColumns"),this.wot.getSetting("rowHeaders").length),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.wot.wtOverlays.topOverlay.resetFixedPosition(),this.wot.wtOverlays.bottomOverlay.clone&&this.wot.wtOverlays.bottomOverlay.resetFixedPosition(),this.wot.wtOverlays.leftOverlay.resetFixedPosition(),this.wot.wtOverlays.topLeftCornerOverlay&&this.wot.wtOverlays.topLeftCornerOverlay.resetFixedPosition(),this.instance.wtOverlays.bottomLeftCornerOverlay&&this.instance.wtOverlays.bottomLeftCornerOverlay.clone&&this.wot.wtOverlays.bottomLeftCornerOverlay.resetFixedPosition()),this.wot.drawn=!0,this},_doDraw:function(){var t=new C(this);t.render()},removeClassFromCells:function(t){for(var e=this.TABLE.querySelectorAll("."+t),n=0,i=e.length;i>n;n++)g(e[n],t)},refreshSelections:function(t){if(this.wot.selections){var e=this.wot.selections.length;if(t)for(var n=0;e>n;n++)this.wot.selections[n].settings.className&&this.removeClassFromCells(this.wot.selections[n].settings.className),this.wot.selections[n].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightRowClassName),this.wot.selections[n].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightColumnClassName);for(var i=0;e>i;i++)this.wot.selections[i].draw(this.wot,t)}},getCell:function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},getColumnHeader:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[e];return n?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0},getRowHeader:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},getCoords:function(t){"TD"!==t.nodeName&&"TH"!==t.nodeName&&(t=y(t,["TD","TH"]));var e=t.parentNode,n=e.parentNode,i=f(e),r=t.cellIndex;return v(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,t)||v(WalkontableOverlay.CLONE_TOP,t)?"THEAD"===n.nodeName&&(i-=n.childNodes.length):i=n===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(i):this.rowFilter.renderedToSource(i),r=v(WalkontableOverlay.CLONE_TOP_LEFT_CORNER,t)||v(WalkontableOverlay.CLONE_LEFT,t)?this.columnFilter.offsettedTH(r):this.columnFilter.visibleRowHeadedColumnToSourceColumn(r),new w(i,r)},getTrForRow:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},getFirstRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow},getFirstVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow},getFirstRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn},getFirstVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn},getLastRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow},getLastVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow},getLastRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn},getLastVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn},isRowBeforeRenderedRows:function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},isRowAfterViewport:function(t){return this.rowFilter.sourceToRendered(t)>this.getLastVisibleRow()},isRowAfterRenderedRows:function(t){return this.rowFilter.sourceToRendered(t)>this.getLastRenderedRow()},isColumnBeforeViewport:function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},isColumnAfterViewport:function(t){return this.columnFilter.sourceToRendered(t)>this.getLastVisibleColumn()},isLastRowFullyVisible:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},isLastColumnFullyVisible:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var t=this.wot.wtViewport.columnsRenderCalculator.count,e=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(WalkontableOverlay.CLONE_DEBUG))t=e;else if(this.wot.isOverlayName(WalkontableOverlay.CLONE_LEFT)||this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),e);return t},getRenderedRowsCount:function(){var t=this.wot.wtViewport.rowsRenderCalculator.count,e=this.wot.getSetting("totalRows");return this.wot.isOverlayName(WalkontableOverlay.CLONE_DEBUG)?t=e:this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP)||this.wot.isOverlayName(WalkontableOverlay.CLONE_TOP_LEFT_CORNER)?t=Math.min(this.wot.getSetting("fixedRowsTop"),e):(this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))&&(t=Math.min(this.wot.getSetting("fixedRowsBottom"),e)),t},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count},allRowsInViewport:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()},getRowHeight:function(t){var e=this.wot.wtSettings.settings.rowHeight(t),n=this.wot.wtViewport.oversizedRows[t];return void 0!==n&&(e=void 0===e?n:Math.max(e,n)),e},getColumnHeaderHeight:function(t){var e=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count},allColumnsInViewport:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()},getColumnWidth:function(t){var e=this.wot.wtSettings.settings.columnWidth;return"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]),e||this.wot.wtSettings.settings.defaultColumnWidth},getStretchedColumnWidth:function(t){var e=this.getColumnWidth(t),n=null==e?this.instance.wtSettings.settings.defaultColumnWidth:e,i=this.wot.wtViewport.columnsRenderCalculator;if(i){var r=i.getStretchedColumnWidth(t,n);r&&(n=r)}return n}},{}),window.WalkontableTable=T},{"cell/coords":5,"cell/range":6,"filter/column":9,"filter/row":10,"helpers/dom/element":46,tableRenderer:21}],21:[function(t,e,n){"use strict";function i(t,e){var n=document.createElement("TH");return e.insertBefore(n,t),e.removeChild(t),n}function r(t,e){var n=document.createElement("TD");return e.insertBefore(n,t),e.removeChild(t),n}Object.defineProperties(n,{WalkontableTableRenderer:{get:function(){return p}},__esModule:{value:!0}});var o,s=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),a=s.addClass,l=s.empty,u=s.getScrollbarWidth,c=s.hasClass,h=s.innerHeight,d=s.outerWidth,f=!1,p=function(t){this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0};$traceurRuntime.createClass(p,{render:function(){this.wtTable.isWorkingOnClone()||this.wot.getSetting("beforeDraw",!0),this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),i=this.wot.getSetting("totalColumns"),r=this.wot.getSetting("totalRows"),o=!1;if((WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM)||WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay,WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),i>0&&(this.adjustAvailableNodes(),o=!0,this.renderColumnHeaders(),this.renderRows(r,n,e),this.wtTable.isWorkingOnClone()||(t=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(e),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),o||this.adjustAvailableNodes(),this.removeRedundantRows(n),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1);var s=d(this.wtTable.hider),a=d(this.wtTable.TABLE);if(0!==s&&a!==s&&this.adjustColumnWidths(e),this.wot.wtOverlays.applyToDOM(),t!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var l=this.wtTable.getFirstRenderedColumn(),u=this.wtTable.getLastRenderedColumn(),c=this.wot.getSetting("rowHeaderWidth");if(null!=c)for(var h=0;h<this.rowHeaderCount;h++)this.COLGROUP.childNodes[h].style.width=(isNaN(c)?c[h]:c)+"px";for(var f=l;u>f;f++){var p=this.wtTable.getStretchedColumnWidth(f),g=this.columnFilter.sourceToRendered(f);this.COLGROUP.childNodes[g+this.rowHeaderCount].style.width=p+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(t,e,n){for(var i,r,o=0,s=this.rowFilter.renderedToSource(o),a=this.wtTable.isWorkingOnClone();t>s&&s>=0&&(!f&&o>1e3&&(f=!0,console.warn('Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.')),void 0===e||o!==e);){if(r=this.getOrCreateTrForRow(o,r),this.renderRowHeaders(s,r),this.adjustColumns(r,n+this.rowHeaderCount),i=this.renderCells(s,r,n),a&&!this.wot.isOverlayName(WalkontableOverlay.CLONE_BOTTOM)||this.resetOversizedRow(s),r.firstChild){var l=this.wot.wtTable.getRowHeight(s);l?(l--,r.firstChild.style.height=l+"px"):r.firstChild.style.height=""}o++,s=this.rowFilter.renderedToSource(o)}},resetOversizedRow:function(t){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)},markOversizedRows:function(){if(!this.wot.getSetting("externalRowCalculator")){var t,e,n,i,r,o=this.instance.wtTable.TBODY.childNodes.length,s=o*this.instance.wtSettings.settings.defaultRowHeight,a=h(this.instance.wtTable.TBODY)-1;this.instance.getSetting("totalRows");if(s!==a||this.instance.getSetting("fixedRowsBottom"))for(;o;)o--,n=this.instance.wtTable.rowFilter.renderedToSource(o),t=this.instance.wtTable.getRowHeight(n),i=this.instance.wtTable.getTrForRow(n),r=i.querySelector("th"),e=r?h(r):h(i)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<e||e>t)&&(this.instance.wtViewport.oversizedRows[n]=++e)}},markOversizedColumnHeaders:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]&&!this.wtTable.isWorkingOnClone()){for(var e=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var i=-1*this.rowHeaderCount;e>i;i++)this.markIfOversizedColumnHeader(i);this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]=!0}},adjustColumnHeaderHeights:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,i=0,r=t.length;r>i;i++)if(n[i]){if(0===e[i].childNodes.length)return;e[i].childNodes[0].style.height=n[i]+"px"}},markIfOversizedColumnHeader:function(t){for(var e,n,i,r=this.wot.wtTable.columnFilter.renderedToSource(t),o=this.columnHeaderCount,s=this.wot.wtSettings.settings.defaultRowHeight,a=this.wot.getSetting("columnHeaderHeight")||[];o;)o--,e=this.wot.wtTable.getColumnHeaderHeight(o),n=this.wot.wtTable.getColumnHeader(r,o),n&&(i=h(n),(!e&&i>s||i>e)&&(this.wot.wtViewport.oversizedColumnHeaders[o]=i),Array.isArray(a)?null!=a[o]&&(this.wot.wtViewport.oversizedColumnHeaders[o]=a[o]):isNaN(a)||(this.wot.wtViewport.oversizedColumnHeaders[o]=a),this.wot.wtViewport.oversizedColumnHeaders[o]<(a[o]||a)&&(this.wot.wtViewport.oversizedColumnHeaders[o]=a[o]||a))},renderCells:function(t,e,n){for(var i,o,s=0;n>s;s++)o=this.columnFilter.renderedToSource(s),i=0===s?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:i.nextSibling,"TH"==i.nodeName&&(i=r(i,e)),c(i,"hide")||(i.className=""),i.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,o,i);return i},adjustColumnWidths:function(t){var e=0,n=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=n.wtTable.holder;i.offsetHeight<i.scrollHeight&&(e=u()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e);var r=this.wot.getSetting("rowHeaderWidth");if(null!=r)for(var o=0;o<this.rowHeaderCount;o++)this.COLGROUP.childNodes[o].style.width=(isNaN(r)?r[o]:r)+"px";for(var s=0;t>s;s++){var a=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(s));this.COLGROUP.childNodes[s+this.rowHeaderCount].style.width=a+"px"}},appendToTbody:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(t,e){var n;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n.className&&n.removeAttribute("class"),n},createRow:function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},renderRowHeader:function(t,e,n){
n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)},renderRowHeaders:function(t,e){for(var n=e.firstChild,r=0;r<this.rowHeaderCount;r++)n?"TD"==n.nodeName&&(n=i(n,e)):(n=document.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,r,n),n=n.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){this.wot.getOverlayName();if(this.columnHeaderCount)for(var t=this.wtTable.getRenderedColumnsCount(),e=0;e<this.columnHeaderCount;e++)for(var n=this.getTrForColumnHeaders(e),i=-1*this.rowHeaderCount;t>i;i++){var r=this.columnFilter.renderedToSource(i);this.renderColumnHeader(e,r,n.childNodes[i+this.rowHeaderCount])}},adjustColGroups:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&a(this.COLGROUP.childNodes[0],"rowHeader")},adjustThead:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,i=this.columnHeaders.length;i>n;n++){for(e=this.THEAD.childNodes[n],e||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength--}var r=this.THEAD.childNodes.length;if(r>this.columnHeaders.length)for(var o=this.columnHeaders.length;r>o;o++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&l(e)},getTrForColumnHeaders:function(t){return this.THEAD.childNodes[t]},renderColumnHeader:function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)},adjustColumns:function(t,e){for(var n=t.childNodes.length;e>n;){var i=document.createElement("TD");t.appendChild(i),n++}for(;n>e;)t.removeChild(t.lastChild),n--},removeRedundantColumns:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=p},{"helpers/dom/element":46}],22:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewport:{get:function(){return y}},__esModule:{value:!0}});var i,r,o,s,a,l=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],u=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),c=u.getScrollbarWidth,h=(u.getScrollTop,u.getStyle),d=u.offset,f=u.outerHeight,p=u.outerWidth,g=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,m=(s=t("calculator/viewportColumns"),s&&s.__esModule&&s||{"default":s}).WalkontableViewportColumnsCalculator,v=(a=t("calculator/viewportRows"),a&&a.__esModule&&a||{"default":a}).WalkontableViewportRowsCalculator,y=function(t){var e=this;this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new g(this.wot),this.eventManager.addEventListener(window,"resize",function(){e.clientHeight=e.getWorkspaceHeight()})};$traceurRuntime.createClass(y,{getWorkspaceHeight:function(){var t,e=this.instance.wtOverlays.topOverlay.trimmingContainer,n=0;return e===window?n=document.documentElement.clientHeight:(t=f(e),n=t>0&&e.clientHeight>0?e.clientHeight:1/0),n},getWorkspaceWidth:function(){var t,e,n=this.wot.getSetting("totalColumns"),i=this.instance.wtOverlays.leftOverlay.trimmingContainer,r=this.wot.getSetting("stretchH"),o=document.documentElement.offsetWidth,s=this.wot.getSetting("preventOverflow");return s?p(this.instance.wtTable.wtRootElement):(t=l.freezeOverlays?Math.min(o-this.getWorkspaceOffset().left,o):Math.min(this.getContainerFillWidth(),o-this.getWorkspaceOffset().left,o),i===window&&n>0&&this.sumColumnWidths(0,n-1)>t?document.documentElement.clientWidth:i!==window&&(e=h(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==e||"hidden"==e||"auto"==e)?Math.max(t,i.clientWidth):"none"!==r&&r?t:Math.max(t,p(this.instance.wtTable.TABLE)))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(t,e){for(var n=0;e>t;)n+=this.wot.wtTable.getColumnWidth(t),t++;return n},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var t,e,n=this.instance.wtTable.holder;return e=document.createElement("div"),e.style.width="100%",e.style.height="1px",n.appendChild(e),t=e.offsetWidth,this.containerWidth=t,n.removeChild(e),t},getWorkspaceOffset:function(){return d(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return f(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return p(this.wot.wtTable.TABLE)||p(this.wot.wtTable.TBODY)||p(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=f(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var t,e=this.getWorkspaceHeight();return e===1/0?e:(t=this.getColumnHeaderHeight(),t>0&&(e-=t),e)},getRowHeaderWidth:function(){var t=this.instance.getSetting("rowHeaderWidth"),e=this.instance.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var n=0,i=e.length;i>n;n++)this.rowHeaderWidth+=t[n]||t}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(e.length){var r=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var o=0,s=e.length;s>o;o++)r?(this.rowHeaderWidth+=p(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth},getViewportWidth:function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},createRowsCalculator:function(){var t,e,n,i,r,o,s,a=void 0!==arguments[0]?arguments[0]:!1,l=this;return this.rowHeaderWidth=NaN,t=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),e=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>e&&(e=0),n=this.wot.getSetting("fixedRowsTop"),r=this.wot.getSetting("fixedRowsBottom"),s=this.wot.getSetting("totalRows"),n&&(o=this.wot.wtOverlays.topOverlay.sumCellSizes(0,n),e+=o,t-=o),r&&this.wot.wtOverlays.bottomOverlay.clone&&(o=this.wot.wtOverlays.bottomOverlay.sumCellSizes(s-r,s),t-=o),i=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:c(),new v(t,e,this.wot.getSetting("totalRows"),function(t){return l.wot.wtTable.getRowHeight(t)},a?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,a,i)},createColumnsCalculator:function(){var t,e,n=void 0!==arguments[0]?arguments[0]:!1,i=this,r=this.getViewportWidth();if(this.columnHeaderHeight=NaN,t=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset(),0>t&&(t=0),e=this.wot.getSetting("fixedColumnsLeft")){var o=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);t+=o,r-=o}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(r-=c()),new m(r,t,this.wot.getSetting("totalColumns"),function(t){return i.wot.wtTable.getColumnWidth(t)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"),function(t,e){return i.wot.getSetting("onBeforeStretchingColumnWidth",t,e)})},createRenderCalculators:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:!(t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1):!1},areAllProposedVisibleColumnsAlreadyRendered:function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:!(t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1):!1}},{}),window.WalkontableViewport=y},{browser:23,"calculator/viewportColumns":3,"calculator/viewportRows":4,eventManager:41,"helpers/dom/element":46}],23:[function(t,e,n){"use strict";function i(t,e){var n=new i.Core(t,e||{});return n.init(),n}var r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,w,_,b,C,T,x,S;e.exports=i,i.utils={},r=t("shims/runtime"),r&&r.__esModule&&r||{"default":r},o=t("es6collections"),o&&o.__esModule&&o||{"default":o};var E=(s=t("pluginHooks"),s&&s.__esModule&&s||{"default":s}).Hooks;i.hooks||(i.hooks=new E),i.utils.Hooks=E,a=t("core"),a&&a.__esModule&&a||{"default":a},l=t("renderers/_cellDecorator"),l&&l.__esModule&&l||{"default":l},u=t("cellTypes"),u&&u.__esModule&&u||{"default":u},c=t("plugins/jqueryHandsontable"),c&&c.__esModule&&c||{"default":c};var R=(h=t("helpers/array"),h&&h.__esModule&&h||{"default":h}),M=(d=t("helpers/browser"),d&&d.__esModule&&d||{"default":d}),k=(f=t("helpers/data"),f&&f.__esModule&&f||{"default":f}),O=(p=t("helpers/date"),p&&p.__esModule&&p||{"default":p}),A=(g=t("helpers/feature"),g&&g.__esModule&&g||{"default":g}),N=(m=t("helpers/function"),m&&m.__esModule&&m||{"default":m}),P=(v=t("helpers/mixed"),v&&v.__esModule&&v||{"default":v}),D=(y=t("helpers/number"),y&&y.__esModule&&y||{"default":y}),L=(w=t("helpers/object"),w&&w.__esModule&&w||{"default":w}),H=(_=t("helpers/setting"),_&&_.__esModule&&_||{"default":_}),I=(b=t("helpers/string"),b&&b.__esModule&&b||{"default":b}),F=(C=t("helpers/unicode"),C&&C.__esModule&&C||{"default":C}),W=(T=t("helpers/dom/element"),T&&T.__esModule&&T||{"default":T}),j=(x=t("helpers/dom/event"),x&&x.__esModule&&x||{"default":x}),B=[R,M,k,O,A,N,P,D,L,H,I,F],z=[W,j];i.buildDate="Mon Jun 06 2016 13:30:03 GMT+0200 (CEST)",i.packageName="handsontable",i.version="0.25.1";var V="@@baseVersion";/^@@/.test(V)||(i.baseVersion=V),i.plugins={};var U=(S=t("plugins"),S&&S.__esModule&&S||{"default":S}).registerPlugin;i.plugins.registerPlugin=U,i.helper={},i.dom={},i.Dom=i.dom,R.arrayEach(B,function(t){R.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(i.helper[e]=t[e])})}),R.arrayEach(z,function(t){R.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(i.dom[e]=t[e])})})},{cellTypes:24,core:25,es6collections:"es6collections","helpers/array":42,"helpers/browser":43,"helpers/data":44,"helpers/date":45,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/feature":48,"helpers/function":49,"helpers/mixed":50,"helpers/number":51,"helpers/object":52,"helpers/setting":53,"helpers/string":54,"helpers/unicode":55,pluginHooks:58,plugins:59,"plugins/jqueryHandsontable":1,"renderers/_cellDecorator":93,"shims/runtime":100}],24:[function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,w,_,b,C,T,x,S,E,R=(i=t("helpers/browser"),i&&i.__esModule&&i||{"default":i}).isMobileBrowser,M=(r=t("editors"),r&&r.__esModule&&r||{"default":r}).getEditorConstructor,k=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}).getRenderer,O=((s=t("editors/autocompleteEditor"),s&&s.__esModule&&s||{"default":s}).AutocompleteEditor,(a=t("editors/checkboxEditor"),a&&a.__esModule&&a||{"default":a}).CheckboxEditor,(l=t("editors/dateEditor"),l&&l.__esModule&&l||{"default":l}).DateEditor,(u=t("editors/dropdownEditor"),u&&u.__esModule&&u||{"default":u}).DropdownEditor,(c=t("editors/handsontableEditor"),c&&c.__esModule&&c||{"default":c}).HandsontableEditor,(h=t("editors/mobileTextEditor"),h&&h.__esModule&&h||{"default":h}).MobileTextEditor,(d=t("editors/numericEditor"),d&&d.__esModule&&d||{"default":d}).NumericEditor,(f=t("editors/passwordEditor"),f&&f.__esModule&&f||{"default":f}).PasswordEditor,(p=t("editors/selectEditor"),p&&p.__esModule&&p||{"default":p}).SelectEditor,(g=t("editors/textEditor"),g&&g.__esModule&&g||{"default":g}).TextEditor,(m=t("renderers/autocompleteRenderer"),m&&m.__esModule&&m||{"default":m}).AutocompleteRenderer,(v=t("renderers/checkboxRenderer"),v&&v.__esModule&&v||{"default":v}).CheckboxRenderer,(y=t("renderers/htmlRenderer"),y&&y.__esModule&&y||{"default":y}).HtmlRenderer,(w=t("renderers/numericRenderer"),w&&w.__esModule&&w||{"default":w}).NumericRenderer,(_=t("renderers/passwordRenderer"),_&&_.__esModule&&_||{"default":_}).PasswordRenderer,(b=t("renderers/textRenderer"),b&&b.__esModule&&b||{"default":b}).TextRenderer,(C=t("validators/autocompleteValidator"),C&&C.__esModule&&C||{"default":C}).AutocompleteValidator,(T=t("validators/dateValidator"),T&&T.__esModule&&T||{"default":T}).DateValidator,(x=t("validators/timeValidator"),x&&x.__esModule&&x||{"default":x}).TimeValidator,(S=t("validators/numericValidator"),S&&S.__esModule&&S||{"default":S}).NumericValidator,(E=t("browser"),E&&E.__esModule&&E||{"default":E})["default"]);O.AutocompleteCell={editor:M("autocomplete"),renderer:k("autocomplete"),validator:O.AutocompleteValidator},O.CheckboxCell={editor:M("checkbox"),renderer:k("checkbox")},O.TextCell={editor:M(R()?"mobile":"text"),renderer:k("text")},O.NumericCell={editor:M("numeric"),renderer:k("numeric"),validator:O.NumericValidator,dataType:"number"},O.DateCell={editor:M("date"),validator:O.DateValidator,renderer:k("autocomplete")},O.TimeCell={editor:M("text"),validator:O.TimeValidator,renderer:k("text")},O.HandsontableCell={editor:M("handsontable"),renderer:k("autocomplete")},O.PasswordCell={editor:M("password"),renderer:k("password"),copyable:!1},O.DropdownCell={editor:M("dropdown"),renderer:k("autocomplete"),validator:O.AutocompleteValidator},O.cellTypes={text:O.TextCell,date:O.DateCell,time:O.TimeCell,numeric:O.NumericCell,checkbox:O.CheckboxCell,autocomplete:O.AutocompleteCell,handsontable:O.HandsontableCell,password:O.PasswordCell,dropdown:O.DropdownCell},O.cellLookup={validator:{numeric:O.NumericValidator,autocomplete:O.AutocompleteValidator}}},{browser:23,editors:29,"editors/autocompleteEditor":31,"editors/checkboxEditor":32,"editors/dateEditor":33,"editors/dropdownEditor":34,"editors/handsontableEditor":35,"editors/mobileTextEditor":36,"editors/numericEditor":37,"editors/passwordEditor":38,"editors/selectEditor":39,"editors/textEditor":40,"helpers/browser":43,renderers:92,"renderers/autocompleteRenderer":94,"renderers/checkboxRenderer":95,"renderers/htmlRenderer":96,"renderers/numericRenderer":97,"renderers/passwordRenderer":98,"renderers/textRenderer":99,"validators/autocompleteValidator":105,"validators/dateValidator":106,"validators/numericValidator":107,"validators/timeValidator":108}],25:[function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,w,_,b,C,T,x=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],S=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],E=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),R=E.addClass,M=E.empty,k=E.isChildOfWebComponentTable,O=E.removeClass,A=(s=t("helpers/setting"),s&&s.__esModule&&s||{"default":s}).columnFactory,N=(a=t("helpers/browser"),a&&a.__esModule&&a||{"default":a}).isMobileBrowser,P=(l=t("dataMap"),l&&l.__esModule&&l||{"default":l}).DataMap,D=(u=t("editorManager"),u&&u.__esModule&&u||{"default":u}).EditorManager,L=(c=t("eventManager"),c&&c.__esModule&&c||{"default":c}).eventManager,H=(h=t("helpers/object"),h&&h.__esModule&&h||{"default":h}),I=H.extend,F=H.duckSchema,W=H.isObjectEquals,j=H.deepClone,B=(d=t("helpers/array"),d&&d.__esModule&&d||{"default":d}),z=B.arrayFlatten,V=B.arrayMap,U=(f=t("plugins"),f&&f.__esModule&&f||{"default":f}).getPlugin,Y=(p=t("renderers"),p&&p.__esModule&&p||{"default":p}).getRenderer,G=(g=t("helpers/string"),g&&g.__esModule&&g||{"default":g}).randomString,X=(m=t("helpers/number"),m&&m.__esModule&&m||{"default":m}).rangeEach,q=(v=t("tableView"),v&&v.__esModule&&v||{"default":v}).TableView,$=(y=t("dataSource"),y&&y.__esModule&&y||{"default":y}).DataSource,K=(w=t("helpers/data"),w&&w.__esModule&&w||{"default":w}),Z=K.translateRowsToColumns,Q=K.cellMethodLookupFactory,J=K.spreadsheetColumnLabel,tt=(_=t("3rdparty/walkontable/src/cell/coords"),_&&_.__esModule&&_||{"default":_}).WalkontableCellCoords,et=(b=t("3rdparty/walkontable/src/cell/range"),b&&b.__esModule&&b||{"default":b}).WalkontableCellRange,nt=((C=t("3rdparty/walkontable/src/selection"),C&&C.__esModule&&C||{"default":C}).WalkontableSelection,(T=t("3rdparty/walkontable/src/calculator/viewportColumns"),T&&T.__esModule&&T||{"default":T}).WalkontableViewportColumnsCalculator);x.activeGuid=null,x.Core=function(t,e){function n(){var t=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(t){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty(this.valid))}}}function i(t,e,i){function r(){var n;t.length&&(n=x.hooks.run(m,"beforeChange",t,e),"function"==typeof n?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):n===!1&&t.splice(0,t.length)),i()}var o=new n;o.onQueueEmpty=r;for(var s=t.length-1;s>=0;s--)if(null===t[s])t.splice(s,1);else{var a=t[s][0],l=h.propToCol(t[s][1]),u=m.getCellMeta(a,l);if("numeric"===u.type&&"string"==typeof t[s][3]&&t[s][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[s][3])||u.format)){var c=t[s][3].length;"undefined"==typeof u.language?S.language("en"):t[s][3].indexOf(".")===c-3&&-1===t[s][3].indexOf(",")?S.language("en"):S.language(u.language),S.validate(t[s][3])&&(t[s][3]=S().unformat(t[s][3]))}m.getCellValidator(u)&&(o.addValidatorToQueue(),m.validateCell(t[s][3],u,function(e,n){return function(i){if("boolean"!=typeof i)throw new Error("Validation error: result is not boolean");i===!1&&n.allowInvalid===!1&&(t.splice(e,1),n.valid=!0,--e),o.removeValidatorFormQueue()}}(s,u),e))}o.checkIfQueueIsEmpty()}function r(t,e){var n=t.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==t[n]){if(null!=t[n][2]||null!=t[n][3]){if(c.settings.allowInsertRow)for(;t[n][0]>m.countRows()-1;)h.createRow();if("array"===m.dataType&&(!c.settings.columns||0===c.settings.columns.length)&&c.settings.allowInsertColumn)for(;h.propToCol(t[n][1])>m.countCols()-1;)h.createCol();h.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1);m.forceFullRender=!0,f.adjustRowsAndCols(),x.hooks.run(m,"beforeChangeRender",t,e),p.refreshBorders(null,!0),m.view.wt.wtOverlays.adjustElementsSize(),x.hooks.run(m,"afterChange",t,e||"edit")}}function o(t,e,n){return"object"==typeof t?t:[[t,e,n]]}function s(t){if(t.hasOwnProperty("type")){var e,n={};if("object"==typeof t.type)e=t.type;else if("string"==typeof t.type&&(e=x.cellTypes[t.type],void 0===e))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(n[i]=e[i]);return n}}function a(t){return x.hooks.run(m,"modifyRow",t)}function l(t){return x.hooks.run(m,"modifyCol",t)}function u(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var c,h,d,f,p,g,m=this,v=function(){},y=L(m);I(v.prototype,it.prototype),I(v.prototype,e),I(v.prototype,s(e)),this.rootElement=t,this.isHotTableEnv=k(this.rootElement),x.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),this.guid="ht_"+G(),d=new $(m),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),c={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new v,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},f={alter:function(t,e,n,i,r){function o(t,e,n,i){var r=function(){var t;return"array"===i?t=[]:"object"===i&&(t={}),t},o=V(new Array(n),function(){return r()});o.unshift(e,0),t.splice.apply(t,o)}var s;switch(n=n||1,t){case"insert_row":if(m.getSettings().maxRows===m.countSourceRows())return;s=h.createRow(e,n),o(c.cellSettings,e,n,"array"),s&&(p.isSelected()&&c.selRange.from.row>=e?(c.selRange.from.row=c.selRange.from.row+s,p.transformEnd(s,0)):p.refreshBorders());break;case"insert_col":s=h.createCol(e,n);for(var a=0,u=m.countSourceRows();u>a;a++)c.cellSettings[a]&&o(c.cellSettings[a],e,n);if(s){if(Array.isArray(m.getSettings().colHeaders)){var d=[e,0];d.length+=s,Array.prototype.splice.apply(m.getSettings().colHeaders,d)}p.isSelected()&&c.selRange.from.col>=e?(c.selRange.from.col=c.selRange.from.col+s,p.transformEnd(0,s)):p.refreshBorders()}break;case"remove_row":h.removeRow(e,n),c.cellSettings.splice(e,n);var g=m.countRows(),v=m.getSettings().fixedRowsTop;v>=e+1&&(m.getSettings().fixedRowsTop-=Math.min(n,v-e));var y=m.getSettings().fixedRowsBottom;y&&e>=g-y&&(m.getSettings().fixedRowsBottom-=Math.min(n,y)),f.adjustRowsAndCols(),p.refreshBorders();break;case"remove_col":var w=l(e);h.removeCol(e,n);for(var _=0,b=m.countSourceRows();b>_;_++)c.cellSettings[_]&&c.cellSettings[_].splice(w,n);var C=m.getSettings().fixedColumnsLeft;C>=e+1&&(m.getSettings().fixedColumnsLeft-=Math.min(n,C-e)),Array.isArray(m.getSettings().colHeaders)&&("undefined"==typeof w&&(w=-1),m.getSettings().colHeaders.splice(w,n)),f.adjustRowsAndCols(),p.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}r||f.adjustRowsAndCols()},adjustRowsAndCols:function(){if(c.settings.minRows){var t=m.countRows();if(t<c.settings.minRows)for(var e=0,n=c.settings.minRows;n-t>e;e++)h.createRow(m.countRows(),1,!0)}if(c.settings.minSpareRows){var i=m.countEmptyRows(!0);if(i<c.settings.minSpareRows)for(;i<c.settings.minSpareRows&&m.countRows()<c.settings.maxRows;i++)h.createRow(m.countRows(),1,!0)}var r;if((c.settings.minCols||c.settings.minSpareCols)&&(r=m.countEmptyCols(!0)),c.settings.minCols&&!c.settings.columns&&m.countCols()<c.settings.minCols)for(;m.countCols()<c.settings.minCols;r++)h.createCol(m.countCols(),1,!0);if(c.settings.minSpareCols&&!c.settings.columns&&"array"===m.dataType&&r<c.settings.minSpareCols)for(;r<c.settings.minSpareCols&&m.countCols()<c.settings.maxCols;r++)h.createCol(m.countCols(),1,!0);var o=m.countRows(),s=m.countCols();if(0!==o&&0!==s||p.deselect(),p.isSelected()){var a=!1,l=c.selRange.from.row,u=c.selRange.from.col,d=c.selRange.to.row,f=c.selRange.to.col;l>o-1?(l=o-1,a=!0,d>l&&(d=l)):d>o-1&&(d=o-1,a=!0,l>d&&(l=d)),u>s-1?(u=s-1,a=!0,f>u&&(f=u)):f>s-1&&(f=s-1,a=!0,u>f&&(u=f)),a&&m.selectCell(l,u,d,f)}m.view&&m.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,n,i,r,o,s){var a,l,u,h,d=[],f={};if(l=e.length,0===l)return!1;var p,g,v,y;({row:null===n?null:n.row,col:null===n?null:n.col});switch(r){case"shift_down":for(p=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,e=Z(e),u=0,h=e.length,v=Math.max(h,p);v>u;u++)if(h>u){for(a=0,l=e[u].length;g-l>a;a++)e[u].push(e[u][a%l]);e[u].unshift(t.col+u,t.row,0),m.spliceCol.apply(m,e[u])}else e[u%h][0]=t.col+u,m.spliceCol.apply(m,e[u%h]);break;case"shift_right":for(p=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,a=0,l=e.length,y=Math.max(l,g);y>a;a++)if(l>a){for(u=0,h=e[a].length;p-h>u;u++)e[a].push(e[a][u%h]);e[a].unshift(t.row+a,t.col,0),m.spliceRow.apply(m,e[a])}else e[a%l][0]=t.row+a,m.spliceRow.apply(m,e[a%l]);break;case"overwrite":default:f.row=t.row,f.col=t.col;var w,_={row:n&&t?n.row-t.row+1:1,col:n&&t?n.col-t.col+1:1},b=0,C=0,T=!0,x=function(t){var n=void 0!==arguments[1]?arguments[1]:null,i=e[t%e.length];return null!==n?i[n%i.length]:i},S=e.length,E=n?n.row-t.row+1:0;for(l=n?E:Math.max(S,E),a=0;l>a&&!(n&&f.row>n.row&&E>S||!c.settings.allowInsertRow&&f.row>m.countRows()-1||f.row>=c.settings.maxRows);a++){var R=a-b,M=x(R).length,k=n?n.col-t.col+1:0;if(h=n?k:Math.max(M,k),f.col=t.col,w=m.getCellMeta(f.row,f.col),"paste"!==i&&"autofill"!==i||!w.skipRowOnPaste){for(C=0,u=0;h>u&&!(n&&f.col>n.col&&k>M||!c.settings.allowInsertColumn&&f.col>m.countCols()-1||f.col>=c.settings.maxCols);u++)if(w=m.getCellMeta(f.row,f.col),"paste"!==i&&"autofill"!==i||!w.skipColumnOnPaste)if(w.readOnly)f.col++;else{var O=u-C,A=x(R,O),N=m.getDataAtCell(f.row,f.col),P={row:R,col:O};if("autofill"===i){var D=m.runHooks("beforeAutofillInsidePopulate",P,o,e,s,{},_);D&&(A="undefined"==typeof D.value?A:D.value)}if(null!==A&&"object"==typeof A)if(null===N||"object"!=typeof N)T=!1;else{var L=F(N[0]||N),H=F(A[0]||A);W(L,H)?A=j(A):T=!1}else null!==N&&"object"==typeof N&&(T=!1);T&&d.push([f.row,f.col,A]),T=!0,f.col++}else C++,f.col++,h++;f.row++}else b++,f.row++,l++}m.setDataAtCell(d,null,null,i||"populateFromArray")}}},this.selection=p={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){m.selection.selectedHeader.rows=t,m.selection.selectedHeader.cols=e},begin:function(){m.selection.inProgress=!0},finish:function(){var t=m.getSelected();x.hooks.run(m,"afterSelectionEnd",t[0],t[1],t[2],t[3]),x.hooks.run(m,"afterSelectionEndByProp",t[0],m.colToProp(t[1]),t[2],m.colToProp(t[3])),m.selection.inProgress=!1},isInProgress:function(){return m.selection.inProgress},setRangeStart:function(t,e){x.hooks.run(m,"beforeSetRangeStart",t),c.selRange=new et(t,t,t),p.setRangeEnd(t,null,e)},setRangeStartOnly:function(t){x.hooks.run(m,"beforeSetRangeStartOnly",t),c.selRange=new et(t,t,t)},setRangeEnd:function(t,e,n){if(null!==c.selRange){var i,r=!1,o=!0,s=m.view.wt.wtTable.getFirstVisibleRow(),a=m.view.wt.wtTable.getFirstVisibleColumn(),l={row:null,col:null};x.hooks.run(m,"beforeSetRangeEnd",t),m.selection.begin(),l.row=t.row<0?s:t.row,l.col=t.col<0?a:t.col,c.selRange.to=new tt(l.row,l.col),c.settings.multiSelect||(c.selRange.from=t),m.view.wt.selections.current.clear(),i=m.getCellMeta(c.selRange.highlight.row,c.selRange.highlight.col).disableVisualSelection,"string"==typeof i&&(i=[i]),(i===!1||Array.isArray(i)&&-1===i.indexOf("current"))&&m.view.wt.selections.current.add(c.selRange.highlight),m.view.wt.selections.area.clear(),(i===!1||Array.isArray(i)&&-1===i.indexOf("area"))&&p.isMultiple()&&(m.view.wt.selections.area.add(c.selRange.from),m.view.wt.selections.area.add(c.selRange.to)),(c.settings.currentRowClassName||c.settings.currentColClassName)&&(m.view.wt.selections.highlight.clear(),m.view.wt.selections.highlight.add(c.selRange.from),m.view.wt.selections.highlight.add(c.selRange.to)),x.hooks.run(m,"afterSelection",c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col),x.hooks.run(m,"afterSelectionByProp",c.selRange.from.row,h.colToProp(c.selRange.from.col),c.selRange.to.row,h.colToProp(c.selRange.to.col)),(0===c.selRange.from.row&&c.selRange.to.row===m.countRows()-1&&m.countRows()>1||0===c.selRange.from.col&&c.selRange.to.col===m.countCols()-1&&m.countCols()>1)&&(r=!0),(t.row<0||t.col<0)&&(o=!1),e!==!1&&!r&&o&&(c.selRange.from&&!p.isMultiple()?m.view.scrollViewport(c.selRange.from):m.view.scrollViewport(t)),p.refreshBorders(null,n)}},refreshBorders:function(t,e){e||g.destroyEditor(t),m.view.render(),p.isSelected()&&!e&&g.prepareEditor()},isMultiple:function(){var t=!(c.selRange.to.col===c.selRange.from.col&&c.selRange.to.row===c.selRange.from.row),e=x.hooks.run(m,"afterIsMultipleSelection",t);return t?e:void 0},transformStart:function(t,e,n,i){var r,o,s,a,l=new tt(t,e),u=0,h=0;m.runHooks("modifyTransformStart",l),r=m.countRows(),o=m.countCols(),a=m.getSettings().fixedRowsBottom,c.selRange.highlight.row+t>r-1?n&&c.settings.minSpareRows>0&&!(a&&c.selRange.highlight.row>=r-a-1)?(m.alter("insert_row",r),r=m.countRows()):c.settings.autoWrapCol&&(l.row=1-r,l.col=c.selRange.highlight.col+l.col==o-1?1-o:1):c.settings.autoWrapCol&&c.selRange.highlight.row+l.row<0&&c.selRange.highlight.col+l.col>=0&&(l.row=r-1,l.col=c.selRange.highlight.col+l.col==0?o-1:-1),c.selRange.highlight.col+l.col>o-1?n&&c.settings.minSpareCols>0?(m.alter("insert_col",o),o=m.countCols()):c.settings.autoWrapRow&&(l.row=c.selRange.highlight.row+l.row==r-1?1-r:1,l.col=1-o):c.settings.autoWrapRow&&c.selRange.highlight.col+l.col<0&&c.selRange.highlight.row+l.row>=0&&(l.row=c.selRange.highlight.row+l.row==0?r-1:-1,l.col=o-1),s=new tt(c.selRange.highlight.row+l.row,c.selRange.highlight.col+l.col),s.row<0?(u=-1,s.row=0):s.row>0&&s.row>=r&&(u=1,s.row=r-1),s.col<0?(h=-1,s.col=0):s.col>0&&s.col>=o&&(h=1,s.col=o-1),m.runHooks("afterModifyTransformStart",s,u,h),p.setRangeStart(s,i)},transformEnd:function(t,e){var n,i,r,o=new tt(t,e),s=0,a=0;m.runHooks("modifyTransformEnd",o),n=m.countRows(),i=m.countCols(),r=new tt(c.selRange.to.row+o.row,c.selRange.to.col+o.col),r.row<0?(s=-1,r.row=0):r.row>0&&r.row>=n&&(s=1,r.row=n-1),r.col<0?(a=-1,r.col=0):r.col>0&&r.col>=i&&(a=1,r.col=i-1),m.runHooks("afterModifyTransformEnd",r,s,a),p.setRangeEnd(r,!0)},isSelected:function(){return null!==c.selRange},inInSelection:function(t){return p.isSelected()?c.selRange.includes(t):!1},deselect:function(){p.isSelected()&&(m.selection.inProgress=!1,c.selRange=null,m.view.wt.selections.current.clear(),m.view.wt.selections.area.clear(),(c.settings.currentRowClassName||c.settings.currentColClassName)&&m.view.wt.selections.highlight.clear(),g.destroyEditor(),p.refreshBorders(),x.hooks.run(m,"afterDeselect"))},selectAll:function(){c.settings.multiSelect&&(p.setRangeStart(new tt(0,0)),p.setRangeEnd(new tt(m.countRows()-1,m.countCols()-1),!1))},empty:function(){if(p.isSelected()){var t,e,n=c.selRange.getTopLeftCorner(),i=c.selRange.getBottomRightCorner(),r=[];for(t=n.row;t<=i.row;t++)for(e=n.col;e<=i.col;e++)m.getCellMeta(t,e).readOnly||r.push([t,e,""]);m.setDataAtCell(r)}}},this.init=function(){d.setData(c.settings.data),x.hooks.run(m,"beforeInit"),N()&&R(m.rootElement,"mobile"),this.updateSettings(c.settings,!0),this.view=new q(this),g=new D(m,c,p,h),this.forceFullRender=!0,x.hooks.run(m,"init"),this.view.render(),"object"==typeof c.firstRun&&(x.hooks.run(m,"afterChange",c.firstRun[0],c.firstRun[1]),c.firstRun=!1),x.hooks.run(m,"afterInit")},this.validateCell=function(t,e,n,i){function r(t){var i=e.visualCol,r=e.visualRow,o=m.getCell(r,i,!0);o&&"TH"!=o.nodeName&&m.view.wt.wtSettings.settings.cellRenderer(r,i,o),n(t)}var o=m.getCellValidator(e);"[object RegExp]"===Object.prototype.toString.call(o)&&(o=function(t){return function(e,n){n(t.test(e))}}(o)),"function"==typeof o?(t=x.hooks.run(m,"beforeValidate",t,e.visualRow,e.prop,i),m._registerTimeout(setTimeout(function(){o.call(e,t,function(n){n=x.hooks.run(m,"afterValidate",n,t,e.visualRow,e.prop,i),e.valid=n,r(n),x.hooks.run(m,"postAfterValidate",n,t,e.visualRow,e.prop,i)})},0))):m._registerTimeout(setTimeout(function(){e.valid=!0,r(e.valid)},0))},this.setDataAtCell=function(t,e,n,s){var a,l,u,c=o(t,e,n),d=[];for(a=0,l=c.length;l>a;a++){if("object"!=typeof c[a])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[a][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");
u=h.colToProp(c[a][1]),d.push([c[a][0],u,h.get(c[a][0],u),c[a][2]])}s||"object"!=typeof t||(s=e),i(d,s,function(){r(d,s)})},this.setDataAtRowProp=function(t,e,n,s){var a,l,u=o(t,e,n),c=[];for(a=0,l=u.length;l>a;a++)c.push([u[a][0],u[a][1],h.get(u[a][0],u[a][1]),u[a][2]]);s||"object"!=typeof t||(s=e),i(c,s,function(){r(c,s)})},this.listen=function(){x.activeGuid=m.guid},this.unlisten=function(){x.activeGuid=null},this.isListening=function(){return x.activeGuid===m.guid},this.destroyEditor=function(t){p.refreshBorders(t)},this.populateFromArray=function(t,e,n,i,r,o,s,a,l){var u;if("object"!=typeof n||"object"!=typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof i?new tt(i,r):null,f.populateFromArray(new tt(t,e),n,u,o,s,a,l)},this.spliceCol=function(t,e,n){return h.spliceCol.apply(h,arguments)},this.spliceRow=function(t,e,n){return h.spliceRow.apply(h,arguments)},this.getSelected=function(){return p.isSelected()?[c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col]:void 0},this.getSelectedRange=function(){return p.isSelected()?c.selRange:void 0},this.render=function(){m.view&&(m.renderCall=!0,m.forceFullRender=!0,p.refreshBorders(null,!0))},this.loadData=function(t){function e(){c.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var n,i=0,r=c.settings.startRows;r>i;i++){n=[];for(var o=0,s=c.settings.startCols;s>o;o++)n.push(null);t.push(n)}}c.isPopulated=!1,v.prototype.data=t,Array.isArray(c.settings.dataSchema)||Array.isArray(t[0])?m.dataType="array":"function"==typeof c.settings.dataSchema?m.dataType="function":m.dataType="object",h&&h.destroy(),h=new P(m,c,v),d.data=t,d.dataType=m.dataType,d.colToProp=h.colToProp.bind(h),d.propToCol=h.propToCol.bind(h),e(),f.adjustRowsAndCols(),x.hooks.run(m,"afterLoadData",c.firstRun),c.firstRun?c.firstRun=[null,"loadData"]:(x.hooks.run(m,"afterChange",null,"loadData"),m.render()),c.isPopulated=!0},this.getData=function(t,e,n,i){return"undefined"==typeof t?h.getAll():h.getRange(new tt(t,e),new tt(n,i),h.DESTINATION_RENDERER)},this.getCopyableText=function(t,e,n,i){return h.getCopyableText(new tt(t,e),new tt(n,i))},this.getCopyableData=function(t,e){return h.getCopyable(t,h.colToProp(e))},this.getSchema=function(){return h.getSchema()},this.updateSettings=function(t,e){var n,i;if("undefined"!=typeof t.rows)throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if("undefined"!=typeof t.cols)throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(n in t)"data"!==n&&(x.hooks.getRegistered().indexOf(n)>-1?("function"==typeof t[n]||Array.isArray(t[n]))&&m.addHook(n,t[n]):!e&&t.hasOwnProperty(n)&&(v.prototype[n]=t[n]));if(void 0===t.data&&void 0===c.settings.data?m.loadData(null):void 0!==t.data?m.loadData(t.data):void 0!==t.columns&&h.createMap(),i=m.countCols(),void 0===t.cell&&void 0===t.cells&&void 0===t.columns||(c.cellSettings.length=0),i>0){var r,o;for(n=0;i>n;n++)c.columnSettings[n]=A(v,c.columnsSettingConflicts),r=c.columnSettings[n].prototype,v.prototype.columns&&(o=v.prototype.columns[n],o&&(I(r,o),I(r,s(o))))}if("undefined"!=typeof t.cell)for(n in t.cell)if(t.cell.hasOwnProperty(n)){var a=t.cell[n];m.setCellMetaObject(a.row,a.col,a)}x.hooks.run(m,"afterCellMetaReset"),"undefined"!=typeof t.className&&(v.prototype.className&&O(m.rootElement,v.prototype.className),t.className&&R(m.rootElement,t.className));var l=m.rootElement.style.height;""!==l&&(l=parseInt(m.rootElement.style.height,10));var u=t.height;if("function"==typeof u&&(u=u()),e){var d=m.rootElement.getAttribute("style");d&&m.rootElement.setAttribute("data-initialstyle",m.rootElement.getAttribute("style"))}if(null===u){var g=m.rootElement.getAttribute("data-initialstyle");g&&(g.indexOf("height")>-1||g.indexOf("overflow")>-1)?m.rootElement.setAttribute("style",g):(m.rootElement.style.height="",m.rootElement.style.overflow="")}else void 0!==u&&(m.rootElement.style.height=u+"px",m.rootElement.style.overflow="hidden");if("undefined"!=typeof t.width){var y=t.width;"function"==typeof y&&(y=y()),m.rootElement.style.width=y+"px"}e||(h.clearLengthCache(),x.hooks.run(m,"afterUpdateSettings")),f.adjustRowsAndCols(),m.view&&!c.firstRun&&(m.forceFullRender=!0,p.refreshBorders(null,!0)),e||!m.view||""!==l&&""!==u&&void 0!==u||l===u||m.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var t=m.getSelected();if(v.prototype.getValue){if("function"==typeof v.prototype.getValue)return v.prototype.getValue.call(m);if(t)return m.getData()[t[0]][v.prototype.getValue]}else if(t)return m.getDataAtCell(t[0],t[1])},this.getSettings=function(){return c.settings},this.clear=function(){p.selectAll(),p.empty()},this.alter=function(t,e,n,i,r){f.alter(t,e,n,i,r)},this.getCell=function(t,e,n){return m.view.getCellAtCoords(new tt(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return h.colToProp(t)},this.propToCol=function(t){return h.propToCol(t)},this.getDataAtCell=function(t,e){return h.get(t,h.colToProp(e))},this.getDataAtRowProp=function(t,e){return h.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,h.getRange(new tt(0,t),new tt(c.settings.data.length-1,t),h.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,n=[];return e=h.getRange(new tt(0,h.propToCol(t)),new tt(c.settings.data.length-1,h.propToCol(t)),h.DESTINATION_RENDERER),n.concat.apply(n,e)},this.getSourceData=function(t,e,n,i){var r;return r=void 0===t?d.getData():d.getByRange(new tt(t,e),new tt(n,i))},this.getSourceDataAtCol=function(t){return d.getAtColumn(t)},this.getSourceDataAtRow=function(t){return d.getAtRow(t)},this.getSourceDataAtCell=function(t,e){return d.getAtCell(t,e)},this.getDataAtRow=function(t){var e=h.getRange(new tt(t,0),new tt(t,this.countCols()-1),h.DESTINATION_RENDERER);return e[0]},this.getDataType=function(t,e,n,i){var r=this,o=null,s=null;void 0===t&&(t=0,n=this.countRows(),e=0,i=this.countCols()),void 0===n&&(n=t),void 0===i&&(i=e);var a="mixed";return X(Math.min(t,n),Math.max(t,n),function(t){var n=!0;return X(Math.min(e,i),Math.max(e,i),function(e){var i=r.getCellMeta(t,e);return s=i.type,o?n=o===s:o=s,n}),a=n?s:"mixed",n}),a},this.removeCellMeta=function(t,e,n){var i=m.getCellMeta(t,e);void 0!=i[n]&&delete c.cellSettings[t][e][n]},this.setCellMetaObject=function(t,e,n){if("object"==typeof n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];this.setCellMeta(t,e,i,r)}},this.setCellMeta=function(t,e,n,i){c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),c.cellSettings[t][e][n]=i,x.hooks.run(m,"afterSetCellMeta",t,e,n,i)},this.getCellsMeta=function(){return z(c.cellSettings)},this.getCellMeta=function(t,e){var n,i=h.colToProp(e),r=t,o=e;if(t=a(t),e=l(e),c.columnSettings[e]||(c.columnSettings[e]=A(v,c.columnsSettingConflicts)),c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),n=c.cellSettings[t][e],n.row=t,n.col=e,n.visualRow=r,n.visualCol=o,n.prop=i,n.instance=m,x.hooks.run(m,"beforeGetCellMeta",t,e,n),I(n,s(n)),n.cells){var u=n.cells.call(n,t,e,i);u&&(I(n,u),I(n,s(u)))}return x.hooks.run(m,"afterGetCellMeta",t,e,n),n},this.isColumnModificationAllowed=function(){return!("object"===m.dataType||m.getSettings().columns)};var w=Q("renderer");this.getCellRenderer=function(t,e){var n=w.call(this,t,e);return Y(n)},this.getCellEditor=Q("editor"),this.getCellValidator=Q("validator"),this.validateCells=function(t){var e=new n;t&&(e.onQueueEmpty=t);for(var i=m.countRows()-1;i>=0;){for(var r=m.countCols()-1;r>=0;)e.addValidatorToQueue(),m.validateCell(m.getDataAtCell(i,r),m.getCellMeta(i,r),function(t){if("boolean"!=typeof t)throw new Error("Validation error: result is not boolean");t===!1&&(e.valid=!1),e.removeValidatorFormQueue()},"validateCells"),r--;i--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){var e=c.settings.rowHeaders;return void 0!==t&&(t=x.hooks.run(m,"modifyRowHeader",t)),void 0===t?(e=[],X(m.countRows()-1,function(t){e.push(m.getRowHeader(t))})):Array.isArray(e)&&void 0!==e[t]?e=e[t]:"function"==typeof e?e=e(t):e&&"string"!=typeof e&&"number"!=typeof e&&(e=t+1),e},this.hasRowHeaders=function(){return!!c.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==c.settings.colHeaders&&null!==c.settings.colHeaders)return!!c.settings.colHeaders;for(var t=0,e=m.countCols();e>t;t++)if(m.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(t=x.hooks.run(m,"modifyColHeader",t),void 0===t){for(var e=[],n=0,i=m.countCols();i>n;n++)e.push(m.getColHeader(n));return e}var r=t;return t=x.hooks.run(m,"modifyCol",t),c.settings.columns&&c.settings.columns[t]&&c.settings.columns[t].title?c.settings.columns[t].title:Array.isArray(c.settings.colHeaders)&&void 0!==c.settings.colHeaders[t]?c.settings.colHeaders[t]:"function"==typeof c.settings.colHeaders?c.settings.colHeaders(t):c.settings.colHeaders&&"string"!=typeof c.settings.colHeaders&&"number"!=typeof c.settings.colHeaders?J(r):c.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=m.getCellMeta(0,t),n=e.width;if(void 0!==n&&n!==c.settings.width||(n=e.colWidths),void 0!==n&&null!==n){switch(typeof n){case"object":n=n[t];break;case"function":n=n(t)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(t){var e=m._getColWidthFromSettings(t);return e=x.hooks.run(m,"modifyColWidth",e,t),void 0===e&&(e=nt.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){var e=c.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=m._getRowHeightFromSettings(t);return e=x.hooks.run(m,"modifyRowHeight",e,t)},this.countSourceRows=function(){return m.getSourceData()?m.getSourceData().length:0},this.countRows=function(){return h.getLength()},this.countCols=function(){return"object"===m.dataType||"function"===m.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:h.colToPropCache.length:"array"===m.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:c.settings.data&&c.settings.data[0]&&c.settings.data[0].length?c.settings.data[0].length:0:void 0},this.rowOffset=function(){return m.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return m.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var e,n=m.countRows()-1,i=0;n>=0;){if(e=x.hooks.run(this,"modifyRow",n),m.isEmptyRow(e))i++;else if(t)break;n--}return i},this.countEmptyCols=function(t){if(m.countRows()<1)return 0;for(var e=m.countCols()-1,n=0;e>=0;){if(m.isEmptyCol(e))n++;else if(t)break;e--}return n},this.isEmptyRow=function(t){return c.settings.isEmptyRow.call(m,t)},this.isEmptyCol=function(t){return c.settings.isEmptyCol.call(m,t)},this.selectCell=function(t,e,n,i,r,o){var s;if(o="undefined"==typeof o||o===!0,"number"!=typeof t||0>t||t>=m.countRows())return!1;if("number"!=typeof e||0>e||e>=m.countCols())return!1;if("undefined"!=typeof n){if("number"!=typeof n||0>n||n>=m.countRows())return!1;if("number"!=typeof i||0>i||i>=m.countCols())return!1}return s=new tt(t,e),c.selRange=new et(s,s,s),o&&m.listen(),"undefined"==typeof n?p.setRangeEnd(c.selRange.from,r):p.setRangeEnd(new tt(n,i),r),m.selection.finish(),!0},this.selectCellByProp=function(t,e,n,i,r){return arguments[1]=h.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=h.propToCol(arguments[3])),m.selectCell.apply(m,arguments)},this.deselectCell=function(){p.deselect()},this.scrollViewportTo=function(t,e){if(void 0!==t&&(0>t||t>=m.countRows()))return!1;if(void 0!==e&&(0>e||e>=m.countCols()))return!1;var n=!1;return void 0!==t&&void 0!==e&&(m.view.wt.scrollVertical(t),m.view.wt.scrollHorizontal(e),n=!0),"number"==typeof t&&"number"!=typeof e&&(m.view.wt.scrollVertical(t),n=!0),"number"==typeof e&&"number"!=typeof t&&(m.view.wt.scrollHorizontal(e),n=!0),n},this.destroy=function(){m._clearTimeouts(),m.view&&m.view.destroy(),d&&d.destroy(),d=null,M(m.rootElement),y.destroy(),x.hooks.run(m,"afterDestroy"),x.hooks.destroy(m);for(var t in m)m.hasOwnProperty(t)&&("function"==typeof m[t]?m[t]=u:"guid"!==t&&(m[t]=null));h&&h.destroy(),h=null,c=null,f=null,p=null,g=null,m=null,v=null},this.getActiveEditor=function(){return g.getActiveEditor()},this.getPlugin=function(t){return U(this,t)},this.getInstance=function(){return m},this.addHook=function(t,e){x.hooks.add(t,e,m)},this.hasHook=function(t){return x.hooks.has(t,m)},this.addHookOnce=function(t,e){x.hooks.once(t,e,m)},this.removeHook=function(t,e){x.hooks.remove(t,e,m)},this.runHooks=function(t,e,n,i,r,o,s){return x.hooks.run(m,t,e,n,i,r,o,s)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version=x.version,x.hooks.run(m,"construct")};var it=function(){};it.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,n,i,r;for(e=0,n=this.countCols();n>e;e++)if(i=this.getDataAtCell(t,e),""!==i&&null!==i&&"undefined"!=typeof i)return"object"==typeof i?(r=this.getCellMeta(t,e),W(this.getSchema()[r.prop],i)):!1;return!0},isEmptyCol:function(t){var e,n,i;for(e=0,n=this.countRows();n>e;e++)if(i=this.getDataAtCell(e,t),""!==i&&null!==i&&"undefined"!=typeof i)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,contextMenuCopyPaste:void 0,copyPaste:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1},x.DefaultSettings=it},{"3rdparty/walkontable/src/calculator/viewportColumns":3,"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,browser:23,dataMap:26,dataSource:27,editorManager:28,eventManager:41,"helpers/array":42,"helpers/browser":43,"helpers/data":44,"helpers/dom/element":46,"helpers/number":51,"helpers/object":52,"helpers/setting":53,"helpers/string":54,numeral:"numeral",plugins:59,renderers:92,tableView:101}],26:[function(t,e,n){"use strict";function i(t,e,n){var i=this;this.instance=t,this.priv=e,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.latestSourceRowsCount=0,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=x.create(function(){return i.clearLengthCache()},"15fps")}Object.defineProperties(n,{DataMap:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a,l,u,c,h,d,f=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],p=(o=t("SheetClip"),o&&o.__esModule&&o||{"default":o})["default"],g=(s=t("helpers/data"),s&&s.__esModule&&s||{"default":s}).cellMethodLookupFactory,m=(a=t("helpers/setting"),a&&a.__esModule&&a||{"default":a}).columnFactory,v=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}),y=v.duckSchema,w=v.deepExtend,_=v.deepClone,b=(u=t("helpers/array"),u&&u.__esModule&&u||{"default":u}),C=b.extendArray,T=b.to2dArray,x=(c=t("utils/interval"),c&&c.__esModule&&c||{"default":c}).Interval,S=(h=t("helpers/number"),h&&h.__esModule&&h||{"default":h}).rangeEach,E=(d=t("multiMap"),d&&d.__esModule&&d||{"default":d}).MultiMap;i.prototype.DESTINATION_RENDERER=1,i.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,i.prototype.recursiveDuckSchema=function(t){return y(t)},i.prototype.recursiveDuckColumns=function(t,e,n){var i,r;if("undefined"==typeof e&&(e=0,n=""),"object"==typeof t&&!Array.isArray(t))for(r in t)t.hasOwnProperty(r)&&(null===t[r]?(i=n+r,this.colToPropCache.push(i),this.propToColCache.set(i,e),e++):e=this.recursiveDuckColumns(t[r],e,r+"."));return e},i.prototype.createMap=function(){var t,e,n=this.getSchema();if("undefined"==typeof n)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new E;var i=this.instance.getSettings().columns;if(i)for(t=0,e=i.length;e>t;t++)"undefined"!=typeof i[t].data&&(this.colToPropCache[t]=i[t].data,this.propToColCache.set(i[t].data,t));else this.recursiveDuckColumns(n)},i.prototype.colToProp=function(t){return t=f.hooks.run(this.instance,"modifyCol",t),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[t]?this.colToPropCache[t]:t},i.prototype.propToCol=function(t){var e;return e="undefined"==typeof this.propToColCache.get(t)?t:this.propToColCache.get(t),e=f.hooks.run(this.instance,"unmodifyCol",e)},i.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},i.prototype.createRow=function(t,e,n){var i,r,o=this.instance.countCols(),s=0;e||(e=1),("number"!=typeof t||t>=this.instance.countSourceRows())&&(t=this.instance.countSourceRows()),r=t;for(var a=this.instance.getSettings().maxRows;e>s&&this.instance.countSourceRows()<a;)"array"===this.instance.dataType?this.instance.getSettings().dataSchema?i=_(this.getSchema()):(i=[],S(o-1,function(){return i.push(null)})):"function"===this.instance.dataType?i=this.instance.getSettings().dataSchema(t):(i={},w(i,this.getSchema())),t===this.instance.countSourceRows()?this.dataSource.push(i):this.dataSource.splice(t,0,i),s++,r++;return f.hooks.run(this.instance,"afterCreateRow",t,s,n),this.instance.forceFullRender=!0,s},i.prototype.createCol=function(t,e,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var i,r,o=this.instance.countSourceRows(),s=this.dataSource,a=0;e||(e=1),("number"!=typeof t||t>=this.instance.countCols())&&(t=this.instance.countCols()),r=t;for(var l=this.instance.getSettings().maxCols;e>a&&this.instance.countCols()<l;){if(i=m(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){for(var u=0;o>u;u++)"undefined"==typeof s[u]&&(s[u]=[]),s[u].push(null);this.priv.columnSettings.push(i)}else{for(var u=0;o>u;u++)s[u].splice(r,0,null);this.priv.columnSettings.splice(r,0,i)}a++,r++}return f.hooks.run(this.instance,"afterCreateCol",t,a,n),this.instance.forceFullRender=!0,a},i.prototype.removeRow=function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countSourceRows()+t)%this.instance.countSourceRows();var n=this.physicalRowsToLogical(t,e),i=(n.slice(0).sort(function(t,e){return e-t}),f.hooks.run(this.instance,"beforeRemoveRow",t,e,n));if(i!==!1){var r,o=this.dataSource;r=o.filter(function(t,e){return-1==n.indexOf(e)}),o.length=0,Array.prototype.push.apply(o,r),f.hooks.run(this.instance,"afterRemoveRow",t,e,n),this.instance.forceFullRender=!0}},i.prototype.removeCol=function(t,e){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var n=this.physicalColumnsToLogical(t,e),i=n.slice(0).sort(function(t,e){return e-t}),r=f.hooks.run(this.instance,"beforeRemoveCol",t,e,n);if(r!==!1){for(var o=!0,s=i.length,a=this.dataSource,l=0;s>l;l++)o&&n[0]!==n[l]-l&&(o=!1);if(o)for(var u=0,c=this.instance.countSourceRows();c>u;u++)a[u].splice(n[0],e);else{for(var h=0,d=this.instance.countSourceRows();d>h;h++)for(var p=0;s>p;p++)a[h].splice(i[p],1);for(var g=0;s>g;g++)this.priv.columnSettings.splice(n[g],1)}f.hooks.run(this.instance,"afterRemoveCol",t,e),this.instance.forceFullRender=!0}},i.prototype.spliceCol=function(t,e,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],r=this.instance.getDataAtCol(t),o=r.slice(e,e+n),s=r.slice(e+n);C(i,s);for(var a=0;n>a;)i.push(null),a++;return T(i),this.instance.populateFromArray(e,t,i,null,null,"spliceCol"),o},i.prototype.spliceRow=function(t,e,n){var i=4<=arguments.length?[].slice.call(arguments,3):[],r=this.instance.getSourceDataAtRow(t),o=r.slice(e,e+n),s=r.slice(e+n);C(i,s);for(var a=0;n>a;)i.push(null),a++;return this.instance.populateFromArray(t,e,[i],null,null,"spliceRow"),o},i.prototype.get=function(t,e){t=f.hooks.run(this.instance,"modifyRow",t);var n=this.dataSource[t];if(n&&n.hasOwnProperty&&n.hasOwnProperty(e))return n[e];if("string"==typeof e&&e.indexOf(".")>-1){var i=e.split("."),r=n;if(!r)return null;for(var o=0,s=i.length;s>o;o++)if(r=r[i[o]],"undefined"==typeof r)return null;return r}return"function"==typeof e?e(this.dataSource.slice(t,t+1)[0]):null};var R=g("copyable",!1);i.prototype.getCopyable=function(t,e){return R.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},i.prototype.set=function(t,e,n,i){t=f.hooks.run(this.instance,"modifyRow",t,i||"datamapGet");var r=this.dataSource[t];if(r&&r.hasOwnProperty&&r.hasOwnProperty(e))r[e]=n;else if("string"==typeof e&&e.indexOf(".")>-1){for(var o=e.split("."),s=r,a=0,l=o.length-1;l>a;a++)"undefined"==typeof s[o[a]]&&(s[o[a]]={}),s=s[o[a]];s[o[a]]=n}else"function"==typeof e?e(this.dataSource.slice(t,t+1)[0],n):r[e]=n},i.prototype.physicalRowsToLogical=function(t,e){for(var n,i=this.instance.countSourceRows(),r=(i+t)%i,o=[],s=e;i>r&&s;)n=f.hooks.run(this.instance,"modifyRow",r),o.push(n),s--,r++;return o},i.prototype.physicalColumnsToLogical=function(t,e){for(var n=this.instance.countCols(),i=(n+t)%n,r=[],o=e;n>i&&o;){var s=f.hooks.run(this.instance,"modifyCol",i);r.push(s),o--,i++}return r},i.prototype.clear=function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},i.prototype.clearLengthCache=function(){this.cachedLength=null},i.prototype.getLength=function(){var t=this,e=this.instance.countSourceRows();if(f.hooks.has("modifyRow",this.instance)){var n=!1;this.interval.start(),e!==this.latestSourceRowsCount&&(n=!0),this.latestSourceRowsCount=e,null===this.cachedLength||n?(S(e-1,function(n){n=f.hooks.run(t.instance,"modifyRow",n),null===n&&--e}),this.cachedLength=e):e=this.cachedLength}else this.interval.stop();return e},i.prototype.getAll=function(){var t={row:0,col:0},e={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-e.row!==0||this.instance.countSourceRows()?this.getRange(t,e,i.prototype.DESTINATION_RENDERER):[]},i.prototype.getRange=function(t,e,n){var i,r,o,s,a,l=[],u=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(r=Math.max(t.row,e.row),s=Math.max(t.col,e.col),i=Math.min(t.row,e.row);r>=i;i++){a=[];var c=f.hooks.run(this.instance,"modifyRow",i);for(o=Math.min(t.col,e.col);s>=o;o++){if(null===c)break;a.push(u.call(this,i,this.colToProp(o)))}null!==c&&l.push(a)}return l},i.prototype.getText=function(t,e){return p.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},i.prototype.getCopyableText=function(t,e){return p.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))},i.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null}},{SheetClip:"SheetClip",browser:23,"helpers/array":42,"helpers/data":44,"helpers/number":51,"helpers/object":52,"helpers/setting":53,multiMap:57,"utils/interval":103}],27:[function(t,e,n){"use strict";Object.defineProperties(n,{DataSource:{get:function(){return f}},__esModule:{value:!0}});var i,r,o,s,a,l=((i=t("helpers/data"),i&&i.__esModule&&i||{"default":i}).cellMethodLookupFactory,(r=t("helpers/setting"),r&&r.__esModule&&r||{"default":r}).columnFactory,o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}),u=(l.duckSchema,l.deepExtend,l.getProperty),c=(s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}),h=(c.extendArray,c.arrayEach),d=(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,f=function(t){var e=void 0!==arguments[1]?arguments[1]:[];this.hot=t,this.data=e,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}};$traceurRuntime.createClass(f,{getData:function(){return this.data},setData:function(t){this.data=t},getAtColumn:function(t){var e=this,n=[];return h(this.data,function(i){var r=e.colToProp(t);i="string"==typeof r?u(i,r):i[r],n.push(i)}),n},getAtRow:function(t){return this.data[t]},getAtCell:function(t,e){return this.data[t][this.colToProp(e)]},getByRange:function(t,e){var n=this,i=Math.min(t.row,e.row),r=Math.min(t.col,e.col),o=Math.max(t.row,e.row),s=Math.max(t.col,e.col),a=[];return d(i,o,function(t){var e,i=n.getAtRow(t);"array"===n.dataType?e=i.slice(r,s):"object"===n.dataType&&(e={},d(r,s,function(t){var r=n.colToProp(t);e[r]=i[r]})),a.push(e)}),a},destroy:function(){this.data=null,this.hot=null}},{})},{"helpers/array":42,"helpers/data":44,"helpers/number":51,"helpers/object":52,"helpers/setting":53}],28:[function(t,e,n){"use strict";function i(t,e,n){function i(t){var i="function"==typeof e.settings.enterMoves?e.settings.enterMoves(event):e.settings.enterMoves;t?n.transformStart(-i.row,-i.col):n.transformStart(i.row,i.col,!0)}function r(t){t?n.transformEnd(-1,0):n.transformStart(-1,0)}function o(t){t?n.transformEnd(1,0):n.transformStart(1,0)}function s(t){t?n.transformEnd(0,1):n.transformStart(0,1)}function a(t){t?n.transformEnd(0,-1):n.transformStart(0,-1)}function l(l){var u,d;if(t.isListening()&&(c.hooks.run(t,"beforeKeyDown",l),!C&&!w(l)&&(e.lastKeyCode=l.keyCode,n.isSelected()))){if(u=(l.ctrlKey||l.metaKey)&&!l.altKey,m&&!m.isWaiting()&&!(p(l.keyCode)||g(l.keyCode)||u||b.isEditorOpened()))return void b.openEditor("",l);switch(d=l.shiftKey?n.setRangeEnd:n.setRangeStart,l.keyCode){case f.A:!b.isEditorOpened()&&u&&(n.selectAll(),l.preventDefault(),v(l));break;case f.ARROW_UP:b.isEditorOpened()&&!m.isWaiting()&&b.closeEditorAndSaveChanges(u),r(l.shiftKey),l.preventDefault(),v(l);break;case f.ARROW_DOWN:b.isEditorOpened()&&!m.isWaiting()&&b.closeEditorAndSaveChanges(u),o(l.shiftKey),l.preventDefault(),v(l);break;case f.ARROW_RIGHT:b.isEditorOpened()&&!m.isWaiting()&&b.closeEditorAndSaveChanges(u),s(l.shiftKey),l.preventDefault(),v(l);break;case f.ARROW_LEFT:b.isEditorOpened()&&!m.isWaiting()&&b.closeEditorAndSaveChanges(u),a(l.shiftKey),l.preventDefault(),v(l);break;case f.TAB:var _="function"==typeof e.settings.tabMoves?e.settings.tabMoves(l):e.settings.tabMoves;l.shiftKey?n.transformStart(-_.row,-_.col):n.transformStart(_.row,_.col,!0),l.preventDefault(),v(l);break;case f.BACKSPACE:case f.DELETE:n.empty(l),b.prepareEditor(),l.preventDefault();break;case f.F2:b.openEditor(null,l),m&&m.enableFullEditMode(),l.preventDefault();break;case f.ENTER:b.isEditorOpened()?(m&&m.state!==c.EditorState.WAITING&&b.closeEditorAndSaveChanges(u),i(l.shiftKey)):t.getSettings().enterBeginsEditing?(b.openEditor(null,l),m&&m.enableFullEditMode()):i(l.shiftKey),l.preventDefault(),y(l);break;case f.ESCAPE:b.isEditorOpened()&&b.closeEditorAndRestoreOriginalValue(u),l.preventDefault();break;case f.HOME:d(l.ctrlKey||l.metaKey?new h(0,e.selRange.from.col):new h(e.selRange.from.row,0)),l.preventDefault(),v(l);break;case f.END:d(l.ctrlKey||l.metaKey?new h(t.countRows()-1,e.selRange.from.col):new h(e.selRange.from.row,t.countCols()-1)),l.preventDefault(),v(l);break;case f.PAGE_UP:n.transformStart(-t.countVisibleRows(),0),l.preventDefault(),v(l);break;case f.PAGE_DOWN:n.transformStart(t.countVisibleRows(),0),l.preventDefault(),v(l)}}}function u(){function e(t,e,n){"TD"==n.nodeName&&(b.openEditor(),m&&m.enableFullEditMode())}t.addHook("afterDocumentKeyDown",l),d.addEventListener(document.documentElement,"keydown",function(e){t.runHooks("afterDocumentKeyDown",e)}),t.view.wt.update("onCellDblClick",e),t.addHook("afterDestroy",function(){C=!0})}var d,m,b=this,C=!1;d=_(t),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return m},this.prepareEditor=function(){var n,i,r,o,s,a,l;return m&&m.isWaiting()?void this.closeEditor(!1,!1,function(t){t&&b.prepareEditor()}):(n=e.selRange.highlight.row,i=e.selRange.highlight.col,r=t.colToProp(i),o=t.getCell(n,i),s=t.getDataAtCell(n,i),a=t.getCellMeta(n,i),l=t.getCellEditor(a),void(l?(m=c.editors.getEditor(l,t),m.prepare(n,i,r,o,s,a)):m=void 0))},this.isEditorOpened=function(){return m&&m.isOpened()},this.openEditor=function(t,e){m&&!m.cellProperties.readOnly?m.beginEditing(t,e):m&&m.cellProperties.readOnly&&e&&e.keyCode===f.ENTER&&i()},this.closeEditor=function(t,e,n){m?m.finishEditing(t,e,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},u()}Object.defineProperties(n,{EditorManager:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a,l,u,c=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],h=(o=t("3rdparty/walkontable/src/cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,d=(s=t("helpers/unicode"),s&&s.__esModule&&s||{"default":s}),f=d.KEY_CODES,p=d.isMetaKey,g=d.isCtrlKey,m=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),v=m.stopPropagation,y=m.stopImmediatePropagation,w=m.isImmediatePropagationStopped,_=((l=t("editors"),l&&l.__esModule&&l||{
"default":l}).getEditor,(u=t("eventManager"),u&&u.__esModule&&u||{"default":u}).eventManager);c.EditorManager=i},{"3rdparty/walkontable/src/cell/coords":5,browser:23,editors:29,eventManager:41,"helpers/dom/event":47,"helpers/unicode":55}],29:[function(t,e,n){"use strict";function i(t){var e,n;n={},e=t,this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in n||(n[t.guid]=new e(t)),n[t.guid]}}function r(t,e){var n=new i(e);"string"==typeof t&&(d[t]=n,c.editors[h(t)+"Editor"]=e),f.set(e,n)}function o(t,e){var n;if("function"==typeof t)f.get(t)||r(null,t),n=f.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');n=d[t]}if(!n)throw Error('No editor registered under name "'+t+'"');return n.getInstance(e)}function s(t){var e;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');if(e=d[t],!e)throw Error('No editor registered under name "'+t+'"');return e.getConstructor()}function a(t){return!!d[t]}Object.defineProperties(n,{registerEditor:{get:function(){return r}},getEditor:{get:function(){return o}},hasEditor:{get:function(){return a}},getEditorConstructor:{get:function(){return s}},__esModule:{value:!0}});var l,u,c=(l=t("browser"),l&&l.__esModule&&l||{"default":l})["default"],h=(u=t("helpers/string"),u&&u.__esModule&&u||{"default":u}).toUpperCaseFirst,d={},f=new WeakMap;c.editors=c.editors||{},c.editors.registerEditor=r,c.editors.getEditor=o},{browser:23,"helpers/string":54}],30:[function(t,e,n){"use strict";function i(t){this.instance=t,this.state=a.EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}Object.defineProperties(n,{BaseEditor:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],l=(o=t("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,u=(s=t("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords;a.editors=a.editors||{},a.editors.BaseEditor=i,a.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},i.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},i.prototype.init=function(){},i.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},i.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},i.prototype.open=function(){throw Error("Editor open() method unimplemented")},i.prototype.close=function(){throw Error("Editor close() method unimplemented")},i.prototype.prepare=function(t,e,n,i,r,o){this.TD=i,this.row=t,this.col=e,this.prop=n,this.originalValue=r,this.cellProperties=o,this.instance.view.isMouseDown()&&document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus(),this.state=a.EditorState.VIRGIN},i.prototype.extend=function(){function t(){n.apply(this,arguments)}function e(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t}var n=this.constructor;return e(t,n)},i.prototype.saveValue=function(t,e){var n,i;e?(n=this.instance.getSelected(),n[0]>n[2]&&(i=n[0],n[0]=n[2],n[2]=i),n[1]>n[3]&&(i=n[1],n[1]=n[3],n[3]=i),this.instance.populateFromArray(n[0],n[1],t,n[2],n[3],"edit")):this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},i.prototype.beginEditing=function(t,e){this.state==a.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new u(this.row,this.col)),this.instance.view.render(),this.state=a.EditorState.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue(l(t)),this.open(e),this._opened=!0,this.focus(),this.instance.view.render())},i.prototype.finishEditing=function(t,e,n){var i,r=this;if(n){var o=this._closeCallback;this._closeCallback=function(t){o&&o(t),n(t)}}if(!this.isWaiting()){if(this.state==a.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){r._fireCallbacks(!0)},0));if(this.state==a.EditorState.EDITING){if(t)return this.cancelChanges(),void this.instance.view.render();var s=this.getValue();i=this.instance.getSettings().trimWhitespace?[["string"==typeof s?String.prototype.trim.call(s||""):s]]:[[s]],this.state=a.EditorState.WAITING,this.saveValue(i,e),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(t){r.state=a.EditorState.FINISHED,r.discardEditor(t)}):(this.state=a.EditorState.FINISHED,this.discardEditor(!0))}}},i.prototype.cancelChanges=function(){this.state=a.EditorState.FINISHED,this.discardEditor()},i.prototype.discardEditor=function(t){this.state===a.EditorState.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=a.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=a.EditorState.VIRGIN,this._fireCallbacks(!0)))},i.prototype.enableFullEditMode=function(){this._fullEditMode=!0},i.prototype.isInFullEditMode=function(){return this._fullEditMode},i.prototype.isOpened=function(){return this._opened},i.prototype.isWaiting=function(){return this.state===a.EditorState.WAITING},i.prototype.checkEditorSection=function(){var t=this.instance.countRows(),e="";return this.row<this.instance.getSettings().fixedRowsTop?e=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=t-this.instance.getSettings().fixedRowsBottom?e=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(e="left"),e}},{"3rdparty/walkontable/src/cell/coords":5,browser:23,"helpers/mixed":50}],31:[function(t,e,n){"use strict";function i(t){k=!1;var e=this.getActiveEditor();if(f(t.keyCode)||t.keyCode===d.BACKSPACE||t.keyCode===d.DELETE||t.keyCode===d.INSERT){var n=0;if(t.keyCode===d.C&&(t.ctrlKey||t.metaKey))return;e.isOpened()||(n+=10),e.htEditor&&e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value),k=!0},n))}}Object.defineProperties(n,{AutocompleteEditor:{get:function(){return M}},__esModule:{value:!0}});var r,o,s,a,l,u,c,h=((r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],o=t("helpers/unicode"),o&&o.__esModule&&o||{"default":o}),d=h.KEY_CODES,f=h.isPrintableChar,p=(s=t("helpers/mixed"),s&&s.__esModule&&s||{"default":s}).stringify,g=(a=t("helpers/array"),a&&a.__esModule&&a||{"default":a}).pivot,m=(l=t("helpers/dom/element"),l&&l.__esModule&&l||{"default":l}),v=m.addClass,y=m.getCaretPosition,w=m.getScrollbarWidth,_=m.getSelectionEndPosition,b=m.outerWidth,C=m.outerHeight,T=m.offset,x=m.getTrimmingContainer,S=m.setCaretPosition,E=(u=t("editors"),u&&u.__esModule&&u||{"default":u}).registerEditor,R=(c=t("handsontableEditor"),c&&c.__esModule&&c||{"default":c}).HandsontableEditor,M=R.prototype.extend();M.prototype.init=function(){R.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},M.prototype.createElements=function(){R.prototype.createElements.apply(this,arguments),v(this.htContainer,"autocompleteEditor"),v(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")};var k=!1;M.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",i),R.prototype.prepare.apply(this,arguments)},M.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",R.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var t=this.htEditor.getInstance(),e=this,n=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),t.updateSettings({colWidths:n?[b(this.TEXTAREA)-2]:void 0,width:n?b(this.TEXTAREA)+w()+2:void 0,afterRenderer:function(t,n,i,r,o){var s,a,l=this.getCellMeta(n,i).filteringCaseSensitive===!0;o=p(o),o&&(s=l?o.indexOf(this.query):o.toLowerCase().indexOf(e.query.toLowerCase()),-1!=s&&(a=o.substr(s,e.query.length),t.innerHTML=o.replace(a,"<strong>"+a+"</strong>")))},autoColumnSize:!0,modifyColWidth:function(t,e){var i=this.getPlugin("autoColumnSize").widths;return i[e]&&(t=i[e]),n?t:t+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=w()+2+"px",k&&(k=!1),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value)},0))},M.prototype.close=function(){R.prototype.close.apply(this,arguments)},M.prototype.queryChoices=function(t){this.query=t;var e=this.cellProperties.source,n=this.cellProperties.filter,i=this.cellProperties.filteringCaseSensitive;if("function"==typeof e){var r=this;e.call(this.cellProperties,t,function(t){r.updateChoicesList(t)})}else if(Array.isArray(e)){var o;if(t&&n!==!1){var s=t.toLowerCase();o=e.filter(function(e){return i?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(s)})}else o=e;this.updateChoicesList(o)}else this.updateChoicesList([])},M.prototype.updateChoicesList=function(t){var e=y(this.TEXTAREA),n=_(this.TEXTAREA),i=this.cellProperties.sortByRelevance,r=this.cellProperties.filter,o=null,s=null;if(i&&(o=M.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive)),r===!1)s=o?o[0]:0;else{for(var a=[],l=0,u=t.length;u>l;l++)o?a.push(t[o[l]]):a.push(t[l]);s=0,t=a}this.choices=t,this.htEditor.loadData(g([t])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(s),this.instance.listen(),this.TEXTAREA.focus(),S(this.TEXTAREA,e,e===n?void 0:n)},M.prototype.flipDropdownIfNeeded=function(){var t=T(this.TEXTAREA),e=C(this.TEXTAREA),n=this.getDropdownHeight(),i=x(this.instance.view.wt.wtTable.TABLE),r={row:0,col:0};i!==window&&(r=T(i));var o=r.top+(i.scrollHeight-i.scrollTop),s=r.top+i.scrollHeight,a=t.top+e+n>o;a&&s>o?this.flipDropdown(n):this.unflipDropdown()},M.prototype.flipDropdown=function(t){var e=this.htEditor.rootElement.style;e.position="absolute",e.top=-t+"px",this.htEditor.flipped=!0},M.prototype.unflipDropdown=function(){var t=this.htEditor.rootElement.style;"absolute"===t.position&&(t.position="",t.top=""),this.htEditor.flipped=void 0},M.prototype.updateDropdownHeight=function(){var t=this.htEditor.getColWidth(0)+w()+2,e=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},M.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",i),R.prototype.finishEditing.apply(this,arguments)},M.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},M.sortByRelevance=function(t,e,n){var i,r,o,s,a=[],l=t.length,u=[],c=e.length;if(0===l){for(s=0;c>s;s++)u.push(s);return u}for(s=0;c>s;s++)i=p(e[s]),r=n?i.indexOf(t):i.toLowerCase().indexOf(t.toLowerCase()),-1!=r&&(o=i.length-r-l,a.push({baseIndex:s,index:r,charsLeft:o,value:i}));for(a.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),s=0,c=a.length;c>s;s++)u.push(a[s].baseIndex);return u},M.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23,e=this.cellProperties.visibleRows;return this.choices.length>=e?e*t:this.choices.length*t+8},M.prototype.allowKeyEventPropagation=function(t){var e={row:this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1},n=!1;return t===d.ARROW_DOWN&&e.row>0&&e.row<this.htEditor.countRows()-1&&(n=!0),t===d.ARROW_UP&&e.row>-1&&(n=!0),n},E("autocomplete",M)},{browser:23,editors:29,handsontableEditor:35,"helpers/array":42,"helpers/dom/element":46,"helpers/mixed":50,"helpers/unicode":55}],32:[function(t,e,n){"use strict";Object.defineProperties(n,{CheckboxEditor:{get:function(){return u}},__esModule:{value:!0}});var i,r,o,s=(i=t("editors"),i&&i.__esModule&&i||{"default":i}).registerEditor,a=(r=t("_baseEditor"),r&&r.__esModule&&r||{"default":r}).BaseEditor,l=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).hasClass,u=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=u;$traceurRuntime.createClass(u,{beginEditing:function(t,e){if(void 0===e){var n=this.TD.querySelector('input[type="checkbox"]');l(n,"htBadValue")||n.click()}},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},a),s("checkbox",u)},{_baseEditor:30,editors:29,"helpers/dom/element":46}],33:[function(t,e,n){"use strict";Object.defineProperties(n,{DateEditor:{get:function(){return E}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,f=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],p=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),g=p.addClass,m=p.outerHeight,v=(o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).deepExtend,y=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).EventManager,w=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),_=(w.getEditor,w.registerEditor),b=(l=t("helpers/unicode"),l&&l.__esModule&&l||{"default":l}).isMetaKey,C=(u=t("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}).stopPropagation,T=(c=t("textEditor"),c&&c.__esModule&&c||{"default":c}).TextEditor,x=(h=t("moment"),h&&h.__esModule&&h||{"default":h})["default"],S=(d=t("pikaday"),d&&d.__esModule&&d||{"default":d})["default"];f.editors=f.editors||{},f.editors.DateEditor=E;var E=function(t){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superConstructor(R).call(this,t)},R=E;$traceurRuntime.createClass(E,{init:function(){var t=this;if("function"!=typeof x)throw new Error("You need to include moment.js to your project.");if("function"!=typeof S)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,R.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},createElements:function(){$traceurRuntime.superGet(this,R.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,g(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new S(this.getDatePickerConfig());var t=new y(this);t.addEventListener(this.datePicker,"mousedown",function(t){return C(t)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(t,e,n,i,r,o){this._opened=!1,$traceurRuntime.superGet(this,R.prototype,"prepare").call(this,t,e,n,i,r,o)},open:function(){var t=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,R.prototype,"open").call(this),this.showDatepicker(t)},close:function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,R.prototype,"close").call(this)},finishEditing:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=void 0!==arguments[1]?arguments[1]:!1;if(t){var n=this.originalValue;void 0!==n&&this.setValue(n)}this.hideDatepicker(),$traceurRuntime.superGet(this,R.prototype,"finishEditing").call(this,t,e)},showDatepicker:function(t){this.$datePicker.config(this.getDatePickerConfig());var e,n=this.TD.getBoundingClientRect(),i=this.cellProperties.dateFormat||this.defaultDateFormat,r=this.$datePicker.config(),o=this.instance.view.isMouseDown(),s=t?b(t.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+n.top+m(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+n.left+"px",this.$datePicker._onInputFocus=function(){},r.format=i,this.originalValue?(e=this.originalValue,x(e,i,!0).isValid()&&this.$datePicker.setMoment(x(e,i),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),s||o||this.setValue("")):this.cellProperties.defaultDate?(e=this.cellProperties.defaultDate,r.defaultDate=e,x(e,i,!0).isValid()&&this.$datePicker.setMoment(x(e,i),!0),s||o||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()},getDatePickerConfig:function(){var t=this,e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&v(n,this.cellProperties.datePickerConfig);var i=n.onSelect,r=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(e){isNaN(e.getTime())||(e=x(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker(),i&&i()},n.onClose=function(){t.parentDestroyed||t.finishEditing(!1),r&&r()},n}},{},T),_("date",E)},{browser:23,editors:29,eventManager:41,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/object":52,"helpers/unicode":55,moment:"moment",pikaday:"pikaday",textEditor:40}],34:[function(t,e,n){"use strict";Object.defineProperties(n,{DropdownEditor:{get:function(){return c}},__esModule:{value:!0}});var i,r,o,s=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],a=(r=t("editors"),r&&r.__esModule&&r||{"default":r}),l=(a.getEditor,a.registerEditor),u=(a.getEditorConstructor,(o=t("autocompleteEditor"),o&&o.__esModule&&o||{"default":o}).AutocompleteEditor),c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{prepare:function(t,e,n,i,r,o){$traceurRuntime.superGet(this,h.prototype,"prepare").call(this,t,e,n,i,r,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},u),s.hooks.add("beforeValidate",function(t,e,n,i){var r=this.getCellMeta(e,this.propToCol(n));r.editor===s.editors.DropdownEditor&&void 0===r.strict&&(r.filter=!1,r.strict=!0)}),l("dropdown",c)},{autocompleteEditor:31,browser:23,editors:29}],35:[function(t,e,n){"use strict";Object.defineProperties(n,{HandsontableEditor:{get:function(){return _}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],h=(r=t("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES,d=(o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).extend,f=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}).setCaretPosition,p=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),g=p.stopImmediatePropagation,m=p.isImmediatePropagationStopped,v=(l=t("editors"),l&&l.__esModule&&l||{"default":l}),y=(v.getEditor,v.registerEditor),w=(u=t("textEditor"),u&&u.__esModule&&u||{"default":u}).TextEditor,_=w.prototype.extend();_.prototype.createElements=function(){w.prototype.createElements.apply(this,arguments);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()},_.prototype.prepare=function(t,e,n,i,r,o){w.prototype.prepare.apply(this,arguments);var s=this,a={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&s.setValue(t),s.instance.destroyEditor()}};this.cellProperties.handsontable&&d(a,o.handsontable),this.htOptions=a};var b=function(t){if(!m(t)){var e,n=this.getActiveEditor(),i=n.htEditor.getInstance();if(t.keyCode==h.ARROW_DOWN)if(i.getSelected()||i.flipped){if(i.getSelected())if(i.flipped)e=i.getSelected()[0]+1;else if(!i.flipped){var r=i.getSelected()[0],o=i.countRows()-1;e=Math.min(o,r+1)}}else e=0;else if(t.keyCode==h.ARROW_UP)if(!i.getSelected()&&i.flipped)e=i.countRows()-1;else if(i.getSelected())if(i.flipped){var r=i.getSelected()[0];e=Math.max(0,r-1)}else{var r=i.getSelected()[0];e=r-1}void 0!==e&&(0>e||i.flipped&&e>i.countRows()-1?i.deselectCell():i.selectCell(e,0),i.getData().length&&(t.preventDefault(),g(t),n.instance.listen(),n.TEXTAREA.focus()))}};_.prototype.open=function(){this.instance.addHook("beforeKeyDown",b),w.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new c(this.htContainer,this.htOptions),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),f(this.TEXTAREA,0,this.TEXTAREA.value.length)},_.prototype.close=function(){this.instance.removeHook("beforeKeyDown",b),this.instance.listen(),w.prototype.close.apply(this,arguments)},_.prototype.focus=function(){this.instance.listen(),w.prototype.focus.apply(this,arguments)},_.prototype.beginEditing=function(t){var e=this.instance.getSettings().onBeginEditing;e&&e()===!1||w.prototype.beginEditing.apply(this,arguments)},_.prototype.finishEditing=function(t,e){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return w.prototype.finishEditing.apply(this,arguments)},_.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},y("handsontable",_)},{browser:23,editors:29,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/object":52,"helpers/unicode":55,textEditor:40}],36:[function(t,e,n){"use strict";Object.defineProperties(n,{MobileTextEditor:{get:function(){return k}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c=((i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],(r=t("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES),h=(o=t("helpers/dom/event"),o&&o.__esModule&&o||{"default":o}),d=h.stopImmediatePropagation,f=h.isImmediatePropagationStopped,p=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}),g=p.addClass,m=p.getScrollLeft,v=p.getScrollTop,y=p.hasClass,w=p.isChildOf,_=p.offset,b=p.outerHeight,C=p.outerWidth,T=p.removeClass,x=p.setCaretPosition,S=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),E=(S.getEditor,S.registerEditor),R=(l=t("_baseEditor"),l&&l.__esModule&&l||{"default":l}).BaseEditor,M=(u=t("eventManager"),u&&u.__esModule&&u||{"default":u}).eventManager,k=R.prototype.extend(),O={},A=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};k.prototype.valueChanged=function(){return this.initValue!=this.getValue()},k.prototype.init=function(){var t=this;this.eventManager=M(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},k.prototype.getValue=function(){return this.TEXTAREA.value},k.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},k.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),g(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),A.call(this),document.body.appendChild(this.editorContainer)},k.prototype.onBeforeKeyDown=function(t){var e=this,n=e.getActiveEditor();if(t.target===n.TEXTAREA&&!f(t))switch(t.keyCode){case c.ENTER:n.close(),t.preventDefault();break;case c.BACKSPACE:d(t)}},k.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),g(this.editorContainer,"active"),T(this.cellPointer,"hidden"),this.updateEditorPosition()},k.prototype.focus=function(){this.TEXTAREA.focus(),x(this.TEXTAREA,this.TEXTAREA.value.length)},k.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),T(this.editorContainer,"active")},k.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},k.prototype.hideCellPointer=function(){y(this.cellPointer,"hidden")||g(this.cellPointer,"hidden")},k.prototype.updateEditorPosition=function(t,e){if(t&&e)t=parseInt(t,10),e=parseInt(e,10),this.editorContainer.style.top=e+"px",this.editorContainer.style.left=t+"px";else{var n=this.instance.getSelected(),i=this.instance.getCell(n[0],n[1]);if(O.cellPointer||(O.cellPointer={height:b(this.cellPointer),width:C(this.cellPointer)}),O.editorContainer||(O.editorContainer={width:C(this.editorContainer)}),void 0!==i){var r=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:m(this.instance.view.wt.wtOverlays.leftOverlay.holder),o=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:v(this.instance.view.wt.wtOverlays.topOverlay.holder),s=_(i),a=C(i),l={x:r,y:o};this.editorContainer.style.top=parseInt(s.top+b(i)-l.y+O.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-O.editorContainer.width/2,10)+"px",s.left+a/2>parseInt(this.editorContainer.style.left,10)+O.editorContainer.width?this.editorContainer.style.left=window.innerWidth-O.editorContainer.width+"px":s.left+a/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(s.left-O.cellPointer.width/2-_(this.editorContainer).left+a/2-l.x,10)+"px"}}},k.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},k.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},k.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,-1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(-1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(e){if(1==e.touches.length){var n=e.touches[0],i={x:t.editorContainer.offsetLeft,y:t.editorContainer.offsetTop},r={x:n.pageX-i.x,y:n.pageY-i.y};t.eventManager.addEventListener(this,"touchmove",function(e){var n=e.touches[0];t.updateEditorPosition(n.pageX-r.x,n.pageY-r.y),t.hideCellPointer(),e.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(e){w(e.target,t.editorContainer)||w(e.target,t.instance.rootElement)||t.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&t.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&t.hideCellPointer()})},k.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},E("mobile",k)},{_baseEditor:30,browser:23,editors:29,eventManager:41,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/unicode":55}],37:[function(t,e,n){"use strict";Object.defineProperties(n,{NumericEditor:{get:function(){return u}},__esModule:{value:!0}});var i,r,o,s=(i=t("numeral"),i&&i.__esModule&&i||{"default":i})["default"],a=(r=t("editors"),r&&r.__esModule&&r||{"default":r}).registerEditor,l=(o=t("textEditor"),o&&o.__esModule&&o||{"default":o}).TextEditor,u=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=u;$traceurRuntime.createClass(u,{beginEditing:function(t){if("undefined"==typeof t&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&s.language(this.cellProperties.language);var e=s.languageData().delimiters.decimal;t=(""+this.originalValue).replace(".",e)}$traceurRuntime.superGet(this,c.prototype,"beginEditing").call(this,t)}},{},l),a("numeric",u)},{editors:29,numeral:"numeral",textEditor:40}],38:[function(t,e,n){"use strict";Object.defineProperties(n,{PasswordEditor:{get:function(){return h}},__esModule:{value:!0}});var i,r,o,s,a=((i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).empty),l=(o=t("editors"),o&&o.__esModule&&o||{"default":o}),u=(l.getEditor,l.registerEditor),c=(s=t("textEditor"),s&&s.__esModule&&s||{"default":s}).TextEditor,h=function(){$traceurRuntime.superConstructor(d).apply(this,arguments)},d=h;$traceurRuntime.createClass(h,{createElements:function(){$traceurRuntime.superGet(this,d.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,a(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},c),u("password",h)},{browser:23,editors:29,"helpers/dom/element":46,textEditor:40}],39:[function(t,e,n){"use strict";Object.defineProperties(n,{SelectEditor:{get:function(){return E}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],c=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.addClass,d=c.empty,f=c.fastInnerHTML,p=c.getComputedStyle,g=c.getCssTransform,m=c.getScrollableElement,v=c.offset,y=c.outerHeight,w=c.outerWidth,_=c.resetCssTransform,b=(o=t("helpers/dom/event"),o&&o.__esModule&&o||{"default":o}).stopImmediatePropagation,C=(s=t("helpers/unicode"),s&&s.__esModule&&s||{"default":s}).KEY_CODES,T=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),x=(T.getEditor,T.registerEditor),S=(l=t("_baseEditor"),l&&l.__esModule&&l||{"default":l}).BaseEditor,E=S.prototype.extend();E.prototype.init=function(){this.select=document.createElement("SELECT"),h(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},E.prototype.registerHooks=function(){var t=this;this.instance.addHook("afterScrollHorizontally",function(){return t.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return t.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){
return t.refreshDimensions()})},E.prototype.prepare=function(){S.prototype.prepare.apply(this,arguments);var t,e=this.cellProperties.selectOptions;t="function"==typeof e?this.prepareOptions(e(this.row,this.col,this.prop)):this.prepareOptions(e),d(this.select);for(var n in t)if(t.hasOwnProperty(n)){var i=document.createElement("OPTION");i.value=n,f(i,t[n]),this.select.appendChild(i)}},E.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var n=0,i=t.length;i>n;n++)e[t[n]]=t[n];else"object"==typeof t&&(e=t);return e},E.prototype.getValue=function(){return this.select.value},E.prototype.setValue=function(t){this.select.value=t};var R=function(t){var e=this,n=e.getActiveEditor();switch(t.keyCode){case C.ARROW_UP:var i=n.select.selectedIndex-1;i>=0&&(n.select[i].selected=!0),b(t),t.preventDefault();break;case C.ARROW_DOWN:var r=n.select.selectedIndex+1;r<=n.select.length-1&&(n.select[r].selected=!0),b(t),t.preventDefault()}};E.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",R)},E.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",R)},E.prototype.focus=function(){this.select.focus()},E.prototype.refreshDimensions=function(){if(this.state===u.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var t,e=w(this.TD)+1,n=y(this.TD)+1,i=v(this.TD),r=v(this.instance.rootElement),o=m(this.TD),s=i.top-r.top-1-(o.scrollTop||0),a=i.left-r.left-1-(o.scrollLeft||0),l=this.checkEditorSection(),c=this.instance.getSettings();c.rowHeaders?1:0,c.colHeaders?1:0;switch(l){case"top":t=g(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=g(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":t=g(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":t=g(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":t=g(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(s+=1),0===this.instance.getSelected()[1]&&(a+=1);var h=this.select.style;t&&-1!=t?h[t[0]]=t[1]:_(this.select);var d=p(this.TD);parseInt(d.borderTopWidth,10)>0&&(n-=1),parseInt(d.borderLeftWidth,10)>0&&(e-=1),h.height=n+"px",h.minWidth=e+"px",h.top=s+"px",h.left=a+"px",h.margin="0px"}},E.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=t&&-2!=t?t:void 0},x("select",E)},{_baseEditor:30,browser:23,editors:29,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/unicode":55}],40:[function(t,e,n){"use strict";Object.defineProperties(n,{TextEditor:{get:function(){return L}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],d=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),f=d.addClass,p=d.getCaretPosition,g=d.getComputedStyle,m=d.getCssTransform,v=d.getScrollableElement,y=d.getScrollbarWidth,w=d.innerWidth,_=d.offset,b=d.resetCssTransform,C=d.setCaretPosition,T=d.hasVerticalScrollbar,x=d.hasHorizontalScrollbar,S=(o=t("autoResize"),o&&o.__esModule&&o||{"default":o})["default"],E=(s=t("_baseEditor"),s&&s.__esModule&&s||{"default":s}).BaseEditor,R=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,M=(l=t("editors"),l&&l.__esModule&&l||{"default":l}),k=(M.getEditor,M.registerEditor),O=(u=t("helpers/unicode"),u&&u.__esModule&&u||{"default":u}).KEY_CODES,A=(c=t("helpers/dom/event"),c&&c.__esModule&&c||{"default":c}),N=A.stopPropagation,P=A.stopImmediatePropagation,D=A.isImmediatePropagationStopped,L=E.prototype.extend();L.prototype.init=function(){var t=this;this.createElements(),this.eventManager=R(this),this.bindEvents(),this.autoResize=S(),this.instance.addHook("afterDestroy",function(){t.destroy()})},L.prototype.getValue=function(){return this.TEXTAREA.value},L.prototype.setValue=function(t){this.TEXTAREA.value=t};var H=function(t){var e,n=this,i=n.getActiveEditor();if(e=(t.ctrlKey||t.metaKey)&&!t.altKey,t.target===i.TEXTAREA&&!D(t)){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void P(t);switch(t.keyCode){case O.ARROW_RIGHT:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&P(t);break;case O.ARROW_LEFT:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&P(t);break;case O.ARROW_UP:case O.ARROW_DOWN:i.isInFullEditMode()&&(!i.isWaiting()&&!i.allowKeyEventPropagation||!i.isWaiting()&&i.allowKeyEventPropagation&&!i.allowKeyEventPropagation(t.keyCode))&&P(t);break;case O.ENTER:var r=i.instance.getSelected(),o=!(r[0]===r[2]&&r[1]===r[3]);if(e&&!o||t.altKey){if(i.isOpened()){var s=p(i.TEXTAREA),a=i.getValue(),l=a.slice(0,s)+"\n"+a.slice(s);i.setValue(l),C(i.TEXTAREA,s+1)}else i.beginEditing(i.originalValue+"\n");P(t)}t.preventDefault();break;case O.A:case O.X:case O.C:case O.V:e&&P(t);break;case O.BACKSPACE:case O.DELETE:case O.HOME:case O.END:P(t)}-1===[O.ARROW_UP,O.ARROW_RIGHT,O.ARROW_DOWN,O.ARROW_LEFT].indexOf(t.keyCode)&&i.autoResize.resize(String.fromCharCode(t.keyCode))}};L.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",H)},L.prototype.close=function(t){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",H)},L.prototype.focus=function(){this.TEXTAREA.focus(),C(this.TEXTAREA,this.TEXTAREA.value.length)},L.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),f(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),f(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var t=this;this.instance._registerTimeout(setTimeout(function(){t.refreshDimensions()},0))},L.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":t=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":t=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},L.prototype.refreshDimensions=function(){if(this.state===h.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close(!0);var t,e=_(this.TD),n=_(this.instance.rootElement),i=v(this.TD),r=this.instance.countRows(),o=e.top-n.top-1-(i.scrollTop||0),s=e.left-n.left-1-(i.scrollLeft||0),a=this.instance.getSettings(),l=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),u=this.checkEditorSection(),c=this.TD.style.backgroundColor;switch(u){case"top":t=m(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=m(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":t=m(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":t=m(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":t=m(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(l&&0===this.instance.getSelected()[0]||a.fixedRowsBottom&&this.instance.getSelected()[0]===r-a.fixedRowsBottom)&&(o+=1),0===this.instance.getSelected()[1]&&(s+=1),t&&-1!=t?this.textareaParentStyle[t[0]]=t[1]:b(this.TEXTAREA_PARENT),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=s+"px";var d=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,f=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,p=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),C=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),S=y(),E=this.TD.offsetTop+d-C,R=this.TD.offsetLeft+f-p,M=w(this.TD)-8,k=T(i)?S:0,O=x(i)?S:0,A=this.instance.view.maximumVisibleElementWidth(R)-9-k,N=this.TD.scrollHeight+1,P=Math.max(this.instance.view.maximumVisibleElementHeight(E)-O,23),D=g(this.TD);this.TEXTAREA.style.fontSize=D.fontSize,this.TEXTAREA.style.fontFamily=D.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=c?c:g(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(N,P),maxHeight:P,minWidth:Math.min(M,A),maxWidth:A},!0),this.textareaParentStyle.display="block"}},L.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){N(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){N(t)}),this.instance.addHook("afterScrollHorizontally",function(){t.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterDestroy",function(){t.eventManager.destroy()})},L.prototype.destroy=function(){this.eventManager.destroy()},k("text",L)},{_baseEditor:30,autoResize:"autoResize",browser:23,editors:29,eventManager:41,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/unicode":55}],41:[function(t,e,n){"use strict";function i(t,e){var n,i,r,o,s,a,l="HOT-TABLE";if(e.isTargetWebComponent=!1,e.realTarget=e.target,a=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){a.apply(this),p(this)},!u.eventManager.isHotTableEnv)return e;for(e=h(e),s=e.path?e.path.length:0;s--;){if(e.path[s].nodeName===l)n=!0;else if(n&&e.path[s].shadowRoot){o=e.path[s];break}0!==s||o||(o=e.path[s])}return o||(o=e.target),e.isTargetWebComponent=!0,f()?e.realTarget=e.srcElement||e.toElement:(t instanceof u.Core||t instanceof Walkontable)&&(t instanceof u.Core?i=t.view?t.view.wt.wtTable.TABLE:null:t instanceof Walkontable&&(i=t.wtTable.TABLE.parentNode.parentNode),r=d(e.target,[l],i),r?e.realTarget=i.querySelector(l)||e.target:e.realTarget=e.target),Object.defineProperty(e,"target",{get:function(){return h(o)},enumerable:!0,configurable:!0}),e}function r(t){return new g(t)}Object.defineProperties(n,{EventManager:{get:function(){return g}},eventManager:{get:function(){return r}},__esModule:{value:!0}});var o,s,a,l,u=(o=t("browser"),o&&o.__esModule&&o||{"default":o})["default"],c=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}),h=c.polymerWrap,d=c.closest,f=(a=t("helpers/feature"),a&&a.__esModule&&a||{"default":a}).isWebComponentSupportedNatively,p=(l=t("helpers/dom/event"),l&&l.__esModule&&l||{"default":l}).stopImmediatePropagation,g=function(){var t=void 0!==arguments[0]?arguments[0]:null;this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(g,{addEventListener:function(t,e,n){function r(t){t=i(s,t),n.call(this,t)}var o=this,s=this.context;return this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:r}),window.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r),u.countEventManagerListeners++,function(){o.removeEventListener(t,e,n)}},removeEventListener:function(t,e,n){for(var i,r=this.context.eventListeners.length;r--;)if(i=this.context.eventListeners[r],i.event==e&&i.element==t){if(n&&n!=i.callback)continue;this.context.eventListeners.splice(r,1),i.element.removeEventListener?i.element.removeEventListener(i.event,i.callbackProxy,!1):i.element.detachEvent("on"+i.event,i.callbackProxy),u.countEventManagerListeners--}},clearEvents:function(){if(this.context)for(var t=this.context.eventListeners.length;t--;){var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}},clear:function(){this.clearEvents()},destroy:function(){this.clearEvents(),this.context=null},fireEvent:function(t,e){var n,i={bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(e,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||document.body.parentNode)):n=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n)}},{}),u.countEventManagerListeners=0,u.eventManager=r},{browser:23,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/feature":48}],42:[function(t,e,n){"use strict";function i(t){for(var e=0,n=t.length;n>e;)t[e]=[t[e]],e++}function r(t,e){for(var n=0,i=e.length;i>n;)t.push(e[n]),n++}function o(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,i=t[0].length,r=0;n>r;r++)for(var o=0;i>o;o++)e[o]||(e[o]=[]),e[o][r]=t[r][o];return e}function s(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function a(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function l(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];o[++r]=e(s,n,t)}return o}function u(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function c(t){return s(t,function(t,e){return t+e},0)}function h(t){return s(t,function(t,e){return t>e?t:e},Array.isArray(t)?t[0]:void 0)}function d(t){return s(t,function(t,e){return e>t?t:e},Array.isArray(t)?t[0]:void 0)}function f(t){return t.length?c(t)/t.length:0}function p(t){return s(t,function(t,e){return t.concat(Array.isArray(e)?p(e):e)},[])}function g(t){var e=[];return u(t,function(t){-1===e.indexOf(t)&&e.push(t)}),e}Object.defineProperties(n,{to2dArray:{get:function(){return i}},extendArray:{get:function(){return r}},pivot:{get:function(){return o}},arrayReduce:{get:function(){return s}},arrayFilter:{get:function(){return a}},arrayMap:{get:function(){return l}},arrayEach:{get:function(){return u}},arraySum:{get:function(){return c}},arrayMax:{get:function(){return h}},arrayMin:{get:function(){return d}},arrayAvg:{get:function(){return f}},arrayFlatten:{get:function(){return p}},arrayUnique:{get:function(){return g}},__esModule:{value:!0}})},{}],43:[function(t,e,n){"use strict";function i(){return l}function r(){return u}function o(){return c}function s(){return h}function a(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}Object.defineProperties(n,{isIE8:{get:function(){return i}},isIE9:{get:function(){return r}},isSafari:{get:function(){return o}},isChrome:{get:function(){return s}},isMobileBrowser:{get:function(){return a}},__esModule:{value:!0}});var l=!document.createTextNode("test").textContent,u=!!document.documentMode,c=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),h=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},{}],44:[function(t,e,n){"use strict";function i(t){for(var e,n=t+1,i="";n>0;)e=(n-1)%26,i=String.fromCharCode(65+e)+i,n=parseInt((n-e)/26,10);return i}function r(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,r,o=[];for(n=0;t>n;n++){var s=[];for(r=0;e>r;r++)s.push(i(r)+(n+1));o.push(s)}return o}function o(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,r,o=[];for(n=0;t>n;n++){var s={};for(r=0;e>r;r++)s["prop"+r]=i(r)+(n+1);o.push(s)}return o}function s(t,e){for(var n,i=[],r=0;t>r;r++){n=[];for(var o=0;e>o;o++)n.push("");i.push(n)}return i}function a(t){var e,n,i,r,o=[],s=0;for(e=0,n=t.length;n>e;e++)for(i=0,r=t[e].length;r>i;i++)i==s&&(o.push([]),s++),o[i].push(t[e][i]);return o}function l(t,e){function n(t){var e=h.cellTypes[t];if("undefined"==typeof e)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return e}return e="undefined"==typeof e?!0:e,function(i,r){return function o(i){if(i){if(i.hasOwnProperty(t)&&void 0!==i[t])return i[t];if(i.hasOwnProperty("type")&&i.type){var r;if("string"!=typeof i.type)throw new Error("Cell type must be a string ");if(r=n(i.type),r.hasOwnProperty(t))return r[t];if(e)return}return o(d(i))}}("number"==typeof i?this.getCellMeta(i,r):i)}}Object.defineProperties(n,{spreadsheetColumnLabel:{get:function(){return i}},createSpreadsheetData:{get:function(){return r}},createSpreadsheetObjectData:{get:function(){return o}},createEmptySpreadsheetData:{get:function(){return s}},translateRowsToColumns:{get:function(){return a}},cellMethodLookupFactory:{get:function(){return l}},__esModule:{value:!0}});var u,c,h=(u=t("browser"),u&&u.__esModule&&u||{"default":u})["default"],d=(c=t("object"),c&&c.__esModule&&c||{"default":c}).getPrototypeOf},{browser:23,object:52}],45:[function(t,e,n){"use strict";function i(t){var e=new Date(t);return isNaN(new Date(t+"T00:00").getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}Object.defineProperties(n,{getNormalizedDate:{get:function(){return i}},__esModule:{value:!0}})},{}],46:[function(t,e,n){"use strict";function i(t,e,n){for(;null!=t&&t!==n;){if(t.nodeType===Node.ELEMENT_NODE&&(e.indexOf(t.nodeName)>-1||e.indexOf(t)>-1))return t;t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode}return null}function r(t,e){var n=t.parentNode,i=[];for("string"==typeof e?i=Array.prototype.slice.call(document.querySelectorAll(e),0):i.push(e);null!=n;){if(i.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function o(t){function e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===i.toUpperCase()}var n,i="hot-table",r=!1;for(n=s(t);null!=n;){if(e(n)){r=!0;break}if(n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(r=e(n.host))break;n=n.host}n=n.parentNode}return r}function s(t){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(t):t}function a(t){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(t):t}function l(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e}function u(t,e){var n=document.querySelector(".ht_clone_"+t);return n?n.contains(e):null}function c(t){var e=0,n=[];if(!t||!t.length)return n;for(;t[e];)n.push(t[e]),e++;return n}function h(t,e){return $(t,e)}function d(t,e){return K(t,e)}function f(t,e){return Z(t,e)}function p(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var n=t.childNodes,i=n.length-1;i>=0;i--)p(n[i],t)}function g(t){for(var e;e=t.lastChild;)t.removeChild(e)}function m(t,e){at.test(e)?t.innerHTML=e:v(t,e)}function v(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?lt?n.textContent=e:n.data=e:(g(t),t.appendChild(document.createTextNode(e)))}function y(t){for(var e=t;a(e)!==document.documentElement;){if(null===e)return!1;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(e.host){if(e.host.impl)return y(e.host.impl);if(e.host)return y(e.host);throw new Error("Lost in Web Components world")}return!1}if("none"===e.style.display)return!1;e=e.parentNode}return!0}function w(t){var e,n,i,r,o;if(r=document.documentElement,nt()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName)return o=t.getBoundingClientRect(),{top:o.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||0),left:o.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(e=t.offsetLeft,n=t.offsetTop,i=t;(t=t.offsetParent)&&t!==document.body;)e+=t.offsetLeft,n+=t.offsetTop,i=t;return i&&"fixed"===i.style.position&&(e+=window.pageXOffset||r.scrollLeft,n+=window.pageYOffset||r.scrollTop),{left:e,top:n}}function _(){var t=window.scrollY;return void 0===t&&(t=document.documentElement.scrollTop),t}function b(){var t=window.scrollX;return void 0===t&&(t=document.documentElement.scrollLeft),t}function C(t){return t===window?_():t.scrollTop}function T(t){return t===window?b():t.scrollLeft}function x(t){for(var e,n,i,r=t.parentNode,o=["auto","scroll"],s="",a="",l="",u="";r&&r.style&&document.body!==r;){if(e=r.style.overflow,n=r.style.overflowX,i=r.style.overflowY,"scroll"==e||"scroll"==n||"scroll"==i)return r;if(window.getComputedStyle&&(s=window.getComputedStyle(r),a=s.getPropertyValue("overflow"),l=s.getPropertyValue("overflow-y"),u=s.getPropertyValue("overflow-x"),"scroll"===a||"scroll"===u||"scroll"===l))return r;if(r.clientHeight<=r.scrollHeight&&(-1!==o.indexOf(i)||-1!==o.indexOf(e)||-1!==o.indexOf(a)||-1!==o.indexOf(l)))return r;if(r.clientWidth<=r.scrollWidth&&(-1!==o.indexOf(n)||-1!==o.indexOf(e)||-1!==o.indexOf(a)||-1!==o.indexOf(u)))return r;r=r.parentNode}return window}function S(t){for(var e=t.parentNode;e&&e.style&&document.body!==e;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(window.getComputedStyle){var n=window.getComputedStyle(e);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return e}e=e.parentNode}return window}function E(t,e){if(t){if(t!==window){var n,i=t.style[e];return""!==i&&void 0!==i?i:(n=R(t),""!==n[e]&&void 0!==n[e]?n[e]:void 0)}if("width"===e)return window.innerWidth+"px";if("height"===e)return window.innerHeight+"px"}}function R(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}function M(t){return t.offsetWidth}function k(t){return nt()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight}function O(t){return t.clientHeight||t.innerHeight}function A(t){return t.clientWidth||t.innerWidth}function N(t,e,n){window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function P(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function D(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),i=n.duplicate();return n.moveToBookmark(e.getBookmark()),i.setEndPoint("EndToStart",n),i.text.length}return 0}function L(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange();return n.text.indexOf(e.text)+e.text.length}}function H(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t}function I(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(i){var r=t.parentNode,o=r.style.display;r.style.display="block",t.setSelectionRange(e,n),r.style.display=o}}else if(t.createTextRange){var s=t.createTextRange();s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",e),s.select()}}function F(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),(document.body||document.documentElement).removeChild(e),n-i}function W(){return void 0===st&&(st=F()),st}function j(t){return t.offsetWidth!==t.clientWidth}function B(t){return t.offsetHeight!==t.clientHeight}function z(t,e,n){J()||tt()?(t.style.top=n,t.style.left=e):et()?t.style["-webkit-transform"]="translate3d("+e+","+n+",0)":t.style.transform="translate3d("+e+","+n+",0)"}function V(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1}function U(t){t.style.transform&&""!==t.style.transform?t.style.transform="":t.style["-webkit-transform"]&&""!==t.style["-webkit-transform"]&&(t.style["-webkit-transform"]="")}function Y(t){var e=["INPUT","SELECT","TEXTAREA"];return t&&(e.indexOf(t.nodeName)>-1||"true"===t.contentEditable)}function G(t){return Y(t)&&-1==t.className.indexOf("handsontableInput")&&-1==t.className.indexOf("copyPaste")}Object.defineProperties(n,{closest:{get:function(){return i}},isChildOf:{get:function(){return r}},isChildOfWebComponentTable:{get:function(){return o}},polymerWrap:{get:function(){return s}},polymerUnwrap:{get:function(){return a}},index:{get:function(){return l}},overlayContainsElement:{get:function(){return u}},hasClass:{get:function(){return h}},addClass:{get:function(){return d}},removeClass:{get:function(){return f}},removeTextNodes:{get:function(){return p}},empty:{get:function(){return g}},HTML_CHARACTERS:{get:function(){return at}},fastInnerHTML:{get:function(){return m}},fastInnerText:{get:function(){return v}},isVisible:{get:function(){return y}},offset:{get:function(){return w}},getWindowScrollTop:{get:function(){return _}},getWindowScrollLeft:{get:function(){return b}},getScrollTop:{get:function(){return C}},getScrollLeft:{get:function(){return T}},getScrollableElement:{get:function(){return x}},getTrimmingContainer:{get:function(){return S}},getStyle:{get:function(){return E}},getComputedStyle:{get:function(){return R}},outerWidth:{get:function(){return M}},outerHeight:{get:function(){return k}},innerHeight:{get:function(){return O}},innerWidth:{get:function(){return A}},addEvent:{get:function(){return N}},removeEvent:{get:function(){return P}},getCaretPosition:{get:function(){return D}},getSelectionEndPosition:{get:function(){return L}},getSelectionText:{get:function(){return H}},setCaretPosition:{get:function(){return I}},getScrollbarWidth:{get:function(){return W}},hasVerticalScrollbar:{get:function(){return j}},hasHorizontalScrollbar:{get:function(){return B}},setOverlayPosition:{get:function(){return z}},getCssTransform:{get:function(){return V}},resetCssTransform:{get:function(){return U}},isInput:{get:function(){return Y}},isOutsideInput:{get:function(){return G}},__esModule:{value:!0}});var X,q,$,K,Z,Q=(X=t("../browser"),X&&X.__esModule&&X||{"default":X}),J=Q.isIE8,tt=Q.isIE9,et=Q.isSafari,nt=(q=t("../feature"),q&&q.__esModule&&q||{"default":q}).hasCaptionProblem,it=!!document.documentElement.classList;if(it){var rt=function(){var t=document.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")}();$=function(t,e){return""===e?!1:t.classList.contains(e)},K=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=c(e),rt)t.classList.add.apply(t.classList,e);else for(;e&&e[n];)t.classList.add(e[n]),n++},Z=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=c(e),rt)t.classList.remove.apply(t.classList,e);else for(;e&&e[n];)t.classList.remove(e[n]),n++}}else{var ot=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};$=function(t,e){return!!t.className.match(ot(e))},K=function(t,e){var n=0,i=t.className;if("string"==typeof e&&(e=e.split(" ")),""===i)i=e.join(" ");else for(;e&&e[n];)ot(e[n]).test(i)||(i+=" "+e[n]),n++;t.className=i},Z=function(t,e){var n=0,i=t.className;for("string"==typeof e&&(e=e.split(" "));e&&e[n];)i=i.replace(ot(e[n])," ").trim(),n++;t.className!==i&&(t.className=i)}}var st,at=/(<(.*)>|&(.*);)/,lt=!!document.createTextNode("test").textContent},{"../browser":43,"../feature":48}],47:[function(t,e,n){"use strict";function i(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function r(t){return t.isImmediatePropagationEnabled===!1}function o(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function s(t){return t.pageX?t.pageX:t.clientX+h()}function a(t){return t.pageY?t.pageY:t.clientY+c()}Object.defineProperties(n,{stopImmediatePropagation:{get:function(){return i}},isImmediatePropagationStopped:{get:function(){return r}},stopPropagation:{get:function(){return o}},pageX:{get:function(){return s}},pageY:{get:function(){return a}},__esModule:{value:!0}});var l,u=(l=t("element"),l&&l.__esModule&&l||{"default":l}),c=u.getWindowScrollTop,h=u.getWindowScrollLeft},{element:46}],48:[function(t,e,n){"use strict";function i(t){return d.call(window,t)}function r(t){f.call(window,t)}function o(){return"ontouchstart"in window}function s(){var t=document.createElement("div");return!(!t.createShadowRoot||!t.createShadowRoot.toString().match(/\[native code\]/))}function a(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),g=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function l(){return void 0===g&&a(),g}function u(t){var e=void 0!==arguments[1]?arguments[1]:{};return m?m:m="object"==typeof Intl?new Intl.Collator(t,e).compare:"function"==typeof String.prototype.localeCompare?function(t,e){return(t+"").localeCompare(e)}:function(t,e){return t===e?0:t>e?-1:1}}Object.defineProperties(n,{requestAnimationFrame:{get:function(){return i}},cancelAnimationFrame:{get:function(){return r}},isTouchSupported:{get:function(){return o}},isWebComponentSupportedNatively:{get:function(){return s}},hasCaptionProblem:{get:function(){return l}},getComparisonFunction:{get:function(){return u}},__esModule:{value:!0}});for(var c=0,h=["ms","moz","webkit","o"],d=window.requestAnimationFrame,f=window.cancelAnimationFrame,p=0;p<h.length&&!d;++p)d=window[h[p]+"RequestAnimationFrame"],f=window[h[p]+"CancelAnimationFrame"]||window[h[p]+"CancelRequestAnimationFrame"];d||(d=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-c)),i=window.setTimeout(function(){t(e+n)},n);return c=e+n,i}),f||(f=function(t){clearTimeout(t)});var g,m},{}],49:[function(t,e,n){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}function r(t){function e(){var e=this,s=arguments,a=Date.now(),l=!1;r.lastCallThrottled=!0,i||(i=a,l=!0);var u=n-(a-i);return l?(r.lastCallThrottled=!1,t.apply(this,s)):(o&&clearTimeout(o),o=setTimeout(function(){r.lastCallThrottled=!1,t.apply(e,s),i=0,o=void 0},u)),r}var n=void 0!==arguments[1]?arguments[1]:200,i=0,r={lastCallThrottled:!0},o=null;
return e}function o(t){function e(){a=o}function n(){return a?(a--,t.apply(this,arguments)):s.apply(this,arguments)}var i=void 0!==arguments[1]?arguments[1]:200,o=void 0!==arguments[2]?arguments[2]:10,s=r(t,i),a=o;return n.clearHits=e,n}function s(t){function e(){var e=this,o=arguments;return r&&clearTimeout(r),r=setTimeout(function(){n=t.apply(e,o)},i),n}var n,i=void 0!==arguments[1]?arguments[1]:200,r=null;return e}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t,i=n[0],r=Array.prototype.slice.call(n,1);return function(){return d(r,function(t,e){return e(t)},i.apply(this,arguments))}}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(this,e.concat(n))}}function u(t){function e(i){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s,a=i.concat(r);return s=a.length>=n?t.apply(this,a):e(a)}}var n=t.length;return e([])}function c(t){function e(i){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s,a=i.concat(r.reverse());return s=a.length>=n?t.apply(this,a):e(a)}}var n=t.length;return e([])}Object.defineProperties(n,{proxy:{get:function(){return i}},throttle:{get:function(){return r}},throttleAfterHits:{get:function(){return o}},debounce:{get:function(){return s}},pipe:{get:function(){return a}},partial:{get:function(){return l}},curry:{get:function(){return u}},curryRight:{get:function(){return c}},__esModule:{value:!0}});var h,d=(h=t("array"),h&&h.__esModule&&h||{"default":h}).arrayReduce},{array:42}],50:[function(t,e,n){"use strict";function i(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}}Object.defineProperties(n,{stringify:{get:function(){return i}},__esModule:{value:!0}})},{}],51:[function(t,e,n){"use strict";function i(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1}function r(t,e,n){var i=-1;for("function"==typeof e?(n=e,e=t):i=t-1;++i<=e&&n(i)!==!1;);}function o(t,e,n){var i=t+1;for("function"==typeof e&&(n=e,e=0);--i>=e&&n(i)!==!1;);}function s(t,e){return e=parseInt(e.toString().replace("%",""),10),e=parseInt(t*e/100)}Object.defineProperties(n,{isNumeric:{get:function(){return i}},rangeEach:{get:function(){return r}},rangeEachReverse:{get:function(){return o}},valueAccordingPercent:{get:function(){return s}},__esModule:{value:!0}})},{}],52:[function(t,e,n){"use strict";function i(t){var e;return Array.isArray(t)?e=[]:(e={},p(t,function(t,n){t&&"object"==typeof t&&!Array.isArray(t)?e[n]=i(t):Array.isArray(t)?t.length&&"object"==typeof t[0]&&!Array.isArray(t[0])?e[n]=[i(t[0])]:e[n]=[]:e[n]=null})),e}function r(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function o(t,e){return p(e,function(e,n){t[n]=e}),t}function s(t,e){p(e,function(n,i){e[i]&&"object"==typeof e[i]?(t[i]||(Array.isArray(e[i])?t[i]=[]:"[object Date]"===Object.prototype.toString.call(e[i])?t[i]=e[i]:t[i]={}),s(t[i],e[i])):t[i]=e[i]})}function a(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function l(t){var e={};return p(t,function(t,n){e[n]=t}),e}function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.MIXINS||(t.MIXINS=[]),v(e,function(e){t.MIXINS.push(e.MIXIN_NAME),p(e,function(e,n){if(void 0!==t.prototype[n])throw new Error("Mixin conflict. Property '"+n+"' already exist and cannot be overwritten.");if("function"==typeof e)t.prototype[n]=e;else{var i=function(t,e){t="_"+t;var n=function(t){return(Array.isArray(t)||h(t))&&(t=a(t)),t};return function(){return void 0===this[t]&&(this[t]=n(e)),this[t]}},r=function(t){return t="_"+t,function(e){this[t]=e}};Object.defineProperty(t.prototype,n,{get:i(n,e),set:r(n),configurable:!0})}})}),t}function c(t,e){return JSON.stringify(t)===JSON.stringify(e)}function h(t){return"[object Object]"==Object.prototype.toString.call(t)}function d(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var n,i=t.constructor;"function"==typeof t.constructor&&(n=i,delete t.constructor&&(i=t.constructor,t.constructor=n)),e=i?i.prototype:null}return e}function f(t,e,n,i){i.value=n,i.writable=i.writable!==!1,i.enumerable=i.enumerable!==!1,i.configurable=i.configurable!==!1,Object.defineProperty(t,e,i)}function p(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&t.hasOwnProperty(n))&&e(t[n],n,t)===!1)break;return t}function g(t,e){var n=e.split("."),i=t;return p(n,function(t){return i=i[t],void 0===i?(i=void 0,!1):void 0}),i}Object.defineProperties(n,{duckSchema:{get:function(){return i}},inherit:{get:function(){return r}},extend:{get:function(){return o}},deepExtend:{get:function(){return s}},deepClone:{get:function(){return a}},clone:{get:function(){return l}},mixin:{get:function(){return u}},isObjectEquals:{get:function(){return c}},isObject:{get:function(){return h}},getPrototypeOf:{get:function(){return d}},defineGetter:{get:function(){return f}},objectEach:{get:function(){return p}},getProperty:{get:function(){return g}},__esModule:{value:!0}});var m,v=(m=t("array"),m&&m.__esModule&&m||{"default":m}).arrayEach},{array:42}],53:[function(t,e,n){"use strict";function i(t,e){function n(){}o(n,t);for(var i=0,r=e.length;r>i;i++)n.prototype[e[i]]=void 0;return n}Object.defineProperties(n,{columnFactory:{get:function(){return i}},__esModule:{value:!0}});var r,o=(r=t("object"),r&&r.__esModule&&r||{"default":r}).inherit},{object:52}],54:[function(t,e,n){"use strict";function i(t){return t[0].toUpperCase()+t.substr(1)}function r(t,e){var n=!0;return p(e.length-1,function(i){return t.charAt(i)!==e.charAt(i)?(n=!1,!1):void 0}),n}function o(t,e){var n=!0,i=e.length-1,r=t.length-1;return p(i,function(o){var s=r-o,a=i-o;return t.charAt(s)!==e.charAt(a)?(n=!1,!1):void 0}),n}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],i=t.length;i--;){var r=f(t[i]).toLowerCase();-1===n.indexOf(r)&&n.push(r)}return 1===n.length}function a(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function l(t){return/^([0-9][0-9]?\%$)|(^100\%$)/.test(t)}function u(t){var e=void 0!==arguments[1]?arguments[1]:{};return(t+"").replace(/(?:\\)?\[([^\[\]]+)]/g,function(t,n){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[n]?"":e[n]})}function c(t,e){var n=void 0!==arguments[2]?arguments[2]:" ";if(t+="",t.length>=e)return t;n=String(n);var i=n.length;i||(n=" ");var r=e-t.length,o=Math.ceil(r/n.length),s="";return p(o,function(t){s+=n}),s=s.slice(0,r),s+t}Object.defineProperties(n,{toUpperCaseFirst:{get:function(){return i}},startsWith:{get:function(){return r}},endsWith:{get:function(){return o}},equalsIgnoreCase:{get:function(){return s}},randomString:{get:function(){return a}},isPercentValue:{get:function(){return l}},substitute:{get:function(){return u}},padStart:{get:function(){return c}},__esModule:{value:!0}});var h,d,f=(h=t("mixed"),h&&h.__esModule&&h||{"default":h}).stringify,p=(d=t("number"),d&&d.__esModule&&d||{"default":d}).rangeEach},{mixed:50,number:51}],55:[function(t,e,n){"use strict";function i(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t}function r(t){var e=[u.ARROW_DOWN,u.ARROW_UP,u.ARROW_LEFT,u.ARROW_RIGHT,u.HOME,u.END,u.DELETE,u.BACKSPACE,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.TAB,u.PAGE_DOWN,u.PAGE_UP,u.ENTER,u.ESCAPE,u.SHIFT,u.CAPS_LOCK,u.ALT];return-1!==e.indexOf(t)}function o(t){return-1!==[u.CONTROL_LEFT,224,u.COMMAND_LEFT,u.COMMAND_RIGHT].indexOf(t)}function s(t,e){var n=e.split("|"),i=!1;return l(n,function(e){return t===u[e]?(i=!0,!1):void 0}),i}Object.defineProperties(n,{KEY_CODES:{get:function(){return u}},isPrintableChar:{get:function(){return i}},isMetaKey:{get:function(){return r}},isCtrlKey:{get:function(){return o}},isKey:{get:function(){return s}},__esModule:{value:!0}});var a,l=(a=t("array"),a&&a.__esModule&&a||{"default":a}).arrayEach,u={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},{array:42}],56:[function(t,e,n){"use strict";Object.defineProperties(n,{localHooks:{get:function(){return c}},__esModule:{value:!0}});var i,r,o,s=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],a=(r=t("helpers/array"),r&&r.__esModule&&r||{"default":r}).arrayEach,l=(o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).defineGetter,u="localHooks",c={_localHooks:Object.create(null),addLocalHook:function(t,e){this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e)},runLocalHooks:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this;this._localHooks[t]&&a(this._localHooks[t],function(t){return t.apply(i,e)})},clearLocalHooks:function(){this._localHooks={}}};l(c,"MIXIN_NAME",u,{writable:!1,enumerable:!1}),s.utils.localHooks=c},{browser:23,"helpers/array":42,"helpers/object":52}],57:[function(t,e,n){"use strict";function i(){function t(t){return null!==t&&!n(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function n(t){return t!==t}var i={arrayMap:[],weakMap:new WeakMap};return{get:function(n){return t(n)?i.arrayMap[n]:e(n)?i.weakMap.get(n):void 0},set:function(n,r){if(t(n))i.arrayMap[n]=r;else{if(!e(n))throw new Error("Invalid key type");i.weakMap.set(n,r)}},"delete":function(n){t(n)?delete i.arrayMap[n]:e(n)&&i.weakMap["delete"](n)}}}Object.defineProperties(n,{MultiMap:{get:function(){return i}},__esModule:{value:!0}}),window.MultiMap=i},{}],58:[function(t,e,n){"use strict";Object.defineProperties(n,{Hooks:{get:function(){return l}},__esModule:{value:!0}});var i,r,o=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","afterCreateCol","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","construct","init","modifyCol","unmodifyCol","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","afterAutofillApplyValues","modifyCopyableRange","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight"],s=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,a=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}).objectEach,l=function(){this.globalBucket=this.createEmptyBucket()};$traceurRuntime.createClass(l,{createEmptyBucket:function(){var t=Object.create(null);return s(o,function(e){return t[e]=[]}),t},getBucket:function(){var t=void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket},add:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this;if(Array.isArray(e))s(e,function(e){return i.add(t,e,n)});else{var r=this.getBucket(n);"undefined"==typeof r[t]&&(this.register(t),r[t]=[]),e.skip=!1,-1===r[t].indexOf(e)&&r[t].push(e)}return this},once:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this;Array.isArray(e)?s(e,function(e){return i.once(t,e,n)}):(e.runOnce=!0,this.add(t,e,n))},remove:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,i=this.getBucket(n);return"undefined"!=typeof i[t]&&i[t].indexOf(e)>=0?(e.skip=!0,!0):!1},has:function(t){var e=void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(e);return!(void 0===n[t]||!n[t].length)},run:function(t,e,n,i,r,o,s,a){var l=this.globalBucket[e],u=-1,c=l?l.length:0;if(c)for(;++u<c;)if(l[u]&&!l[u].skip){var h=l[u].call(t,n,i,r,o,s,a);void 0!==h&&(n=h),l[u]&&l[u].runOnce&&this.remove(e,l[u])}var d=this.getBucket(t)[e],f=-1,p=d?d.length:0;if(p)for(;++f<p;)if(d[f]&&!d[f].skip){var g=d[f].call(t,n,i,r,o,s,a);void 0!==g&&(n=g),d[f]&&d[f].runOnce&&this.remove(e,d[f],t)}return n},destroy:function(){var t=void 0!==arguments[0]?arguments[0]:null;a(this.getBucket(t),function(t,e,n){return n[e].length=0})},register:function(t){this.isRegistered(t)||o.push(t)},deregister:function(t){this.isRegistered(t)&&o.splice(o.indexOf(t),1)},isRegistered:function(t){return o.indexOf(t)>=0},getRegistered:function(){return o}},{})},{"helpers/array":42,"helpers/object":52}],59:[function(t,e,n){"use strict";function i(t,e){t=d(t),c.plugins[t]=e,c.hooks.add("construct",function(){var n;f.has(this)||f.set(this,{}),n=f.get(this),n[t]||(n[t]=new e(this))}),c.hooks.add("afterDestroy",function(){if(f.has(this)){var t=f.get(this);h(t,function(t){return t.destroy()}),f["delete"](this)}})}function r(t,e){if("string"!=typeof e)throw Error('Only strings can be passed as "plugin" parameter');var n=d(e);if(f.has(t)&&f.get(t)[n])return f.get(t)[n]}function o(t){return f.has(t)?Object.keys(f.get(t)):[]}function s(t,e){var n=null;return f.has(t)&&h(f.get(t),function(t,i){t===e&&(n=i)}),n}Object.defineProperties(n,{registerPlugin:{get:function(){return i}},getPlugin:{get:function(){return r}},getRegistredPluginNames:{get:function(){return o}},getPluginName:{get:function(){return s}},__esModule:{value:!0}});var a,l,u,c=(a=t("browser"),a&&a.__esModule&&a||{"default":a})["default"],h=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}).objectEach,d=(u=t("helpers/string"),u&&u.__esModule&&u||{"default":u}).toUpperCaseFirst,f=new WeakMap},{browser:23,"helpers/object":52,"helpers/string":54}],60:[function(t,e,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return y}},__esModule:{value:!0}});var i,r,o,s,a=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],l=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}),u=l.defineGetter,c=l.objectEach,h=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,d=(s=t("plugins"),s&&s.__esModule&&s||{"default":s}),f=d.getRegistredPluginNames,p=d.getPluginName,g=new WeakMap,m=null,v=function(t){var e=this;u(this,"hot",t,{writable:!1}),g.set(this,{hooks:{}}),m=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return e.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return e.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return e.init()})};$traceurRuntime.createClass(v,{init:function(){this.pluginName=p(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),m||(m=f(this.hot)),m.indexOf(this.pluginName)>=0&&m.splice(m.indexOf(this.pluginName),1),m.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0},enablePlugin:function(){this.enabled=!0},disablePlugin:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1},addHook:function(t,e){var n=g.get(this).hooks[t]=g.get(this).hooks[t]||[];this.hot.addHook(t,e),n.push(e),g.get(this).hooks[t]=n},removeHooks:function(t){var e=this;h(g.get(this).hooks[t]||[],function(n){e.hot.removeHook(t,n)})},clearHooks:function(){var t=this,e=g.get(this).hooks;c(e,function(e,n){return t.removeHooks(n)}),e.length=0},callOnPluginsReady:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)},onAfterPluginsInitialized:function(){h(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0},onUpdateSettings:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())},updatePlugin:function(){},destroy:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),c(this,function(e,n){"hot"!==n&&(t[n]=null)}),delete this.hot}},{});var y=v;a.plugins.BasePlugin=v},{browser:23,"helpers/array":42,"helpers/object":52,plugins:59}],61:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoColumnSize:{get:function(){return N}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,f,p=(i=t("_base"),i&&i.__esModule&&i||{"default":i})["default"],g=(r=t("helpers/array"),r&&r.__esModule&&r||{"default":r}),m=g.arrayEach,v=g.arrayFilter,y=(o=t("helpers/feature"),o&&o.__esModule&&o||{"default":o}),w=y.cancelAnimationFrame,_=y.requestAnimationFrame,b=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}).isVisible,C=(a=t("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,T=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}),x=T.isObject,S=(T.objectEach,u=t("helpers/number"),u&&u.__esModule&&u||{"default":u}),E=S.valueAccordingPercent,R=S.rangeEach,M=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,k=(h=t("utils/samplesGenerator"),h&&h.__esModule&&h||{"default":h}).SamplesGenerator,O=(d=t("helpers/string"),d&&d.__esModule&&d||{"default":d}).isPercentValue,A=(f=t("3rdparty/walkontable/src/calculator/viewportColumns"),f&&f.__esModule&&f||{"default":f}).WalkontableViewportColumnsCalculator,N=function(t){var e=this;$traceurRuntime.superConstructor(P).call(this,t),this.widths=[],this.ghostTable=new C(this.hot),this.samplesGenerator=new k(function(t,n){return e.hot.getDataAtCell(t,n)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeColumnResize",function(t,n,i){return e.onBeforeColumnResize(t,n,i)})},P=N;$traceurRuntime.createClass(N,{isEnabled:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths},enablePlugin:function(){var t=this;if(!this.enabled){var e=this.hot.getSettings().autoColumnSize,n=e&&e.hasOwnProperty("samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0;n&&!isNaN(n)&&(this.samplesGenerator.customSampleCount=parseInt(n,10)),e&&null!=e.useHeaders&&this.ghostTable.setSetting("useHeaders",e.useHeaders),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,n){return t.getColumnWidth(n,e)}),$traceurRuntime.superGet(this,P.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,P.prototype,"disablePlugin").call(this)},calculateColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=void 0!==arguments[2]?arguments[2]:!1,i=this;"number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),R(t.from,t.to,function(t){if(n||void 0===i.widths[t]&&!i.hot._getColWidthFromSettings(t)){var r=i.samplesGenerator.generateColumnSamples(t,e);r.forEach(function(t,e){return i.ghostTable.addColumn(e,t)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(t,e){return i.widths[t]=e}),this.ghostTable.clean())},calculateAllColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=this,n=0,i=this.hot.countCols()-1,r=null;this.inProgress=!0;var o=function(){return e.hot?(e.calculateColumnsWidth({from:n,to:Math.min(n+P.CALCULATION_STEP,i)},t),n=n+P.CALCULATION_STEP+1,void(i>n?r=_(o):(w(r),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(w(r),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),i>n?o():this.inProgress=!1},recalculateAllColumnsWidth:function(){this.hot.view&&b(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())},getSyncCalculationLimit:function(){var t=P.SYNC_CALCULATION_LIMIT,e=this.hot.countCols()-1;return x(this.hot.getSettings().autoColumnSize)&&(t=this.hot.getSettings().autoColumnSize.syncLimit,O(t)?t=E(e,t):t>>=0),Math.min(t,e)},getColumnWidth:function(t){var e=arguments[1],n=void 0!==arguments[2]?arguments[2]:!0,i=e;return void 0===i&&(i=this.widths[t],n&&"number"==typeof i&&(i=Math.max(i,A.DEFAULT_WIDTH))),i},getFirstVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1},getLastVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1},clearCache:function(){this.widths.length=0},isNeedRecalculate:function(){return!!v(this.widths,function(t){return void 0===t}).length},onBeforeRender:function(){var t=this.hot.renderCall,e=this.hot.countRows();e&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)},onBeforeChange:function(t){var e=this;m(t,function(t){return e.widths[e.hot.propToCol(t[1])]=void 0})},onBeforeColumnResize:function(t,e,n){return n&&(this.calculateColumnsWidth(t,void 0,!0),e=this.getColumnWidth(t,void 0,!1)),e},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,P.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 50}},p),M("autoColumnSize",N)},{"3rdparty/walkontable/src/calculator/viewportColumns":3,_base:60,"helpers/array":42,"helpers/dom/element":46,"helpers/feature":48,"helpers/number":51,"helpers/object":52,"helpers/string":54,plugins:59,"utils/ghostTable":102,"utils/samplesGenerator":104}],62:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoRowSize:{get:function(){return k}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,f=(i=t("_base"),i&&i.__esModule&&i||{"default":i})["default"],p=(r=t("helpers/array"),r&&r.__esModule&&r||{"default":r}),g=(p.arrayEach,p.arrayFilter),m=(o=t("helpers/feature"),o&&o.__esModule&&o||{"default":o}),v=m.cancelAnimationFrame,y=m.requestAnimationFrame,w=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}).isVisible,_=(a=t("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,b=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}),C=b.isObject,T=(b.objectEach,u=t("helpers/number"),u&&u.__esModule&&u||{"default":u}),x=T.valueAccordingPercent,S=T.rangeEach,E=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,R=(h=t("utils/samplesGenerator"),h&&h.__esModule&&h||{"default":h}).SamplesGenerator,M=(d=t("helpers/string"),d&&d.__esModule&&d||{"default":d}).isPercentValue,k=function(t){var e=this;$traceurRuntime.superConstructor(O).call(this,t),this.heights=[],this.ghostTable=new _(this.hot),this.samplesGenerator=new R(function(t,n){return t>=0?e.hot.getDataAtCell(t,n):-1===t?e.hot.getColHeader(n):null}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeRowResize",function(t,n,i){return e.onBeforeRowResize(t,n,i)})},O=k;$traceurRuntime.createClass(k,{isEnabled:function(){return this.hot.getSettings().autoRowSize===!0||C(this.hot.getSettings().autoRowSize)},enablePlugin:function(){var t=this;if(!this.enabled){var e=this.hot.getSettings().autoRowSize,n=e&&e.hasOwnProperty("samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0;n&&!isNaN(n)&&(this.samplesGenerator.customSampleCount=parseInt(n,10)),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return t.clearCache()}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,n){return t.onBeforeRowMove(e,n)}),this.addHook("modifyRowHeight",function(e,n){return t.getRowHeight(n,e)}),this.addHook("modifyColumnHeaderHeight",function(){return t.getColumnHeaderHeight()}),$traceurRuntime.superGet(this,O.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,O.prototype,"disablePlugin").call(this)},calculateRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=void 0!==arguments[2]?arguments[2]:!1,i=this;if("number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),null!==this.hot.getColHeader(0)){var r=this.samplesGenerator.generateRowSamples(-1,e);this.ghostTable.addColumnHeadersRow(r.get(-1))}S(t.from,t.to,function(t){if(n||void 0===i.heights[t]){var r=i.samplesGenerator.generateRowSamples(t,e);r.forEach(function(t,e){return i.ghostTable.addRow(e,t)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(t,e){return i.heights[t]=e}),this.ghostTable.clean())},calculateAllRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=this,n=0,i=this.hot.countRows()-1,r=null;this.inProgress=!0;var o=function(){return e.hot?(e.calculateRowsHeight({from:n,to:Math.min(n+O.CALCULATION_STEP,i)},t),n=n+O.CALCULATION_STEP+1,void(i>n?r=y(o):(v(r),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(v(r),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),i>n?o():this.inProgress=!1},recalculateAllRowsHeight:function(){w(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())},getSyncCalculationLimit:function(){var t=O.SYNC_CALCULATION_LIMIT,e=this.hot.countRows()-1;return C(this.hot.getSettings().autoRowSize)&&(t=this.hot.getSettings().autoRowSize.syncLimit,M(t)?t=x(e,t):t>>=0),Math.min(t,e)},getRowHeight:function(t){var e=arguments[1],n=e;return void 0!==this.heights[t]&&this.heights[t]>(e||0)&&(n=this.heights[t]),n},getColumnHeaderHeight:function(){return this.heights[-1]},getFirstVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1},getLastVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1},clearCache:function(){this.heights.length=0,this.heights[-1]=void 0},clearCacheByRange:function(t){var e=this;"number"==typeof t&&(t={from:t,to:t}),S(Math.min(t.from,t.to),Math.max(t.from,t.to),function(t){return e.heights[t]=void 0})},isNeedRecalculate:function(){return!!g(this.heights,function(t){return void 0===t}).length},onBeforeRender:function(){var t=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,t);var e=this.hot.getSettings().fixedRowsBottom;if(e){var n=this.hot.countRows()-1;this.calculateRowsHeight({from:n-e,to:n})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()},onBeforeRowMove:function(t,e){this.clearCacheByRange({from:t,to:e}),this.calculateAllRowsHeight()},onBeforeRowResize:function(t,e,n){return n&&(this.calculateRowsHeight(t,void 0,!0),e=this.getRowHeight(t)),e},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)},onBeforeChange:function(t){var e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,O.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 500}},f),E("autoRowSize",k)},{_base:60,"helpers/array":42,"helpers/dom/element":46,"helpers/feature":48,"helpers/number":51,"helpers/object":52,"helpers/string":54,plugins:59,"utils/ghostTable":102,"utils/samplesGenerator":104}],63:[function(t,e,n){"use strict";function i(t,e,n,i){var r,o,s,a,l,u=n.length,c=n?n[0].length:0,h=[],d=[];if(r=e.row-t.row,o=e.col-t.col,-1!==["down","up"].indexOf(i)){for(var f=0;o>=f;f++)s=parseInt(n[0][f],10),a=parseInt(n[u-1][f],10),l=("down"===i?a-s:s-a)/(u-1)||0,d.push(l);h.push(d)}if(-1!==["right","left"].indexOf(i))for(var p=0;r>=p;p++)s=parseInt(n[p][0],10),a=parseInt(n[p][c-1],10),l=("right"===i?a-s:s-a)/(c-1)||0,d=[],d.push(l),h.push(d);return h}function r(t){function e(e){return t.autofill?void(t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged>1&&t.autofill.apply(),t.autofill.handle.isDragged=0,a=!1)):!0}function n(t){var e,n;return s.instance.autofill?(e=f(s.instance.table).top-(window.pageYOffset||document.documentElement.scrollTop)+p(s.instance.table),n=f(s.instance.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+g(s.instance.table),s.addingStarted===!1&&s.instance.autofill.handle.isDragged>0&&t.clientY>e&&t.clientX<=n?(s.instance.mouseDragOutside=!0,s.addingStarted=!0):s.instance.mouseDragOutside=!1,void(s.instance.mouseDragOutside&&y("autoInsertRow")&&setTimeout(function(){s.addingStarted=!1,s.instance.alter("insert_row")},200))):!1}var i,r,o,s=this,a=!1;this.instance=t,this.addingStarted=!1,o=m(t),o.addEventListener(document,"mouseup",e),o.addEventListener(document,"mousemove",n),i=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(e){t.autofill.handle.isDragged=1,a=!0,i(e)},r=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(e,n,i,o){t.autofill&&a&&!t.view.isMouseDown()&&t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged++,t.autofill.showBorder(n),t.autofill.checkIfNewRowNeeded()),r(e,n,i,o)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){t.autofill.selectAdjacent()}}function o(t){return function(e){
var n;return"direction"===e?n="string"==typeof t?t:"object"==typeof t&&void 0!==t[e]?t[e]:!0:"autoInsertRow"===e?n="object"==typeof t&&void 0!==t[e]?t[e]:!0:"fillHandle"===e&&(n=!!t),n}}Object.defineProperties(n,{Autofill:{get:function(){return r}},__esModule:{value:!0}});var s,a,l,u,c,h=(s=t("browser"),s&&s.__esModule&&s||{"default":s})["default"],d=(a=t("helpers/dom/element"),a&&a.__esModule&&a||{"default":a}),f=d.offset,p=d.outerHeight,g=d.outerWidth,m=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,v=((u=t("plugins"),u&&u.__esModule&&u||{"default":u}).registerPlugin,(c=t("3rdparty/walkontable/src/cell/coords"),c&&c.__esModule&&c||{"default":c}).WalkontableCellCoords);r.prototype.init=function(){this.handle={}},r.prototype.disable=function(){this.handle.disabled=!0},r.prototype.selectAdjacent=function(){var t,e,n,i,r;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(n=t[2]+1;n<this.instance.countRows();n++){for(r=t[1];r<=t[3];r++)if(e[n][r])break t;(e[n][t[1]-1]||e[n][t[3]+1])&&(i=n)}i&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new v(t[0],t[1])),this.instance.view.wt.selections.fill.add(new v(i,t[3])),this.apply())},r.prototype.apply=function(){var t,e,n,r,o,s,a,l;this.handle.isDragged=0,this.instance.view.wt.selections.fill.isEmpty()||(t=this.instance.view.wt.selections.fill.getCorners(),this.instance.view.wt.selections.fill.clear(),e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),h.hooks.run(this.instance,"afterAutofillApplyValues",e,t),t[0]===e[0]&&t[1]<e[1]?(s="left",n=new v(t[0],t[1]),r=new v(t[2],e[1]-1)):t[0]===e[0]&&t[3]>e[3]?(s="right",n=new v(t[0],e[3]+1),r=new v(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(s="up",n=new v(t[0],t[1]),r=new v(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(s="down",n=new v(e[2]+1,t[1]),r=new v(t[2],t[3])),n&&n.row>-1&&n.col>-1?(l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to},o=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col),a=i(n,r,o,s),h.hooks.run(this.instance,"beforeAutofill",n,r,o),this.instance.populateFromArray(n.row,n.col,o,r.row,r.col,"autofill",null,s,a),this.instance.selection.setRangeStart(new v(t[0],t[1])),this.instance.selection.setRangeEnd(new v(t[2],t[3]))):this.instance.selection.refreshBorders())},r.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),n=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==y("direction")&&(n.row<t.row||e.row>t.row))t=new v(t.row,n.col);else{if("vertical"===y("direction"))return;t=new v(n.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},r.prototype.checkIfNewRowNeeded=function(){var t,e,n=this.instance.countRows(),i=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&y("autoInsertRow")&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){i.instance.alter("insert_row"),i.addingStarted=!1},200))))},h.hooks.add("afterInit",function(){var t=new r(this);y=o(this.getSettings().fillHandle),void 0!==y("fillHandle")&&(t.handle&&y("fillHandle")===!1?t.disable():t.handle||y("fillHandle")===!1||(this.autofill=t,this.autofill.init()))});var y;h.Autofill=r},{"3rdparty/walkontable/src/cell/coords":5,browser:23,eventManager:41,"helpers/dom/element":46,plugins:59}],64:[function(t,e,n){"use strict";Object.defineProperties(n,{ColumnSorting:{get:function(){return C}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],c=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.addClass,d=c.closest,f=c.hasClass,p=c.index,g=c.removeClass,m=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}),v=(m.arrayEach,m.arrayMap),y=m.arrayReduce,w=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).eventManager,_=(a=t("_base"),a&&a.__esModule&&a||{"default":a})["default"],b=(l=t("plugins"),l&&l.__esModule&&l||{"default":l}).registerPlugin;u.hooks.register("beforeColumnSort"),u.hooks.register("afterColumnSort");var C=function(t){$traceurRuntime.superConstructor(T).call(this,t),this.sortIndicators=[],this.lastSortedColumn=null},T=C;$traceurRuntime.createClass(C,{isEnabled:function(){return!!this.hot.getSettings().columnSorting},enablePlugin:function(){var t=this;if(!this.enabled){var e=this;this.hot.sortIndex=[],this.hot.sort=function(){var t=Array.prototype.slice.call(arguments);return e.sortByColumn.apply(e,t)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.bindColumnSortingAfterClick(),this.addHook("afterTrimRow",function(e){return t.sort()}),this.addHook("afterUntrimRow",function(e){return t.sort()}),this.addHook("modifyRow",function(e){return t.translateRow(e)}),this.addHook("afterUpdateSettings",function(){return t.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(e,n){return t.getColHeader(e,n)}),this.addHook("afterCreateRow",function(){e.afterCreateRow.apply(e,arguments)}),this.addHook("afterRemoveRow",function(){e.afterRemoveRow.apply(e,arguments)}),this.addHook("afterInit",function(){return t.sortBySettings()}),this.addHook("afterLoadData",function(){t.hot.sortIndex=[],t.hot.view&&t.sortBySettings()}),this.hot.view&&this.sortBySettings(),$traceurRuntime.superGet(this,T.prototype,"enablePlugin").call(this)}},disablePlugin:function(){this.hot.sort=void 0,$traceurRuntime.superGet(this,T.prototype,"disablePlugin").call(this)},onAfterUpdateSettings:function(){this.sortBySettings()},sortBySettings:function(){var t,e,n=this.hot.getSettings().columnSorting,i=this.loadSortingState();"undefined"==typeof i?(t=n.column,e=n.sortOrder):(t=i.sortColumn,e=i.sortOrder),"number"==typeof t&&(this.lastSortedColumn=t,this.sortByColumn(t,e))},setSortingColumn:function(t,e){return"undefined"==typeof t?(this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0)):(this.hot.sortColumn===t&&"undefined"==typeof e?this.hot.sortOrder===!1?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder="undefined"==typeof e?!0:e,void(this.hot.sortColumn=t))},sortByColumn:function(t,e){if(this.setSortingColumn(t,e),"undefined"!=typeof this.hot.sortColumn){var n=u.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder);n!==!1&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),this.hot.render(),this.saveSortingState(),u.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder)}},saveSortingState:function(){var t={};"undefined"!=typeof this.hot.sortColumn&&(t.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(t.sortOrder=this.hot.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&u.hooks.run(this.hot,"persistentStateSave","columnSorting",t)},loadSortingState:function(){var t={};return u.hooks.run(this.hot,"persistentStateLoad","columnSorting",t),t.value},updateOrderClass:function(){var t;this.hot.sortOrder===!0?t="ascending":this.hot.sortOrder===!1&&(t="descending"),this.sortOrderClass=t},bindColumnSortingAfterClick:function(){function t(){var t=r.hot.view.TBODY.querySelector("tr"),e=1;return t&&(e=t.querySelectorAll("th").length),e}function e(e){var n=d(e,"TH");return r.hot.view.wt.wtTable.getFirstRenderedColumn()+p(n)-t()}var n=this;if(!this.bindedSortEvent){var i=w(this.hot),r=this;this.bindedSortEvent=!0,i.addEventListener(this.hot.rootElement,"click",function(t){if(f(t.target,"columnSorting")){var i=e(t.target);i!==n.lastSortedColumn&&(n.hot.sortOrder=!0),n.lastSortedColumn=i,n.sortByColumn(i)}})}},enableObserveChangesPlugin:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(t){return function(e,n){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),e[1]===n[1]?0:null===e[1]||""===e[1]?1:null===n[1]||""===n[1]?-1:isNaN(e[1])&&!isNaN(n[1])?t?1:-1:!isNaN(e[1])&&isNaN(n[1])?t?-1:1:e[1]<n[1]?t?-1:1:e[1]>n[1]?t?1:-1:0}},dateSort:function(t){return function(e,n){if(e[1]===n[1])return 0;if(null===e[1]||""===e[1])return 1;if(null===n[1]||""===n[1])return-1;var i=new Date(e[1]),r=new Date(n[1]);return r>i?t?-1:1:i>r?t?1:-1:0}},numericSort:function(t){return function(e,n){var i=parseFloat(e[1]),r=parseFloat(n[1]);return i===r||isNaN(i)&&isNaN(r)?0:isNaN(i)?1:isNaN(r)?-1:r>i?t?-1:1:i>r?t?1:-1:0}},sort:function(){if("undefined"==typeof this.hot.sortOrder)return void(this.hot.sortIndex.length=0);var t,e;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0;for(var n=0,i=this.hot.countRows()-this.hot.getSettings().minSpareRows;i>n;n++)this.hot.sortIndex.push([n,this.hot.getDataAtCell(n,this.hot.sortColumn)]);if(t=this.hot.getCellMeta(0,this.hot.sortColumn),t.sortFunction)e=t.sortFunction;else switch(t.type){case"date":e=this.dateSort;break;case"numeric":e=this.numericSort;break;default:e=this.defaultSort}this.hot.sortIndex.sort(e(this.hot.sortOrder));for(var r=this.hot.sortIndex.length;r<this.hot.countRows();r++)this.hot.sortIndex.push([r,this.hot.getDataAtCell(r,this.hot.sortColumn)]);this.hot.sortingEnabled=!0},updateSortIndicator:function(){if("undefined"!=typeof this.hot.sortOrder){var t=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=t.sortIndicator}},translateRow:function(t){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[t]?this.hot.sortIndex[t][0]:t},untranslateRow:function(t){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var e=0;e<this.hot.sortIndex.length;e++)if(this.hot.sortIndex[e][0]==t)return e},getColHeader:function(t,e){var n=e.querySelector(".colHeader"),i=(e.getAttribute("colspan"),e.parentNode.parentNode.childNodes),r=Array.prototype.indexOf.call(i,e.parentNode);r-=i.length,n&&(this.hot.getSettings().columnSorting&&t>=0&&-1===r&&h(n,"columnSorting"),g(n,"descending"),g(n,"ascending"),this.sortIndicators[t]&&t===this.hot.sortColumn&&("ascending"===this.sortOrderClass?h(n,"ascending"):"descending"===this.sortOrderClass&&h(n,"descending")))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(t,e){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=t&&(this.hot.sortIndex[n][0]+=e);for(var n=0;e>n;n++)this.hot.sortIndex.splice(t+n,0,[t+n,this.hot.getSourceData()[t+n][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(t,e){function n(t){return y(i,function(e,n){return t>n&&e++,e},0)}if(this.isSorted()){var i=this.hot.sortIndex.splice(t,e);i=v(i,function(t){return t[0]}),this.hot.sortIndex=v(this.hot.sortIndex,function(t,e){var i=n(t[0]);return i&&(t[0]-=i),t}),this.saveSortingState()}}},{},_),b("columnSorting",C)},{_base:60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,plugins:59}],65:[function(t,e,n){"use strict";Object.defineProperties(n,{CommentEditor:{get:function(){return o}},__esModule:{value:!0}});var i,r=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).addClass,o=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.editorStyle.position="absolute",this.editorStyle.zIndex=100,this.hide()},s=o;$traceurRuntime.createClass(o,{setPosition:function(t,e){this.editorStyle.left=t+"px",this.editorStyle.top=e+"px"},show:function(){this.editorStyle.display="block"},hide:function(){this.editorStyle.display="none"},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var t=void 0!==arguments[0]?arguments[0]:"";t=t||"",this.getInputElement().value=t},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var t,e,n=document.querySelector("."+s.CLASS_EDITOR_CONTAINER);return n||(n=document.createElement("div"),r(n,s.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),t=document.createElement("div"),r(t,s.CLASS_EDITOR),e=document.createElement("textarea"),r(e,s.CLASS_INPUT),t.appendChild(e),n.appendChild(t),t},getInputElement:function(){return this.editor.querySelector("."+s.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"helpers/dom/element":46}],66:[function(t,e,n){"use strict";Object.defineProperties(n,{Comments:{get:function(){return x}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],h=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),d=h.addClass,f=h.closest,p=h.getWindowScrollLeft,g=h.getWindowScrollTop,m=h.hasClass,v=h.offset,y=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,w=(s=t("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,_=(a=t("plugins"),a&&a.__esModule&&a||{"default":a}),b=_.registerPlugin,C=(_.getPlugin,(l=t("_base"),l&&l.__esModule&&l||{"default":l})["default"]),T=(u=t("commentEditor"),u&&u.__esModule&&u||{"default":u}).CommentEditor,x=function(t){$traceurRuntime.superConstructor(S).call(this,t),this.editor=null,this.eventManager=null,this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null},S=x;$traceurRuntime.createClass(x,{isEnabled:function(){return this.hot.getSettings().comments},enablePlugin:function(){var t=this;this.enabled||(this.editor||(this.editor=new T),this.eventManager||(this.eventManager=new y(this)),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,n,i,r,o,s){return t.onAfterRenderer(e,s)}),this.addHook("afterScrollHorizontally",function(){return t.refreshEditorPosition()}),this.addHook("afterScrollVertically",function(){return t.refreshEditorPosition()}),this.addHook("afterColumnResize",function(){return t.refreshEditorPosition()}),this.addHook("afterRowResize",function(){return t.refreshEditorPosition()}),this.registerListeners(),$traceurRuntime.superGet(this,S.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,S.prototype,"disablePlugin").call(this)},registerListeners:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document,"mouseup",function(e){return t.onMouseUp(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(e){return t.onEditorBlur(e)})},setRange:function(t){this.range=t},clearRange:function(){this.range={}},targetIsCellWithComment:function(t){return!(!m(t.target,"htCommentCell")||!f(t.target,[this.hot.rootElement]))},targetIsCommentTextArea:function(t){return this.editor.getInputElement()===t.target},saveComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),e=this.range.from.row,n=this.range.from.col;this.hot.setCellMeta(e,n,"comment",t),this.hot.render()},saveCommentAtCell:function(t,e){this.setRange({from:new w(t,e)}),this.saveComment()},removeComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.removeCellMeta(this.range.from.row,this.range.from.col,"comment"),this.hot.render(),this.hide()},removeCommentAtCell:function(t,e){this.setRange({from:new w(t,e)}),this.removeComment()},show:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditorPosition(!0),this.editor.setValue(t.comment||""),this.editor.show(),!0},showAtCell:function(t,e){return this.setRange({from:new w(t,e)}),this.show()},hide:function(){this.editor.hide()},refreshEditorPosition:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t||this.range.from&&this.editor.isVisible()){var e=this.hot.view.wt.wtTable.getCell(this.range.from),n=v(e),i=this.hot.getColWidth(this.range.from.col),r=n.top,o=n.left,s=0,a=0;this.hot.view.wt.wtViewport.hasVerticalScroll()&&(r-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(),s=20),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&(o-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(),a=20);var l=o+i,u=r,c=this.hot.view.wt.wtTable.holder.getBoundingClientRect(),h={left:c.left+p()+a,right:c.right+p()-15,top:c.top+g()+s,bottom:c.bottom+g()};l<=h.left||l>h.right||u<=h.top||u>h.bottom?this.hide():this.editor.setPosition(l,u)}},onMouseDown:function(t){this.mouseDown=!0,this.hot.view&&this.hot.view.wt&&(this.contextMenuEvent||this.targetIsCommentTextArea(t)||this.targetIsCellWithComment(t)||this.hide(),this.contextMenuEvent=!1)},onMouseOver:function(t){if(!this.mouseDown&&!this.editor.isFocused())if(this.targetIsCellWithComment(t)){var e=this.hot.view.wt.wtTable.getCoords(t.target),n={from:new w(e.row,e.col)};this.setRange(n),this.show()}else this.targetIsCommentTextArea(t)||this.editor.isFocused()||this.hide()},onMouseMove:function(t){var e=this;this.targetIsCommentTextArea(t)&&(this.mouseDown=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){e.mouseDown=!1},200))},onMouseUp:function(t){this.mouseDown=!1},onAfterRenderer:function(t,e){e.comment&&d(t,e.commentedCellClassName)},onEditorBlur:function(t){this.saveComment()},checkSelectionCommentsConsistency:function(){var t=this.hot.getSelectedRange();if(!t)return!1;var e=!1,n=t.from;return this.hot.getCellMeta(n.row,n.col).comment&&(e=!0),e},onContextMenuAddComment:function(){var t=this,e=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)},onContextMenuRemoveComment:function(t,e){this.contextMenuEvent=!0,this.removeCommentAtCell(e.start.row,e.start.col)},addToContextMenu:function(t){var e=this;t.items.push(c.plugins.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?"Edit Comment":"Add Comment"},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return!this.getSelected()}},{key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,n){return e.onContextMenuRemoveComment(t,n)},disabled:function(){return!e.checkSelectionCommentsConsistency()}})},destroy:function(){this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,S.prototype,"destroy").call(this)}},{},C),b("comments",x)},{"3rdparty/walkontable/src/cell/coords":5,_base:60,browser:23,commentEditor:65,eventManager:41,"helpers/dom/element":46,plugins:59}],67:[function(t,e,n){"use strict";function i(t,e){var n;return o(e,function(e){var i=e.key?e.key.split(":"):null;return Array.isArray(i)&&i[1]===t?(n=e,!1):void 0}),n}Object.defineProperties(n,{CommandExecutor:{get:function(){return s}},__esModule:{value:!0}});var r,o=(r=t("helpers/array"),r&&r.__esModule&&r||{"default":r}).arrayEach,s=function(t){this.hot=t,this.commands={},this.commonCallback=null};$traceurRuntime.createClass(s,{registerCommand:function(t,e){this.commands[t]=e},setCommonCallback:function(t){this.commonCallback=t},execute:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this,s=t.split(":");t=s[0];var a=2===s.length?s[1]:null,l=this.commands[t];if(!l)throw new Error("Menu command '"+t+"' not exists.");if(a&&l.submenu&&(l=i(a,l.submenu.items)),l.disabled!==!0&&("function"!=typeof l.disabled||l.disabled.call(this.hot)!==!0)&&!l.hasOwnProperty("submenu")){var u=[];"function"==typeof l.callback&&u.push(l.callback),"function"==typeof this.commonCallback&&u.push(this.commonCallback),e.unshift(s.join(":")),o(u,function(t){return t.apply(r.hot,e)})}}},{})},{"helpers/array":42}],68:[function(t,e,n){"use strict";Object.defineProperties(n,{ContextMenu:{get:function(){return z}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,l,f,p=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],g=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],m=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,v=(s=t("commandExecutor"),s&&s.__esModule&&s||{"default":s}).CommandExecutor,y=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,w=(l=t("helpers/dom/element"),l&&l.__esModule&&l||{"default":l}).hasClass,_=(u=t("itemsFactory"),u&&u.__esModule&&u||{"default":u}).ItemsFactory,b=(c=t("menu"),c&&c.__esModule&&c||{"default":c}).Menu,C=(h=t("plugins"),h&&h.__esModule&&h||{"default":h}).registerPlugin,T=(d=t("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}),x=T.stopPropagation,S=T.pageX,E=T.pageY,R=(l=t("helpers/dom/element"),l&&l.__esModule&&l||{"default":l}),M=R.getWindowScrollLeft,k=R.getWindowScrollTop,O=(f=t("predefinedItems"),f&&f.__esModule&&f||{"default":f}),A=O.ROW_ABOVE,N=O.ROW_BELOW,P=O.COLUMN_LEFT,D=O.COLUMN_RIGHT,L=O.REMOVE_ROW,H=O.REMOVE_COLUMN,I=O.UNDO,F=O.REDO,W=O.READ_ONLY,j=O.ALIGNMENT,B=O.SEPARATOR,z=function(t){$traceurRuntime.superConstructor(V).call(this,t),this.eventManager=new y(this),this.commandExecutor=new v(this.hot),this.itemsFactory=null,this.menu=null},V=z;$traceurRuntime.createClass(z,{isEnabled:function(){return this.hot.getSettings().contextMenu},enablePlugin:function(){var t=this;if(!this.enabled){this.itemsFactory=new _(this.hot,V.DEFAULT_ITEMS);var e=this.hot.getSettings().contextMenu,n={items:this.itemsFactory.getItems(e)};this.registerEvents(),"function"==typeof e.callback&&this.commandExecutor.setCommonCallback(e.callback),$traceurRuntime.superGet(this,V.prototype,"enablePlugin").call(this),this.callOnPluginsReady(function(){t.hot.runHooks("afterContextMenuDefaultOptions",n),t.itemsFactory.setPredefinedItems(n.items);var i=t.itemsFactory.getItems(e);t.menu=new b(t.hot,{className:"htContextMenu",keepInViewport:!0}),t.menu.setMenuItems(i),t.menu.addLocalHook("afterOpen",function(){return t.onMenuAfterOpen()}),t.menu.addLocalHook("afterClose",function(){return t.onMenuAfterClose()}),t.menu.addLocalHook("executeCommand",function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.executeCommand.apply(t,e)}),m(i,function(e){return t.commandExecutor.registerCommand(e.key,e)})})}},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,V.prototype,"updatePlugin").call(this)},disablePlugin:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),$traceurRuntime.superGet(this,V.prototype,"disablePlugin").call(this)},registerEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(e){return t.onContextMenu(e)})},open:function(t){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt(E(t),10)-k(),left:parseInt(S(t),10)-M()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv,p.eventManager.isHotTableEnv=this.hot.isHotTableEnv)},close:function(){this.menu&&this.menu.close()},executeCommand:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.commandExecutor.execute.apply(this.commandExecutor,t)},onContextMenu:function(t){function e(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}var n=this.hot.getSettings(),i=n.rowHeaders,r=n.colHeaders,o=t.realTarget;if(this.close(),t.preventDefault(),x(t),i||r){if(i&&r){var s=o.parentNode.querySelectorAll(".cornerHeader").length>0;if(s)return}}else if(!(e(o)||w(o,"current")&&w(o,"wtBorder")))return;this.open(t)},onMenuAfterOpen:function(){this.hot.runHooks("afterContextMenuShow",this)},onMenuAfterClose:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)},destroy:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,V.prototype,"destroy").call(this)}},{get DEFAULT_ITEMS(){return[A,N,B,P,D,B,L,H,B,I,F,B,W,B,j]}},g),z.SEPARATOR={name:B},p.hooks.register("afterContextMenuDefaultOptions"),p.hooks.register("afterContextMenuShow"),p.hooks.register("afterContextMenuHide"),p.hooks.register("afterContextMenuExecute"),C("contextMenu",z)},{_base:60,browser:23,commandExecutor:67,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,itemsFactory:70,menu:71,plugins:59,predefinedItems:72}],69:[function(t,e,n){"use strict";Object.defineProperties(n,{Cursor:{get:function(){return f}},__esModule:{value:!0}});var i,r,o,s=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=a.getWindowScrollLeft,u=a.getWindowScrollTop,c=(o=t("helpers/dom/event"),o&&o.__esModule&&o||{"default":o}),h=c.pageX,d=c.pageY,f=function(t){var e,n,i,r,o,s,a=u(),c=l();this.type=this.getSourceType(t),"literal"===this.type?(e=parseInt(t.top,10),i=parseInt(t.left,10),o=t.height||0,s=t.width||0,n=e,r=i,e+=a,i+=c):"event"===this.type&&(e=parseInt(d(t),10),i=parseInt(h(t),10),o=t.target.clientHeight,s=t.target.clientWidth,n=e-a,r=i-c),this.top=e,this.topRelative=n,this.left=i,this.leftRelative=r,this.scrollTop=a,this.scrollLeft=c,this.cellHeight=o,this.cellWidth=s};$traceurRuntime.createClass(f,{getSourceType:function(t){var e="literal";return t instanceof Event&&(e="event"),e},fitsAbove:function(t){return this.topRelative>=t.offsetHeight},fitsBelow:function(t){var e=void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+t.offsetHeight<=e},fitsOnRight:function(t){var e=void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=e},fitsOnLeft:function(t){return this.leftRelative>=t.offsetWidth}},{}),s.plugins.utils=s.plugins.utils||{},s.plugins.utils.Cursor=f},{browser:23,"helpers/dom/element":46,"helpers/dom/event":47}],70:[function(t,e,n){"use strict";function i(){var t=void 0!==arguments[0]?arguments[0]:null,e=void 0!==arguments[1]?arguments[1]:[],n=void 0!==arguments[2]?arguments[2]:{},i=[];return t&&t.items?t=t.items:Array.isArray(t)||(t=e),u(t)?l(t,function(t,e){var r=n["string"==typeof t?t:e];r||(r=t),u(t)?c(r,t):"string"==typeof r&&(r={name:r}),void 0===r.key&&(r.key=e),i.push(r)}):h(t,function(t,e){var r=n[t];!r&&p.indexOf(t)>=0||(r||(r={name:t,key:e+""}),u(t)&&c(r,t),void 0===r.key&&(r.key=e),i.push(r))}),i}Object.defineProperties(n,{ItemsFactory:{get:function(){return m}},__esModule:{value:!0}});var r,o,s,a=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}),l=a.objectEach,u=a.isObject,c=a.extend,h=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,d=(s=t("predefinedItems"),s&&s.__esModule&&s||{"default":s}),f=d.SEPARATOR,p=d.ITEMS,g=d.predefinedItems,m=function(t){var e=void 0!==arguments[1]?arguments[1]:null;this.hot=t,this.predefinedItems=g(),this.defaultOrderPattern=e};$traceurRuntime.createClass(m,{setPredefinedItems:function(t){var e=this,n={};this.defaultOrderPattern.length=0,l(t,function(t,i){var r="";t.name===f?(n[f]=t,r=f):isNaN(parseInt(i,10))?(t.key=void 0===t.key?i:t.key,n[i]=t,r=t.key):(n[t.key]=t,r=t.key),e.defaultOrderPattern.push(r)}),this.predefinedItems=n},getItems:function(){var t=void 0!==arguments[0]?arguments[0]:null;return i(t,this.defaultOrderPattern,this.predefinedItems)}},{})},{"helpers/array":42,"helpers/object":52,predefinedItems:72}],71:[function(t,e,n){"use strict";Object.defineProperties(n,{Menu:{get:function(){return V}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h,d,f,p,g=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],m=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),v=m.addClass,y=m.empty,w=m.fastInnerHTML,_=m.getScrollbarWidth,b=m.isChildOf,C=m.removeClass,T=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}),x=T.arrayEach,S=T.arrayFilter,E=T.arrayReduce,R=(s=t("cursor"),s&&s.__esModule&&s||{"default":s}).Cursor,M=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,k=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}).mixin,O=(u=t("helpers/function"),u&&u.__esModule&&u||{"default":u}).debounce,A=(c=t("utils"),c&&c.__esModule&&c||{"default":c}),N=A.filterSeparators,P=A.hasSubMenu,D=A.isDisabled,L=A.isItemHidden,H=A.isSeparator,I=A.isSelectionDisabled,F=A.normalizeSelection,W=(h=t("helpers/unicode"),h&&h.__esModule&&h||{"default":h}).KEY_CODES,j=(d=t("mixins/localHooks"),d&&d.__esModule&&d||{"default":d}).localHooks,B=(f=t("predefinedItems"),f&&f.__esModule&&f||{"default":f}).SEPARATOR,z=(p=t("helpers/dom/event"),p&&p.__esModule&&p||{"default":p}).stopImmediatePropagation,V=function(t,e){this.hot=t,this.options=e||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1},this.eventManager=new M(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()},U=V;$traceurRuntime.createClass(V,{registerEvents:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){return t.onDocumentMouseDown(e)})},setMenuItems:function(t){this.menuItems=t},setOffset:function(t){var e=void 0!==arguments[1]?arguments[1]:0;this.offset[t]=e},isSubMenu:function(){return null!==this.parentMenu},open:function(){var t=this;this.container.removeAttribute("style"),this.container.style.display="block";var e=O(function(e){return t.openSubMenu(e)},300),n=S(this.menuItems,function(e){return L(e,t.hot)});n=N(n,B);var i={data:n,colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(e,n,i,r,o,s){return t.menuItemRenderer(e,n,i,r,o,s)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(e){return t.onBeforeKeyDown(e)},afterOnCellMouseOver:function(n,i,r){t.isAllSubMenusClosed()?e(i.row):t.openSubMenu(i.row)}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new g.Core(this.container,i),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")},close:function(){var t=void 0!==arguments[0]?arguments[0]:!1;this.isOpened()&&(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose")))},openSubMenu:function(t){if(!this.hotMenu)return!1;var e=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!e||!P(e))return!1;var n=this.hotMenu.getSourceDataAtRow(t),i=new U(this.hot,{parent:this,name:n.name,className:this.options.className,keepInViewport:!0});return i.setMenuItems(n.submenu.items),i.open(),i.setPosition(e.getBoundingClientRect()),this.hotSubMenus[n.key]=i,
i},closeSubMenu:function(t){var e=this.hotMenu.getSourceDataAtRow(t),n=this.hotSubMenus[e.key];n&&(n.destroy(),delete this.hotSubMenus[e.key])},closeAllSubMenus:function(){var t=this;x(this.hotMenu.getData(),function(e,n){return t.closeSubMenu(n)})},isAllSubMenusClosed:function(){return 0===Object.keys(this.hotSubMenus).length},destroy:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()},isOpened:function(){return null!==this.hotMenu},executeCommand:function(t){if(this.isOpened()&&this.hotMenu.getSelected()){var e=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelected()[0]);if(this.runLocalHooks("select",e,t),e.isCommand!==!1&&e.name!==B){var n=this.hot.getSelectedRange(),i=n?F(n):{};this.runLocalHooks("executeCommand",e.key,i,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",e.key,i,t),e.disabled===!0||"function"==typeof e.disabled&&e.disabled.call(this.hot)===!0||e.submenu||this.close(!0)}}},setPosition:function(t){var e=new R(t);this.options.keepInViewport?(e.fitsBelow(this.container)?this.setPositionBelowCursor(e):e.fitsAbove(this.container)?this.setPositionAboveCursor(e):this.setPositionBelowCursor(e),e.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(e):this.setPositionOnLeftOfCursor(e)):(this.setPositionBelowCursor(e),this.setPositionOnRightOfCursor(e))},setPositionAboveCursor:function(t){var e=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(e=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top=e+"px"},setPositionBelowCursor:function(t){var e=this.offset.below+t.top;this.isSubMenu()&&(e=t.top-1),this.container.style.top=e+"px"},setPositionOnRightOfCursor:function(t){var e;e=this.isSubMenu()?1+t.left+t.cellWidth:this.offset.right+1+t.left,this.container.style.left=e+"px"},setPositionOnLeftOfCursor:function(t){var e=this.offset.left+t.left-this.container.offsetWidth+_()+4;this.container.style.left=e+"px"},selectFirstCell:function(){var t=this.hotMenu.getCell(0,0);H(t)||D(t)||I(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)},selectLastCell:function(){var t=this.hotMenu.countRows()-1,e=this.hotMenu.getCell(t,0);H(e)||D(e)||I(e)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)},selectNextCell:function(t,e){var n=t+1,i=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,e):null;i&&(H(i)||D(i)||I(i)?this.selectNextCell(n,e):this.hotMenu.selectCell(n,e))},selectPrevCell:function(t,e){var n=t-1,i=n>=0?this.hotMenu.getCell(n,e):null;i&&(H(i)||D(i)||I(i)?this.selectPrevCell(n,e):this.hotMenu.selectCell(n,e))},menuItemRenderer:function(t,e,n,i,r,o){var s=this,a=t.getSourceDataAtRow(n),l=document.createElement("div"),u=function(t){return t.hasOwnProperty("submenu")},c=function(t){return new RegExp(B,"i").test(t.name)},h=function(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(s.hot)===!0},d=function(t){return t.disableSelection};"function"==typeof o&&(o=o.call(this.hot)),y(e),v(l,"htItemWrapper"),e.appendChild(l),c(a)?v(e,"htSeparator"):"function"==typeof a.renderer?(v(e,"htCustomMenuRenderer"),e.appendChild(a.renderer(t,l,n,i,r,o))):w(l,o),h(a)?(v(e,"htDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()})):d(a)?(v(e,"htSelectionDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()})):u(a)?(v(e,"htSubmenu"),d(a)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,i,void 0,void 0,void 0,!1)})):(C(e,"htSubmenu"),C(e,"htDisabled"),d(a)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,i,void 0,void 0,void 0,!1)}))},createContainer:function(){var t=void 0!==arguments[0]?arguments[0]:null;t&&(t=t.replace(/ /g,"_"),t=this.options.className+"Sub_"+t);var e;return e=t?document.querySelector("."+this.options.className+"."+t):document.querySelector("."+this.options.className),e||(e=document.createElement("div"),v(e,"htMenu "+this.options.className),t&&v(e,t),document.getElementsByTagName("body")[0].appendChild(e)),e},blockMainTableCallbacks:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)},releaseMainTableCallbacks:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},onBeforeKeyDown:function(t){var e=this.hotMenu.getSelected(),n=!1;switch(t.keyCode){case W.ESCAPE:this.close(),n=!0;break;case W.ENTER:e&&(this.hotMenu.getSourceDataAtRow(e[0]).submenu?n=!0:(this.executeCommand(t),this.close(!0)));break;case W.ARROW_DOWN:e?this.selectNextCell(e[0],e[1]):this.selectFirstCell(),n=!0;break;case W.ARROW_UP:e?this.selectPrevCell(e[0],e[1]):this.selectLastCell(),n=!0;break;case W.ARROW_RIGHT:if(e){var i=this.openSubMenu(e[0]);i&&i.selectFirstCell()}n=!0;break;case W.ARROW_LEFT:e&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),n=!0)}n&&(t.preventDefault(),z(t))},onAfterInit:function(){var t=this.hotMenu.getSettings().data,e=this.hotMenu.view.wt.wtTable.hider.style,n=this.hotMenu.view.wt.wtTable.holder.style,i=parseInt(e.width,10),r=E(t,function(t,e){return t+(e.name===B?1:26)},0);n.width=i+22+"px",n.height=r+4+"px"},onDocumentMouseDown:function(t){this.isOpened()&&(this.container&&b(t.target,this.container)&&this.executeCommand(t),this.options.standalone&&this.hotMenu&&!b(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!b(t.target,".htMenu")&&b(t.target,document)&&this.close(!0))}},{}),k(V,j)},{browser:23,cursor:69,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/function":49,"helpers/object":52,"helpers/unicode":55,"mixins/localHooks":56,predefinedItems:72,utils:73}],72:[function(t,e,n){"use strict";function i(){var t={};return c(A,function(e,n){return t[n]=h(e)}),t}function r(t,e){-1===O.indexOf(t)&&(A[t]=e)}var o;Object.defineProperties(n,{ROW_ABOVE:{get:function(){return y}},ROW_BELOW:{get:function(){return w}},COLUMN_LEFT:{get:function(){return _}},COLUMN_RIGHT:{get:function(){return b}},CLEAR_COLUMN:{get:function(){return C}},REMOVE_ROW:{get:function(){return T}},REMOVE_COLUMN:{get:function(){return x}},UNDO:{get:function(){return S}},REDO:{get:function(){return E}},READ_ONLY:{get:function(){return R}},ALIGNMENT:{get:function(){return M}},SEPARATOR:{get:function(){return k}},ITEMS:{get:function(){return O}},predefinedItems:{get:function(){return i}},addItem:{get:function(){return r}},__esModule:{value:!0}});var s,a,l,u=(s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}),c=u.objectEach,h=u.clone,d=((a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,l=t("utils"),l&&l.__esModule&&l||{"default":l}),f=d.align,p=d.getAlignmentClasses,g=d.getValidSelection,m=d.checkSelectionConsistency,v=d.markLabelAsSelected,y="row_above",w="row_below",_="col_left",b="col_right",C="clear_column",T="remove_row",x="remove_col",S="undo",E="redo",R="make_read_only",M="alignment",k="---------",O=[y,w,_,b,C,T,x,S,E,R,M,k],A=(o={},Object.defineProperty(o,k,{value:{name:k},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,y,{value:{key:y,name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=g(this);if(!t||this.countRows()>=this.getSettings().maxRows)return!0;var e=this.countRows(),n=[0,t[1],e-1,t[1]];return n.join(",")===t.join(",")&&e>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,w,{value:{key:w,name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=g(this);if(!t||this.countRows()>=this.getSettings().maxRows)return!0;var e=this.countRows(),n=[0,t[1],e-1,t[1]];return n.join(",")===t.join(",")&&e>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,_,{value:{key:_,name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){var t=g(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(","),i=1==this.countCols();return t[1]<0||this.countCols()>=this.getSettings().maxCols||!i&&n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,b,{value:{key:b,name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1)},disabled:function(){var t=g(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(","),i=1==this.countCols();return t[1]<0||this.countCols()>=this.getSettings().maxCols||!i&&n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,C,{value:{key:C,name:"Clear column",callback:function(t,e){var n=e.start.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e.start.row,e.end.row),n)},disabled:function(){var t=g(this);if(!t)return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,T,{value:{key:T,name:"Remove row",callback:function(t,e){var n=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,n)},disabled:function(){var t=g(this);if(!t||this.selection.selectedHeader.cols)return!0;var e=[0,t[1],this.countRows()-1,t[1]];return e.join(",")===t.join(",")},hidden:function(){return!this.getSettings().allowRemoveRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,x,{value:{key:x,name:"Remove column",callback:function(t,e){var n=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,n)},disabled:function(){var t=g(this);if(!t||this.selection.selectedHeader.rows)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||n},hidden:function(){return!this.getSettings().allowRemoveColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,S,{value:{key:S,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,E,{value:{key:E,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,R,{value:{key:R,name:function(){var t=this,e="Read only",n=m(this.getSelectedRange(),function(e,n){return t.getCellMeta(e,n).readOnly});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=m(e,function(e,n){return t.getCellMeta(e,n).readOnly});e.forAll(function(e,i){t.getCellMeta(e,i).readOnly=!n}),this.render()},disabled:function(){return!this.getSelectedRange()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,M,{value:{key:M,name:"Alignment",disabled:function(){return!this.getSelectedRange()},submenu:{items:[{key:M+":left",name:function(){var t=this,e="Left",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htLeft")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:M+":center",name:function(){var t=this,e="Center",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htCenter")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:M+":right",name:function(){var t=this,e="Right",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htRight")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="horizontal",r="htRight";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:M+":justify",name:function(){var t=this,e="Justify",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htJustify")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{name:k},{key:M+":top",name:function(){var t=this,e="Top",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htTop")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="vertical",r="htTop";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:M+":middle",name:function(){var t=this,e="Middle",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htMiddle")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:M+":bottom",name:function(){var t=this,e="Bottom",n=m(this.getSelectedRange(),function(e,n){var i=t.getCellMeta(e,n).className;return i&&-1!==i.indexOf("htBottom")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),i="vertical",r="htBottom";this.runHooks("beforeCellAlignment",n,e,i,r),f(e,i,r,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1}]}},configurable:!0,enumerable:!0,writable:!0}),o)},{"helpers/number":51,"helpers/object":52,utils:73}],73:[function(t,e,n){"use strict";function i(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}}function r(t){return S(t,"htSeparator")}function o(t){return S(t,"htSubmenu")}function s(t){return S(t,"htDisabled")}function a(t){return S(t,"htSelectionDisabled")}function l(t){var e=t.getSelected();return e?e[0]<0?null:e:null}function u(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function c(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function h(t,e){for(var n={},i=t.from.row;i<=t.to.row;i++)for(var r=t.from.col;r<=t.to.col;r++)n[i]||(n[i]=[]),n[i][r]=e(i,r);return n}function d(t,e,n,i){if(t.from.row==t.to.row&&t.from.col==t.to.col)f(t.from.row,t.from.col,e,n,i);else for(var r=t.from.row;r<=t.to.row;r++)for(var o=t.from.col;o<=t.to.col;o++)f(r,o,e,n,i)}function f(t,e,n,i,r){var o=r(t,e),s=i;o.className&&(s="vertical"===n?u(o.className,i):c(o.className,i)),o.className=s}function p(t,e){var n=!1;return t&&t.forAll(function(t,i){return e(t,i)?(n=!0,!1):void 0}),n}function g(t){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+t}function m(t,e){return!t.hidden||!("function"==typeof t.hidden&&t.hidden.call(e))}function v(t,e){for(var n=t.slice(0),i=0;i<n.length&&n[i].name===e;)n.shift();return n}function y(t,e){var n=t.slice(0);return n.reverse(),n=v(n,e),n.reverse(),n}function w(t){var e=[];return x(t,function(t,n){n>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}function _(t){var e=void 0!==arguments[1]?arguments[1]:E,n=t.slice(0);return n=v(n,e),n=y(n,e),n=w(n)}Object.defineProperties(n,{normalizeSelection:{get:function(){return i}},isSeparator:{get:function(){return r}},hasSubMenu:{get:function(){return o}},isDisabled:{get:function(){return s}},isSelectionDisabled:{get:function(){return a}},getValidSelection:{get:function(){return l}},prepareVerticalAlignClass:{get:function(){return u}},prepareHorizontalAlignClass:{get:function(){return c}},getAlignmentClasses:{get:function(){return h}},align:{get:function(){return d}},checkSelectionConsistency:{get:function(){return p}},markLabelAsSelected:{get:function(){return g}},isItemHidden:{get:function(){return m}},filterSeparators:{get:function(){return _}},__esModule:{value:!0}});var b,C,T,x=(b=t("helpers/array"),b&&b.__esModule&&b||{"default":b}).arrayEach,S=(C=t("helpers/dom/element"),C&&C.__esModule&&C||{"default":C}).hasClass,E=(T=t("predefinedItems"),T&&T.__esModule&&T||{"default":T}).SEPARATOR},{"helpers/array":42,"helpers/dom/element":46,predefinedItems:72}],74:[function(t,e,n){"use strict";Object.defineProperties(n,{ContextMenuCopyPaste:{get:function(){return v}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],h=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).removeClass,d=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,f=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).EventManager,p=(a=t("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin,g=(l=t("_base"),l&&l.__esModule&&l||{"default":l})["default"],m=(u=t("zeroclipboard"),u&&u.__esModule&&u||{"default":u})["default"],v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.eventManager=new f(this),this.swfPath=null,this.outsideClickDeselectsCache=null},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return this.hot.getSettings().contextMenuCopyPaste},enablePlugin:function(){var t=this;if(!this.enabled){"object"==typeof this.hot.getSettings().contextMenuCopyPaste&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof m&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manually include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){"undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.swfPath&&m.config({swfPath:this.swfPath}),this.hot.addHook("afterContextMenuShow",function(){return t.onAfterContextMenuShow()}),this.hot.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.registerEvents(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this)}},disablePlugin:function(){$traceurRuntime.superGet(this,y.prototype,"disablePlugin").call(this)},registerEvents:function(){var t=this;this.eventManager.addEventListener(document,"mouseenter",function(){return t.removeCurrentClass()}),this.eventManager.addEventListener(document,"mouseleave",function(){return t.removeZeroClipboardClass()})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},onAfterContextMenuDefaultOptions:function(t){t.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},c.plugins.ContextMenu.SEPARATOR)},onAfterContextMenuShow:function(){var t=this,e=this.hot.getPlugin("contextMenu"),n=e.menu.hotMenu.getSourceData();d(n,function(n,i){if("copy"===n.key){var r=new m(e.menu.hotMenu.getCell(i,0));return r.off(),r.on("copy",function(e){var n=e.clipboardData;n.setData("text/plain",t.getCopyValue()),t.hot.getSettings().outsideClickDeselects=t.outsideClickDeselectsCache}),!1}})},removeCurrentClass:function(){var t=this.hot.getPlugin("contextMenu");if(t.menu.isOpened()){var e=t.menu.hotMenu.rootElement.querySelector("td.current");e&&h(e,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1},removeZeroClipboardClass:function(){var t=this.hot.getPlugin("contextMenu");if(t.menu.isOpened()){var e=t.menu.hotMenu.rootElement.querySelector("td.zeroclipboard-is-hover");e&&h(e,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache}},{},g),p("contextMenuCopyPaste",v)},{_base:60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,plugins:59,zeroclipboard:"zeroclipboard"}],75:[function(t,e,n){"use strict";function i(t){function e(){t.isListening()&&t.selection.empty()}function n(e){var n,i,r,o,s,a,l,u,c,h;if(t.isListening()&&t.selection.isSelected()){n=e,i=w.parse(n),r=t.getSelected(),o=new O(r[0],r[1]),s=new O(r[2],r[3]),a=new A(o,o,s),l=a.getTopLeftCorner(),u=a.getBottomRightCorner(),c=l,h=new O(Math.max(u.row,i.length-1+l.row),Math.max(u.col,i[0].length-1+l.col));var d=s.row-o.row>=i.length-1,f=s.col-o.col>=i[0].length-1;t.addHookOnce("afterChange",function(e,n){var i=e?e.length:0;if(i){var r={row:0,col:0},o=-1;T(e,function(t,n){var s=i>n+1?e[n+1]:null;s&&(d||(r.row=r.row+Math.max(s[0]-t[0]-1,0)),!f&&t[1]>o&&(o=t[1],r.col=r.col+Math.max(s[1]-t[1]-1,0)))}),t.selectCell(c.row,c.col,h.row+r.row,h.col+r.col)}}),t.populateFromArray(c.row,c.col,i,h.row,h.col,"paste",t.getSettings().pasteMode)}}function i(e){if(t.getSelected()&&!(t.getActiveEditor()&&t.getActiveEditor().isOpened()||R(e))){if(C(e.keyCode)){if(t.getSettings().fragmentSelection&&M())return;return r.setCopyableText(),void E(e)}var n=(e.ctrlKey||e.metaKey)&&!e.altKey;e.keyCode==b.A&&n&&t._registerTimeout(setTimeout(k(r.setCopyableText,r),0))}}var r=this;this.copyPasteInstance=y(),this.copyPasteInstance.onCut(e),this.copyPasteInstance.onPaste(n),this.onPaste=n,t.addHook("beforeKeyDown",i),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(e),this.copyPasteInstance.removeCallback(n),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),t.removeHook("beforeKeyDown",i)},t.addHook("afterDestroy",k(this.destroy,this)),this.triggerPaste=k(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=k(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=t.getSettings(),n=e.copyRowsLimit,i=e.copyColsLimit,r=t.getSelectedRange(),o=r.getTopLeftCorner(),s=r.getBottomRightCorner(),a=o.row,l=o.col,u=s.row,c=s.col,h=Math.min(u,a+n-1),d=Math.min(c,l+i-1),f=[];f.push({startRow:a,startCol:l,endRow:h,endCol:d}),f=v.hooks.run(t,"modifyCopyableRange",f);var p=this.getRangedCopyableData(f);t.copyPaste.copyPasteInstance.copyable(p),u===h&&c===d||v.hooks.run(t,"afterCopyLimit",u-a+1,c-l+1,n,i)},this.getRangedCopyableData=function(e){var n=[],i=[],r=[];return T(e,function(t){x(t.startRow,t.endRow,function(t){-1===i.indexOf(t)&&i.push(t)}),x(t.startCol,t.endCol,function(t){-1===r.indexOf(t)&&r.push(t)})}),T(i,function(e){var i=[];T(r,function(n){i.push(t.getCopyableData(e,n))}),n.push(i)}),w.stringify(n)}}function r(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new i(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),t.copyPaste=null)}Object.defineProperties(n,{CopyPastePlugin:{get:function(){return i}},__esModule:{value:!0}});var o,s,a,l,u,c,h,d,f,p,g,m,v=(o=t("browser"),o&&o.__esModule&&o||{"default":o})["default"],y=(s=t("copyPaste"),s&&s.__esModule&&s||{"default":s})["default"],w=(a=t("SheetClip"),a&&a.__esModule&&a||{"default":a})["default"],_=(l=t("helpers/unicode"),l&&l.__esModule&&l||{"default":l}),b=_.KEY_CODES,C=_.isCtrlKey,T=(u=t("helpers/array"),u&&u.__esModule&&u||{"default":u}).arrayEach,x=(c=t("helpers/number"),c&&c.__esModule&&c||{"default":c}).rangeEach,S=(h=t("helpers/dom/event"),h&&h.__esModule&&h||{"default":h}),E=S.stopImmediatePropagation,R=S.isImmediatePropagationStopped,M=(d=t("helpers/dom/element"),d&&d.__esModule&&d||{"default":d}).getSelectionText,k=(f=t("helpers/function"),f&&f.__esModule&&f||{"default":f}).proxy,O=((p=t("plugins"),p&&p.__esModule&&p||{"default":p}).registerPlugin,(g=t("3rdparty/walkontable/src/cell/coords"),g&&g.__esModule&&g||{"default":g}).WalkontableCellCoords),A=(m=t("3rdparty/walkontable/src/cell/range"),m&&m.__esModule&&m||{"default":m}).WalkontableCellRange;v.hooks.add("afterInit",r),v.hooks.add("afterUpdateSettings",r),v.hooks.register("afterCopyLimit"),v.hooks.register("modifyCopyableRange")},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,SheetClip:"SheetClip",browser:23,copyPaste:"copyPaste","helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/function":49,"helpers/number":51,"helpers/unicode":55,plugins:59}],76:[function(t,e,n){"use strict";function i(){}var r,o,s,a,l,u=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],c=((o=t("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,(s=t("3rdparty/walkontable/src/cell/range"),s&&s.__esModule&&s||{"default":s}).WalkontableCellRange),h=(a=t("3rdparty/walkontable/src/selection"),a&&a.__esModule&&a||{"default":a}).WalkontableSelection,d=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0},f=function(){d(this.getSettings().customBorders)&&(this.customBorders||(l=this,this.customBorders=new i))},p=function(t){for(var e=0;e<l.view.wt.selections.length;e++)if(l.view.wt.selections[e].settings.className==t)return e;return-1},g=function(t){var e={row:t.row,col:t.col},n=new h(t,new c(e,e,e)),i=p(t.className);i>=0?l.view.wt.selections[i]=n:l.view.wt.selections.push(n)},m=function(t,e,n){var i=C(t,e);i=T(i,n),this.setCellMeta(t,e,"borders",i),g(i)},v=function(t){for(var e=t.range,n=e.from.row;n<=e.to.row;n++)for(var i=e.from.col;i<=e.to.col;i++){var r=C(n,i),o=0;n==e.from.row&&(o++,t.hasOwnProperty("top")&&(r.top=t.top)),n==e.to.row&&(o++,t.hasOwnProperty("bottom")&&(r.bottom=t.bottom)),i==e.from.col&&(o++,t.hasOwnProperty("left")&&(r.left=t.left)),i==e.to.col&&(o++,t.hasOwnProperty("right")&&(r.right=t.right)),o>0&&(this.setCellMeta(n,i,"borders",r),g(r))}},y=function(t,e){return"border_row"+t+"col"+e},w=function(){return{width:1,color:"#000"}},_=function(){return{hide:!0}},b=function(){return{width:1,color:"#000",cornerVisible:!1}},C=function(t,e){return{className:y(t,e),border:b(),row:t,col:e,top:_(),right:_(),bottom:_(),left:_()}},T=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},x=function(t){for(var e=document.querySelectorAll("."+t),n=0;n<e.length;n++)if(e[n]&&"TD"!=e[n].nodeName){var i=e[n].parentNode;i.parentNode&&i.parentNode.removeChild(i)}},S=function(t,e){var n=y(t,e);x(n),this.removeCellMeta(t,e,"borders")},E=function(t,e,n,i){var r=this.getCellMeta(t,e).borders;r&&void 0!=r.border||(r=C(t,e)),i?r[n]=_():r[n]=w(),this.setCellMeta(t,e,"borders",r);var o=y(t,e);x(o),g(r),this.render()},R=function(t,e,n){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?S.call(this,t.from.row,t.from.col):E.call(this,t.from.row,t.from.col,e,n);else switch(e){case"noBorders":for(var i=t.from.col;i<=t.to.col;i++)for(var r=t.from.row;r<=t.to.row;r++)S.call(this,r,i);break;case"top":for(var o=t.from.col;o<=t.to.col;o++)E.call(this,t.from.row,o,e,n);break;case"right":for(var s=t.from.row;s<=t.to.row;s++)E.call(this,s,t.to.col,e);break;case"bottom":for(var a=t.from.col;a<=t.to.col;a++)E.call(this,t.to.row,a,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)E.call(this,l,t.from.col,e)}},M=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(i,r){var o=t.getCellMeta(i,r).borders;if(o){if(!e)return n=!0,!1;if(!o[e].hasOwnProperty("hide"))return n=!0,!1}}),n},k=function(t){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+t},O=function(t){this.getSettings().customBorders&&(t.items.push(u.plugins.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:[{key:"borders:top",name:function(){var t="Top",e=M(this,"top");return e&&(t=k(t)),t},callback:function(){var t=M(this,"top");R.call(this,this.getSelectedRange(),"top",t)},disabled:!1},{key:"borders:right",name:function(){var t="Right",e=M(this,"right");return e&&(t=k(t)),t},callback:function(){var t=M(this,"right");R.call(this,this.getSelectedRange(),"right",t)},disabled:!1},{key:"borders:bottom",name:function(){var t="Bottom",e=M(this,"bottom");return e&&(t=k(t)),t},callback:function(){var t=M(this,"bottom");R.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},{key:"borders:left",name:function(){var t="Left",e=M(this,"left");return e&&(t=k(t)),t},callback:function(){var t=M(this,"left");R.call(this,this.getSelectedRange(),"left",t)},disabled:!1},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){R.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!M(this)}}]}}))};u.hooks.add("beforeInit",f),u.hooks.add("afterContextMenuDefaultOptions",O),u.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?v.call(this,t[e]):m.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),u.CustomBorders=i},{"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,browser:23,plugins:59}],77:[function(t,e,n){"use strict";function i(){this.boundaries=null,this.callback=null}Object.defineProperties(n,{DragToScroll:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],l=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager;(s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin;a.plugins.DragToScroll=i,i.prototype.setBoundaries=function(t){this.boundaries=t},i.prototype.setCallback=function(t){this.callback=t},i.prototype.check=function(t,e){var n=0,i=0;e<this.boundaries.top?i=e-this.boundaries.top:e>this.boundaries.bottom&&(i=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,i)};var u,c=function(t){t.dragToScrollListening=!1;var e=t.view.wt.wtTable.holder;u=new i,e!==window&&(u.setBoundaries(e.getBoundingClientRect()),u.setCallback(function(t,n){0>t?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),0>n?e.scrollTop-=20:n>0&&(e.scrollTop+=20)}),t.dragToScrollListening=!0)};a.hooks.add("afterInit",function(){var t=this,e=l(this);e.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),e.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&u.check(e.clientX,e.clientY)})}),a.hooks.add("afterDestroy",function(){l(this).clear()}),a.hooks.add("afterOnCellMouseDown",function(){c(this)}),a.hooks.add("afterOnCellCornerMouseDown",function(){c(this)}),a.plugins.DragToScroll=i},{browser:23,eventManager:41,plugins:59}],78:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualColumnFreeze:{get:function(){return u}},__esModule:{value:!0}});var i,r,o,s=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],a=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],l=(o=t("plugins"),
o&&o.__esModule&&o||{"default":o}).registerPlugin,u=function(t){$traceurRuntime.superConstructor(c).call(this,t),this.manualColumnMovePlugin=null,this.frozenColumnsBasePositions=[]},c=u;$traceurRuntime.createClass(u,{isEnabled:function(){return!!this.hot.getSettings().manualColumnFreeze},enablePlugin:function(){var t=this;this.enabled||(this.addHook("modifyCol",function(e){return t.onModifyCol(e)}),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addContextMenuEntry(e)}),$traceurRuntime.superGet(this,c.prototype,"enablePlugin").call(this))},init:function(){$traceurRuntime.superGet(this,c.prototype,"init").call(this),this.fixedColumnsCount=this.hot.getSettings().fixedColumnsLeft},getManualColumnMovePlugin:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin},onModifyCol:function(t){return this.getManualColumnMovePlugin().isEnabled()?t:this.getLogicalColumnIndex(t)},addContextMenuEntry:function(t){var e=this;t.items.push(s.plugins.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var t=e.hot.getSelected()[1];return t>e.fixedColumnsCount-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var t=e.hot.getSelected();return t[1]!==t[3]},callback:function(){var t=e.hot.getSelected()[1];t>e.fixedColumnsCount-1?e.freezeColumn(t):e.unfreezeColumn(t)}})},freezeColumn:function(t){t<=this.fixedColumnsCount-1||(t!==this.getLogicalColumnIndex(t)&&(this.frozenColumnsBasePositions[this.fixedColumnsCount]=t),this.changeColumnPositions(t,this.fixedColumnsCount),this.addFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize())},unfreezeColumn:function(t){if(!(t>this.fixedColumnsCount-1)){var e=this.getBestColumnReturnPosition(t);this.changeColumnPositions(t,e),this.removeFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},addFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount+1}),this.fixedColumnsCount++},removeFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount-1}),this.fixedColumnsCount--},getBestColumnReturnPosition:function(t){var e,n=this.fixedColumnsCount,i=this.getLogicalColumnIndex(n);if(null==this.frozenColumnsBasePositions[t])for(e=this.getLogicalColumnIndex(t);e>i;)n++,i=this.getLogicalColumnIndex(n);else{for(e=this.frozenColumnsBasePositions[t],this.frozenColumnsBasePositions[t]=void 0;e>=i;)n++,i=this.getLogicalColumnIndex(n);n=i}return n-1},getVisibleColumnIndex:function(t){return this.getManualColumnMovePlugin().getVisibleColumnIndex(t)},getLogicalColumnIndex:function(t){return this.getManualColumnMovePlugin().getLogicalColumnIndex(t)},changeColumnPositions:function(t,e){this.getManualColumnMovePlugin().changeColumnPositions(t,e)}},{},a),l("manualColumnFreeze",u)},{_base:60,browser:23,plugins:59}],79:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualColumnMove:{get:function(){return R}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h=(i=t("_base.js"),i&&i.__esModule&&i||{"default":i})["default"],d=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],f=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,g=f.hasClass,m=f.removeClass,v=f.outerHeight,y=(s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}),w=y.arrayEach,_=y.arrayMap,b=(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,C=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,T=(u=t("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}),x=T.pageX,S=(T.pageY,(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin),E=new WeakMap,R=function(t){var e=this;$traceurRuntime.superConstructor(M).call(this,t),E.set(this,{guideClassName:"manualColumnMoverGuide",handleClassName:"manualColumnMover",startOffset:null,pressed:null,startCol:null,endCol:null,currentCol:null,startX:null,startY:null}),this.guideElement=null,this.handleElement=null,this.currentTH=null,this.columnPositions=[],this.eventManager=C(this),this.addHook("init",function(){return e.onInit()})},M=R;$traceurRuntime.createClass(R,{isEnabled:function(){return!!this.hot.getSettings().manualColumnMove},enablePlugin:function(){var t=this,e=E.get(this),n=this.hot.getSettings().manualColumnMove,i=this.loadManualColumnPositions();this.handleElement=document.createElement("DIV"),this.handleElement.className=e.handleClassName,this.guideElement=document.createElement("DIV"),this.guideElement.className=e.guideClassName,this.addHook("modifyCol",function(e){return t.onModifyCol(e)}),this.addHook("unmodifyCol",function(e){return t.onUnmodifyCol(e)}),this.addHook("afterRemoveCol",function(e,n){return t.onAfterRemoveCol(e,n)}),this.addHook("afterCreateCol",function(e,n){return t.onAfterCreateCol(e,n)}),this.registerEvents(),"undefined"!=typeof i?this.columnPositions=i:Array.isArray(n)?this.columnPositions=n:n&&void 0!==this.columnPositions||(this.columnPositions=[]),$traceurRuntime.superGet(this,M.prototype,"enablePlugin").call(this)},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,M.prototype,"updatePlugin").call(this)},disablePlugin:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)&&(this.unregisterEvents(),this.columnPositions=[]),$traceurRuntime.superGet(this,M.prototype,"disablePlugin").call(this)},registerEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},unregisterEvents:function(){this.eventManager.clear()},saveManualColumnPositions:function(){d.hooks.run(this.hot,"persistentStateSave","manualColumnPositions",this.columnPositions)},loadManualColumnPositions:function(){var t={};return d.hooks.run(this.hot,"persistentStateLoad","manualColumnPositions",t),t.value},completeSettingsArray:function(){var t=this,e=this.hot.countCols();this.columnPositions.length!==e&&b(0,e-1,function(e){-1===t.columnPositions.indexOf(e)&&t.columnPositions.push(e)})},setupHandlePosition:function(t){this.currentTH=t;var e=E.get(this),n=this.hot.view.wt.wtTable.getCoords(t).col,i=v(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();e.currentCol=n,e.startOffset=r.left,this.handleElement.style.top=r.top+"px",this.handleElement.style.left=e.startOffset+"px",this.handleElement.style.height=i+"px",this.hot.rootElement.appendChild(this.handleElement)}},refreshHandlePosition:function(t,e){var n=t.getBoundingClientRect(),i=6;e>0?this.handleElement.style.left=n.left+n.width-i+"px":this.handleElement.style.left=n.left+"px"},setupGuidePosition:function(){var t=this.currentTH.getBoundingClientRect(),e=E.get(this),n=parseInt(v(this.handleElement),10),i=parseInt(this.handleElement.style.top,10)+n,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);p(this.handleElement,"active"),p(this.guideElement,"active"),this.guideElement.style.width=t.width+"px",this.guideElement.style.height=r-n+"px",this.guideElement.style.top=i+"px",this.guideElement.style.left=e.startOffset+"px",this.hot.rootElement.appendChild(this.guideElement)},refreshGuidePosition:function(t){var e=E.get(this);this.guideElement.style.left=e.startOffset+t+"px"},hideHandleAndGuide:function(){m(this.handleElement,"active"),m(this.guideElement,"active")},checkColumnHeader:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"THEAD"===e.tagName?!0:this.checkColumnHeader(e)}return!1},createPositionData:function(t){var e=this.columnPositions;e.length<t&&b(e.length,t-1,function(t){e[t]=t})},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},changeColumnPositions:function(t,e){var n=Math.max(t,e);n>this.columnPositions.length-1&&this.createPositionData(n+1),this.columnPositions.splice(e,0,this.columnPositions.splice(t,1)[0])},getVisibleColumnIndex:function(t){return t>this.columnPositions.length-1&&this.createPositionData(t),this.columnPositions.indexOf(t)},getLogicalColumnIndex:function(t){return this.columnPositions[t]},onMouseOver:function(t){var e=E.get(this);if(this.checkColumnHeader(t.target)){var n=this.getTHFromTargetElement(t.target);if(n)if(e.pressed){var i=this.hot.view.wt.wtTable.getCoords(n).col;i>=0&&(e.endCol=i,this.refreshHandlePosition(n,e.endCol-e.startCol))}else this.setupHandlePosition(n)}},onMouseDown:function(t){var e=E.get(this);g(t.target,e.handleClassName)&&(e.startX=x(t),this.setupGuidePosition(),e.pressed=this.hot,e.startCol=e.currentCol,e.endCol=e.currentCol)},onMouseMove:function(t){var e=E.get(this);e.pressed&&this.refreshGuidePosition(x(t)-e.startX)},onMouseUp:function(t){var e=E.get(this);e.pressed&&(this.hideHandleAndGuide(),e.pressed=!1,this.createPositionData(this.hot.countCols()),this.changeColumnPositions(e.startCol,e.endCol),d.hooks.run(this.hot,"beforeColumnMove",e.startCol,e.endCol),this.hot.forceFullRender=!0,this.hot.view.render(),this.saveManualColumnPositions(),d.hooks.run(this.hot,"afterColumnMove",e.startCol,e.endCol),this.setupHandlePosition(this.currentTH))},onModifyCol:function(t){return-1==typeof this.getVisibleColumnIndex(t)&&this.createPositionData(t+1),this.getLogicalColumnIndex(t)},onUnmodifyCol:function(t){return-1==typeof this.getVisibleColumnIndex(t)&&this.createPositionData(t+1),this.getVisibleColumnIndex(t)},onAfterRemoveCol:function(t,e){if(this.isEnabled()){var n,i=this.columnPositions;n=i.splice(t,e),i=_(i,function(t,e){var i=t;return w(n,function(e,n){t>e&&i--}),i}),this.columnPositions=i}},onAfterCreateCol:function(t,e){if(this.isEnabled()){var n=this.columnPositions;if(n.length){var i=[];b(0,e-1,function(e){i.push(t+e)}),t>=n.length?n.concat(i):(n=_(n,function(n,i){return n>=t?n+e:n}),n.splice.apply(n,[t,0].concat(i))),this.columnPositions=n}}},onInit:function(){this.completeSettingsArray()}},{},h),S("manualColumnMove",R),d.hooks.register("beforeColumnMove"),d.hooks.register("afterColumnMove"),d.hooks.register("unmodifyCol")},{"_base.js":60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/number":51,plugins:59}],80:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualColumnResize:{get:function(){return x}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],d=(r=t("_base.js"),r&&r.__esModule&&r||{"default":r})["default"],f=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,g=f.hasClass,m=f.removeClass,v=f.outerHeight,y=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).eventManager,w=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),_=w.pageX,b=(w.pageY,(l=t("helpers/array"),l&&l.__esModule&&l||{"default":l}).arrayEach),C=(u=t("helpers/number"),u&&u.__esModule&&u||{"default":u}).rangeEach,T=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,x=function(t){$traceurRuntime.superConstructor(S).call(this,t),this.currentTH=null,this.currentCol=null,this.selectedCols=[],this.currentWidth=null,this.newSize=null,this.startY=null,this.startWidth=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=y(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualColumnWidths=[],p(this.handle,"manualColumnResizer"),p(this.guide,"manualColumnResizerGuide")},S=x;$traceurRuntime.createClass(x,{isEnabled:function(){return this.hot.getSettings().manualColumnResize},enablePlugin:function(){var t=this;if(!this.enabled){this.manualColumnWidths=[];var e=this.hot.getSettings().manualColumnResize,n=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.addHook("beforeStretchingColumnWidth",function(e,n){return t.onBeforeStretchingColumnWidth(e,n)}),this.addHook("beforeColumnResize",function(e,n,i){return t.onBeforeColumnResize(e,n,i)}),"undefined"!=typeof n?this.manualColumnWidths=n:Array.isArray(e)?this.manualColumnWidths=e:this.manualColumnWidths=[],h.hooks.register("beforeColumnResize"),h.hooks.register("afterColumnResize"),this.bindEvents(),$traceurRuntime.superGet(this,S.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var t=this.hot.getSettings().manualColumnResize;Array.isArray(t)?this.manualColumnWidths=t:t||(this.manualColumnWidths=[])},disablePlugin:function(){$traceurRuntime.superGet(this,S.prototype,"disablePlugin").call(this)},saveManualColumnWidths:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)},loadManualColumnWidths:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",t),t.value},setupHandlePosition:function(t){var e=this;if(!t.parentNode)return!1;this.currentTH=t;var n=this.hot.view.wt.wtTable.getCoords(t).col,i=v(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentCol=n,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.cols){var o=this.hot.getSelectedRange(),s=o.from,a=o.to,l=s.col,u=a.col;l>=u&&(l=a.col,u=s.col),this.currentCol>=l&&this.currentCol<=u?C(l,u,function(t){return e.selectedCols.push(t)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=r.left-6,this.startWidth=parseInt(r.width,10),this.handle.style.top=r.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=i+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"},setupGuidePosition:function(){var t=parseInt(v(this.handle),10),e=parseInt(this.handle.style.top,10)+t,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);p(this.handle,"active"),p(this.guide,"active"),this.guide.style.top=e+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=n-t+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.left=this.handle.style.left},hideHandleAndGuide:function(){m(this.handle,"active"),m(this.guide,"active")},checkIfColumnHeader:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"THEAD"===e.tagName?!0:this.checkIfColumnHeader(e)}return!1},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},onMouseOver:function(t){if(this.checkIfColumnHeader(t.target)){var e=this.getTHFromTargetElement(t.target);if(!e)return;var n=e.getAttribute("colspan");!e||null!==n&&1!==n||this.pressed||this.setupHandlePosition(e)}},afterMouseDownTimeout:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,i){var r=t.hot.runHooks("beforeColumnResize",n,t.newSize,!0);void 0!==r&&(t.newSize=r),"all"===t.hot.getSettings().stretchH?t.clearManualSize(n):t.setManualSize(n,t.newSize),i&&e(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",n,t.newSize,!0)};if(this.dblclick>=2){var i=this.selectedCols.length;i>1?(b(this.selectedCols,function(t){n(t)}),e()):b(this.selectedCols,function(t){n(t,!0)})}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(t){var e=this;g(t.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=_(t),this.newSize=this.startWidth)},onMouseMove:function(t){var e=this;this.pressed&&(this.currentWidth=this.startWidth+(_(t)-this.startX),b(this.selectedCols,function(t){e.newSize=e.setManualSize(t,e.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(t){var e=this,n=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},i=function(t,i){e.hot.runHooks("beforeColumnResize",t,e.newSize),i&&n(),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",t,e.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth){var r=this.selectedCols.length;r>1?(b(this.selectedCols,function(t){i(t)}),n()):b(this.selectedCols,function(t){i(t,!0)})}this.setupHandlePosition(this.currentTH)}},bindEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},setManualSize:function(t,e){return e=Math.max(e,20),t=this.hot.runHooks("modifyCol",t),this.manualColumnWidths[t]=e,e},clearManualSize:function(t){t=this.hot.runHooks("modifyCol",t),this.manualColumnWidths[t]=void 0},onModifyColWidth:function(t,e){return this.enabled&&(e=this.hot.runHooks("modifyCol",e),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[e])?this.manualColumnWidths[e]:t},onBeforeStretchingColumnWidth:function(t,e){var n=this.manualColumnWidths[e];return void 0===n&&(n=t),n},onBeforeColumnResize:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}},{},d),T("manualColumnResize",x)},{"_base.js":60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/number":51,plugins:59}],81:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualRowMove:{get:function(){return R}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h=(i=t("_base.js"),i&&i.__esModule&&i||{"default":i})["default"],d=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],f=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,g=f.hasClass,m=f.removeClass,v=f.outerWidth,y=(s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}),w=y.arrayEach,_=y.arrayMap,b=(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,C=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,T=(u=t("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}),x=(T.pageX,T.pageY),S=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,E=new WeakMap,R=function(t){$traceurRuntime.superConstructor(M).call(this,t),E.set(this,{guideClassName:"manualRowMoverGuide",handleClassName:"manualRowMover",startOffset:null,pressed:null,startRow:null,endRow:null,currentRow:null,startX:null,startY:null}),this.guideElement=null,this.handleElement=null,this.currentTH=null,this.rowPositions=[],this.eventManager=C(this)},M=R;$traceurRuntime.createClass(R,{isEnabled:function(){return!!this.hot.getSettings().manualRowMove},enablePlugin:function(){var t=this,e=E.get(this),n=this.hot.getSettings().manualRowMove,i=this.loadManualRowPositions();this.handleElement=document.createElement("DIV"),this.handleElement.className=e.handleClassName,this.guideElement=document.createElement("DIV"),this.guideElement.className=e.guideClassName,this.addHook("modifyRow",function(e){return t.onModifyRow(e)}),this.addHook("afterRemoveRow",function(e,n){return t.onAfterRemoveRow(e,n)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("init",function(){return t.onInit()}),this.registerEvents(),"undefined"!=typeof i?this.rowPositions=i:Array.isArray(n)?this.rowPositions=n:n&&void 0!==this.rowPositions||(this.rowPositions=[]),$traceurRuntime.superGet(this,M.prototype,"enablePlugin").call(this)},updatePlugin:function(){this.disablePlugin(),this.enablePlugin(),$traceurRuntime.superGet(this,M.prototype,"updatePlugin").call(this)},disablePlugin:function(){var t=this.hot.getSettings().manualRowMove;Array.isArray(t)&&(this.unregisterEvents(),this.rowPositions=[]),$traceurRuntime.superGet(this,M.prototype,"disablePlugin").call(this)},registerEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},unregisterEvents:function(){this.eventManager.clear()},saveManualRowPositions:function(){d.hooks.run(this.hot,"persistentStateSave","manualRowPositions",this.rowPositions)},loadManualRowPositions:function(){var t={};return d.hooks.run(this.hot,"persistentStateLoad","manualRowPositions",t),t.value},completeSettingsArray:function(){var t=this,e=this.hot.countRows();this.rowPositions.length!==e&&b(0,e-1,function(e){-1===t.rowPositions.indexOf(e)&&t.rowPositions.push(e)})},setupHandlePosition:function(t){this.currentTH=t;var e=E.get(this),n=this.hot.view.wt.wtTable.getCoords(t).row,i=v(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();e.currentRow=n,e.startOffset=r.top,this.handleElement.style.top=e.startOffset+"px",this.handleElement.style.left=r.left+"px",this.handleElement.style.width=i+"px",this.hot.rootElement.appendChild(this.handleElement)}},refreshHandlePosition:function(t,e){var n=t.getBoundingClientRect(),i=6;e>0?this.handleElement.style.top=n.top+n.height-i+"px":this.handleElement.style.top=n.top+"px"},setupGuidePosition:function(){var t=this.currentTH.getBoundingClientRect(),e=E.get(this),n=parseInt(v(this.handleElement),10),i=parseInt(this.handleElement.style.left,10)+n,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);p(this.handleElement,"active"),p(this.guideElement,"active"),this.guideElement.style.height=t.height+"px",this.guideElement.style.width=r-n+"px",this.guideElement.style.top=e.startOffset+"px",this.guideElement.style.left=i+"px",this.hot.rootElement.appendChild(this.guideElement)},refreshGuidePosition:function(t){var e=E.get(this);this.guideElement.style.top=e.startOffset+t+"px"},hideHandleAndGuide:function(){m(this.handleElement,"active"),m(this.guideElement,"active")},checkRowHeader:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"TBODY"===e.tagName?!0:this.checkRowHeader(e)}return!1},createPositionData:function(t){var e=this.rowPositions;e.length<t&&b(e.length,t-1,function(t){e[t]=t})},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},changeRowPositions:function(t,e){var n=Math.max(t,e);n>this.rowPositions.length-1&&this.createPositionData(n+1),this.rowPositions.splice(e,0,this.rowPositions.splice(t,1)[0])},getVisibleRowIndex:function(t){return t>this.rowPositions.length-1&&this.createPositionData(t),this.rowPositions.indexOf(t)},getLogicalRowIndex:function(t){return this.rowPositions[t]},onMouseOver:function(t){var e=E.get(this);if(this.checkRowHeader(t.target)){var n=this.getTHFromTargetElement(t.target);n&&(e.pressed?(e.endRow=this.hot.view.wt.wtTable.getCoords(n).row,this.refreshHandlePosition(n,e.endRow-e.startRow)):this.setupHandlePosition(n))}},onMouseDown:function(t){var e=E.get(this);g(t.target,e.handleClassName)&&(e.startY=x(t),this.setupGuidePosition(),e.pressed=this.hot,e.startRow=e.currentRow,e.endRow=e.currentRow)},onMouseMove:function(t){var e=E.get(this);e.pressed&&this.refreshGuidePosition(x(t)-e.startY)},onMouseUp:function(t){var e=E.get(this);e.pressed&&(this.hideHandleAndGuide(),e.pressed=!1,this.createPositionData(this.hot.countRows()),this.changeRowPositions(e.startRow,e.endRow),d.hooks.run(this.hot,"beforeRowMove",e.startRow,e.endRow),this.hot.forceFullRender=!0,this.hot.view.render(),this.saveManualRowPositions(),d.hooks.run(this.hot,"afterRowMove",e.startRow,e.endRow),this.setupHandlePosition(this.currentTH))},onModifyRow:function(t){return"undefined"==typeof this.getVisibleRowIndex(t)&&this.createPositionData(t+1),this.getLogicalRowIndex(t)},onAfterRemoveRow:function(t,e){if(this.isEnabled()){var n,i=this.rowPositions;n=i.splice(t,e),i=_(i,function(t,e){var i=t;return w(n,function(e,n){t>e&&i--}),i}),this.rowPositions=i}},onAfterCreateRow:function(t,e){if(this.isEnabled()){var n=this.rowPositions;if(n.length){for(var i=[],r=0;e>r;r++)i.push(t+r);t>=n.length?n.concat(i):(n=_(n,function(n,i){return n>=t?n+e:n}),n.splice.apply(n,[t,0].concat(i))),this.rowPositions=n}}},onInit:function(){this.completeSettingsArray()}},{},h),S("ManualRowMove",R),d.hooks.register("beforeRowMove"),d.hooks.register("afterRowMove")},{"_base.js":60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/number":51,plugins:59}],82:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualRowResize:{get:function(){return x}},__esModule:{value:!0}});var i,r,o,s,a,l,u,c,h=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],d=(r=t("_base.js"),r&&r.__esModule&&r||{"default":r})["default"],f=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,g=f.hasClass,m=f.removeClass,v=f.outerWidth,y=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).eventManager,w=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),_=(w.pageX,w.pageY),b=(l=t("helpers/array"),l&&l.__esModule&&l||{"default":l}).arrayEach,C=(u=t("helpers/number"),u&&u.__esModule&&u||{"default":u}).rangeEach,T=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,x=function(t){$traceurRuntime.superConstructor(S).call(this,t),this.currentTH=null,this.currentRow=null,this.selectedRows=[],this.currentHeight=null,this.newSize=null,this.startY=null,this.startHeight=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=y(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualRowHeights=[],p(this.handle,"manualRowResizer"),p(this.guide,"manualRowResizerGuide")},S=x;$traceurRuntime.createClass(x,{isEnabled:function(){return this.hot.getSettings().manualRowResize},enablePlugin:function(){var t=this;if(!this.enabled){this.manualRowHeights=[];var e=this.hot.getSettings().manualRowResize,n=this.loadManualRowHeights();"undefined"!=typeof n?this.manualRowHeights=n:Array.isArray(e)?this.manualRowHeights=e:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(e,n){return t.onModifyRowHeight(e,n)}),h.hooks.register("beforeRowResize"),h.hooks.register("afterRowResize"),this.bindEvents(),$traceurRuntime.superGet(this,S.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var t=this.hot.getSettings().manualRowResize;Array.isArray(t)?this.manualRowHeights=t:t||(this.manualRowHeights=[])},disablePlugin:function(){$traceurRuntime.superGet(this,S.prototype,"disablePlugin").call(this)},saveManualRowHeights:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)},loadManualRowHeights:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",t),t.value},setupHandlePosition:function(t){var e=this;this.currentTH=t;var n=this.hot.view.wt.wtTable.getCoords(t).row,i=v(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentRow=n,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.rows){var o=this.hot.getSelectedRange(),s=o.from,a=o.to,l=s.row,u=a.row;l>=u&&(l=a.row,u=s.row),this.currentRow>=l&&this.currentRow<=u?C(l,u,function(t){return e.selectedRows.push(t)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=r.top-6,this.startHeight=parseInt(r.height,10),this.handle.style.left=r.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=i+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"},setupGuidePosition:function(){var t=parseInt(v(this.handle),10),e=parseInt(this.handle.style.left,10)+t,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);p(this.handle,"active"),p(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=e+"px",this.guide.style.width=n-t+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.top=this.handle.style.top},hideHandleAndGuide:function(){m(this.handle,"active"),m(this.guide,"active")},checkIfRowHeader:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"TBODY"===e.tagName?!0:this.checkIfRowHeader(e)}return!1},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},onMouseOver:function(t){if(this.checkIfRowHeader(t.target)){var e=this.getTHFromTargetElement(t.target);e&&(this.pressed||this.setupHandlePosition(e))}},afterMouseDownTimeout:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,i){var r=t.hot.runHooks("beforeRowResize",n,t.newSize,!0);void 0!==r&&(t.newSize=r),t.setManualSize(n,t.newSize),i&&e(),t.hot.runHooks("afterRowResize",n,t.newSize,!0)};if(this.dblclick>=2){var i=this.selectedRows.length;i>1?(b(this.selectedRows,function(t){n(t)}),e()):b(this.selectedRows,function(t){n(t,!0)})}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(t){var e=this;g(t.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=_(t),this.newSize=this.startHeight)},onMouseMove:function(t){var e=this;this.pressed&&(this.currentHeight=this.startHeight+(_(t)-this.startY),b(this.selectedRows,function(t){e.newSize=e.setManualSize(t,e.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(t){var e=this,n=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},i=function(t,i){e.hot.runHooks("beforeRowResize",t,e.newSize),i&&n(),e.saveManualRowHeights(),e.hot.runHooks("afterRowResize",t,e.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight){var r=this.selectedRows.length;r>1?(b(this.selectedRows,function(t){i(t)}),n()):b(this.selectedRows,function(t){i(t,!0)})}this.setupHandlePosition(this.currentTH)}},bindEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},setManualSize:function(t,e){return t=this.hot.runHooks("modifyRow",t),this.manualRowHeights[t]=e,e},onModifyRowHeight:function(t,e){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),i=n?n.heights[e]:null;e=this.hot.runHooks("modifyRow",e);var r=this.manualRowHeights[e];if(void 0!==r&&(r===i||r>(t||0)))return r}return t}},{},d),T("manualRowResize",x)},{"_base.js":60,browser:23,eventManager:41,"helpers/array":42,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/number":51,plugins:59}],83:[function(t,e,n){"use strict";function i(){var t=[];return t.getInfo=function(t,e){for(var n=0,i=this.length;i>n;n++)if(this[n].row<=t&&this[n].row+this[n].rowspan-1>=t&&this[n].col<=e&&this[n].col+this[n].colspan-1>=e)return this[n];
},t.setInfo=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var n=0,i=this.length;i>n;n++)if(this[n].row===t&&this[n].col===e){this.splice(n,1);break}},t}function r(t){if(this.mergedCellInfoCollection=new i,Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function o(t,e){var n=this.getSettings().mergeCells;if(n&&!this.selection.isMultiple()){var i=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);i&&(t[0]=i.row,t[1]=i.col,t[2]=i.row+i.rowspan-1,t[3]=i.col+i.colspan-1)}}function s(t,e){this.mergeCells&&this.mergeCells.shiftCollection("right",t,e)}function a(t,e){this.mergeCells&&this.mergeCells.shiftCollection("left",t,e)}function l(t,e){this.mergeCells&&this.mergeCells.shiftCollection("down",t,e)}function u(t,e){this.mergeCells&&this.mergeCells.shiftCollection("up",t,e)}Object.defineProperties(n,{MergeCells:{get:function(){return r}},__esModule:{value:!0}});var c,h,d,f,p,g,m=(c=t("browser"),c&&c.__esModule&&c||{"default":c})["default"],v=((h=t("plugins"),h&&h.__esModule&&h||{"default":h}).registerPlugin,(d=t("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}).stopImmediatePropagation),y=(f=t("3rdparty/walkontable/src/cell/coords"),f&&f.__esModule&&f||{"default":f}).WalkontableCellCoords,w=(p=t("3rdparty/walkontable/src/cell/range"),p&&p.__esModule&&p||{"default":p}).WalkontableCellRange,_=(g=t("3rdparty/walkontable/src/table"),g&&g.__esModule&&g||{"default":g}).WalkontableTable;r.prototype.canMergeRange=function(t){return!t.isSingle()},r.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),i={};i.row=e.row,i.col=e.col,i.rowspan=n.row-e.row+1,i.colspan=n.col-e.col+1,this.mergedCellInfoCollection.setInfo(i)}},r.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},r.prototype.mergeSelection=function(t){this.mergeRange(t)},r.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},r.prototype.applySpanProperties=function(t,e,n){var i=this.mergedCellInfoCollection.getInfo(e,n);i?i.row===e&&i.col===n?(t.setAttribute("rowspan",i.rowspan),t.setAttribute("colspan",i.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},r.prototype.modifyTransform=function(t,e,n){var i=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1},r=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1},o=function(t){return new y(e.to.row+t.row,e.to.col+t.col)},s={row:n.row,col:n.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new y(null,null));for(var a,l=new y(e.highlight.row,e.highlight.col),u=this.mergedCellInfoCollection.getInfo(l.row,l.col),c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var d=this.mergedCellInfoCollection[c];if(d=new y(d.row+d.rowspan-1,d.col+d.colspan-1),e.includes(d)){a=!0;break}}if(u){var f=new y(u.row,u.col),p=new y(u.row+u.rowspan-1,u.col+u.colspan-1),g=new w(f,f,p);g.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new y(null,null)),s.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:s.row,s.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:s.col,n.row>0?s.row=u.row+u.rowspan-1-l.row+n.row:n.row<0&&(s.row=l.row-u.row+n.row),n.col>0?s.col=u.col+u.colspan-1-l.col+n.col:n.col<0&&(s.col=l.col-u.col+n.col)}var m=new y(e.highlight.row+s.row,e.highlight.col+s.col),v=this.mergedCellInfoCollection.getInfo(m.row,m.col);v&&(this.lastDesiredCoords=m,s={row:v.row-l.row,col:v.col-l.col})}else if("modifyTransformEnd"==t)for(var c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var _=this.mergedCellInfoCollection[c],f=new y(_.row,_.col),p=new y(_.row+_.rowspan-1,_.col+_.colspan-1),b=new w(f,f,p),C=e.getBordersSharedWith(b);if(b.isEqual(e))e.setDirection("NW-SE");else if(C.length>0){var T=e.highlight.isEqual(b.from);C.indexOf("top")>-1?e.to.isSouthEastOf(b.from)&&T?e.setDirection("NW-SE"):e.to.isSouthWestOf(b.from)&&T&&e.setDirection("NE-SW"):C.indexOf("bottom")>-1&&(e.to.isNorthEastOf(b.from)&&T?e.setDirection("SW-NE"):e.to.isNorthWestOf(b.from)&&T&&e.setDirection("SE-NW"))}var m=o(s),x=i(_,m),S=r(_,m);e.includesRange(b)&&(b.includes(m)||x||S)&&(x&&(s.row<0?s.row-=_.rowspan-1:s.row>0&&(s.row+=_.rowspan-1)),S&&(s.col<0?s.col-=_.colspan-1:s.col>0&&(s.col+=_.colspan-1)))}0!==s.row&&(n.row=s.row),0!==s.col&&(n.col=s.col)},r.prototype.shiftCollection=function(t,e,n){var i=[0,0];switch(t){case"right":i[0]+=1;break;case"left":i[0]-=1;break;case"down":i[1]+=1;break;case"up":i[1]-=1}for(var r=0;r<this.mergedCellInfoCollection.length;r++){var o=this.mergedCellInfoCollection[r];"right"===t||"left"===t?e<=o.col&&(o.col+=i[0]):e<=o.row&&(o.row+=i[1])}};var b=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new r(e)))},C=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var n=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);n&&(e=n)}return _.prototype.getCell.call(this,e)})},T=function(){var t=this,e=t.getSettings().mergeCells;if(e)if(t.mergeCells){if(t.mergeCells.mergedCellInfoCollection=new i,Array.isArray(e))for(var n=0,o=e.length;o>n;n++)t.mergeCells.mergedCellInfoCollection.setInfo(e[n])}else t.mergeCells=new r(e);else t.mergeCells&&(t.mergeCells.mergedCellInfoCollection=new i)},x=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),v(t))}},S=function(t){this.getSettings().mergeCells&&(t.items.push(m.plugins.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},E=function(t,e,n,i,r,o){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,n)},R=function(t){return function(e){var n=this.getSettings().mergeCells;if(n){var i=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,i,e),"modifyTransformEnd"===t){var r=this.countRows(),o=this.countCols();i.from.row<0?i.from.row=0:i.from.row>0&&i.from.row>=r&&(i.from.row=i.from-1),i.from.col<0?i.from.col=0:i.from.col>0&&i.from.col>=o&&(i.from.col=o-1)}}}},M=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var n=this.getSelectedRange();n.highlight=new y(n.highlight.row,n.highlight.col),n.to=t;var i=!1;do{i=!1;for(var r=0,o=this.mergeCells.mergedCellInfoCollection.length;o>r;r++){var s=this.mergeCells.mergedCellInfoCollection[r],a=new y(s.row,s.col),l=new y(s.row+s.rowspan-1,s.col+s.colspan-1),u=new w(a,a,l);n.expandByRange(u)&&(t.row=n.to.row,t.col=n.to.col,i=!0)}}while(i)}},k=function(t,e){if(e&&"area"==e){var n=this.getSettings().mergeCells;if(n)for(var i=this.getSelectedRange(),r=new w(i.from,i.from,i.from),o=new w(i.to,i.to,i.to),s=0,a=this.mergeCells.mergedCellInfoCollection.length;a>s;s++){var l=this.mergeCells.mergedCellInfoCollection[s],u=new y(l.row,l.col),c=new y(l.row+l.rowspan-1,l.col+l.colspan-1),h=new w(u,u,c);r.expandByRange(h)&&(t[0]=r.from.row,t[1]=r.from.col),o.expandByRange(h)&&(t[2]=o.from.row,t[3]=o.from.col)}}},O=function(t,e,n){var i=this.getSettings().mergeCells;if(i){var r=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!r||r.row==t&&r.col==e||(n.copyable=!1)}},A=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,i=this.countCols(),r=0;i>r;r++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,r),n&&n.row<t.startRow)return t.startRow=n.row,A.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,r)){var o=n.row+n.rowspan-1;if(o>t.endRow)return t.endRow=o,A.call(this,t)}}},N=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,i=this.countRows(),r=0;i>r;r++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(r,t.startColumn),n&&n.col<t.startColumn)return t.startColumn=n.col,N.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(r,t.endColumn)){var o=n.col+n.colspan-1;if(o>t.endColumn)return t.endColumn=o,N.call(this,t)}}},P=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var i in e)if(n.highlight.row==e[i].row&&n.highlight.col==e[i].col&&n.to.row==e[i].row+e[i].rowspan-1&&n.to.col==e[i].col+e[i].colspan-1)return!1}return t};m.hooks.add("beforeInit",b),m.hooks.add("afterInit",C),m.hooks.add("afterUpdateSettings",T),m.hooks.add("beforeKeyDown",x),m.hooks.add("modifyTransformStart",R("modifyTransformStart")),m.hooks.add("modifyTransformEnd",R("modifyTransformEnd")),m.hooks.add("beforeSetRangeEnd",M),m.hooks.add("beforeDrawBorders",k),m.hooks.add("afterIsMultipleSelection",P),m.hooks.add("afterRenderer",E),m.hooks.add("afterContextMenuDefaultOptions",S),m.hooks.add("afterGetCellMeta",O),m.hooks.add("afterViewportRowCalculatorOverride",A),m.hooks.add("afterViewportColumnCalculatorOverride",N),m.hooks.add("afterAutofillApplyValues",o),m.hooks.add("afterCreateCol",s),m.hooks.add("afterRemoveCol",a),m.hooks.add("afterCreateRow",l),m.hooks.add("afterRemoveRow",u),m.MergeCells=r},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/table":20,browser:23,"helpers/dom/event":47,plugins:59}],84:[function(t,e,n){"use strict";Object.defineProperties(n,{MultipleSelectionHandles:{get:function(){return v}},__esModule:{value:!0}});var i,r,o,s,a,l,u=((i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),c=u.getWindowScrollTop,h=u.hasClass,d=u.getWindowScrollLeft,f=(o=t("helpers/browser"),o&&o.__esModule&&o||{"default":o}).isMobileBrowser,p=(s=t("_base"),s&&s.__esModule&&s||{"default":s})["default"],g=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).EventManager,m=(l=t("plugins"),l&&l.__esModule&&l||{"default":l}).registerPlugin,v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.dragged=[],this.eventManager=null,this.lastSetCell=null},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return f()},enablePlugin:function(){this.enabled||(this.eventManager||(this.eventManager=new g(this)),this.registerListeners(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this))},registerListeners:function(){function t(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var n=e.dragged.indexOf(t);return-1==n?!1:void(0===n?e.dragged=e.dragged.slice(0,1):1==n&&(e.dragged=e.dragged.slice(-1)))}var e=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var n;return h(t.target,"topLeftSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("topLeft"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):h(t.target,"bottomRightSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("bottomRight"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return h(n.target,"topLeftSelectionHandle-HitArea")?(t.call(e,"topLeft"),e.touchStartRange=void 0,n.preventDefault(),!1):h(n.target,"bottomRightSelectionHandle-HitArea")?(t.call(e,"bottomRight"),e.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var n,i,r,o,s,a,l,u=c(),h=d();0!==e.dragged.length&&(n=document.elementFromPoint(t.touches[0].screenX-h,t.touches[0].screenY-u),n&&n!==e.lastSetCell&&("TD"!=n.nodeName&&"TH"!=n.nodeName||(i=e.hot.getCoords(n),-1==i.col&&(i.col=0),r=e.hot.getSelectedRange(),o=r.getWidth(),s=r.getHeight(),a=r.getDirection(),1==o&&1==s&&e.hot.selection.setRangeEnd(i),l=e.getCurrentRangeCoords(r,i,e.touchStartRange.direction,a,e.dragged[0]),null!==l.start&&e.hot.selection.setRangeStart(l.start),e.hot.selection.setRangeEnd(l.end),e.lastSetCell=n),t.preventDefault()))})},getCurrentRangeCoords:function(t,e,n,i,r){var o=t.getTopLeftCorner(),s=t.getBottomRightCorner(),a=t.getBottomLeftCorner(),l=t.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":u="topLeft"==r?{start:new WalkontableCellCoords(e.row,t.highlight.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,o.col)};break;case"SE-NW":"bottomRight"==r&&(u={start:new WalkontableCellCoords(s.row,e.col),end:new WalkontableCellCoords(e.row,o.col)})}break;case"NW-SE":switch(i){case"NE-SW":"topLeft"==r?u={start:e,end:a}:u.end=e;break;case"NW-SE":"topLeft"==r?u={start:e,end:s}:u.end=e;break;case"SE-NW":"topLeft"==r?u={start:e,end:o}:u.end=e;break;case"SW-NE":"topLeft"==r?u={start:e,end:l}:u.end=e}break;case"SW-NE":switch(i){case"NW-SE":u="bottomRight"==r?{start:new WalkontableCellCoords(e.row,o.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(o.row,e.col),end:new WalkontableCellCoords(e.row,s.col)};break;case"SW-NE":u="topLeft"==r?{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,s.col)}:{start:new WalkontableCellCoords(e.row,o.col),end:new WalkontableCellCoords(o.row,e.col)};break;case"SE-NW":"bottomRight"==r?u={start:new WalkontableCellCoords(e.row,l.col),end:new WalkontableCellCoords(o.row,e.col)}:"topLeft"==r&&(u={start:a,end:e})}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==r&&(u.end=e);break;case"SE-NW":"topLeft"==r?u.end=e:u={start:e,end:o}}}return u},isDragged:function(){return this.dragged.length>0}},{},p),m("multipleSelectionHandles",v)},{_base:60,browser:23,eventManager:41,"helpers/browser":43,"helpers/dom/element":46,plugins:59}],85:[function(t,e,n){"use strict";Object.defineProperties(n,{DataObserver:{get:function(){return h}},__esModule:{value:!0}});var i,r,o,s,a=(i=t("jsonpatch"),i&&i.__esModule&&i||{"default":i})["default"],l=(r=t("../../mixins/localHooks"),r&&r.__esModule&&r||{"default":r}).localHooks,u=(o=t("../../helpers/object"),o&&o.__esModule&&o||{"default":o}).mixin,c=(s=t("utils"),s&&s.__esModule&&s||{"default":s}).cleanPatches,h=function(t){this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(t)};$traceurRuntime.createClass(h,{setObservedData:function(t){var e=this;this.observer&&a.unobserve(this.observedData,this.observer),this.observedData=t,this.observer=a.observe(this.observedData,function(t){return e.onChange(t)})},isPaused:function(){return this.paused},pause:function(){this.paused=!0},resume:function(){this.paused=!1},onChange:function(t){this.runLocalHooks("change",c(t))},destroy:function(){a.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}},{}),u(h,l)},{"../../helpers/object":52,"../../mixins/localHooks":56,jsonpatch:"jsonpatch",utils:87}],86:[function(t,e,n){"use strict";Object.defineProperties(n,{ObserveChanges:{get:function(){return p}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],c=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],h=((o=t("jsonpatch"),o&&o.__esModule&&o||{"default":o})["default"],(s=t("dataObserver"),s&&s.__esModule&&s||{"default":s}).DataObserver),d=(a=t("helpers/array"),a&&a.__esModule&&a||{"default":a}).arrayEach,f=(l=t("plugins"),l&&l.__esModule&&l||{"default":l}).registerPlugin;u.hooks.register("afterChangesObserved");var p=function(t){$traceurRuntime.superConstructor(g).call(this,t),this.observer=null},g=p;$traceurRuntime.createClass(p,{isEnabled:function(){return this.hot.getSettings().observeChanges},enablePlugin:function(){var t=this;this.enabled||(this.observer||(this.observer=new h(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(e){return t.onDataChange(e)}),this.addHook("afterCreateRow",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return t.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return t.onAfterTableAlter()}),this.addHook("afterChange",function(e,n){return t.onAfterTableAlter(n)}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),$traceurRuntime.superGet(this,g.prototype,"enablePlugin").call(this))},disablePlugin:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),$traceurRuntime.superGet(this,g.prototype,"disablePlugin").call(this)},onDataChange:function(t){var e=this;if(!this.observer.isPaused()){var n={add:function(t){isNaN(t.col)?e.hot.runHooks("afterCreateRow",t.row):e.hot.runHooks("afterCreateCol",t.col)},remove:function(t){isNaN(t.col)?e.hot.runHooks("afterRemoveRow",t.row,1):e.hot.runHooks("afterRemoveCol",t.col,1)},replace:function(t){e.hot.runHooks("afterChange",[t.row,t.col,null,t.value],"external")}};d(t,function(t){n[t.op]&&n[t.op](t)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")},onAfterTableAlter:function(t){var e=this;"loadData"!==t&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return e.observer.resume()}))},onAfterLoadData:function(t){t||this.observer.setObservedData(this.hot.getSourceData())},destroy:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),$traceurRuntime.superGet(this,g.prototype,"destroy").call(this)},_exposePublicApi:function(){var t=this,e=this.hot;e.pauseObservingChanges=function(){return t.observer.pause()},e.resumeObservingChanges=function(){return t.observer.resume()},e.isPausedObservingChanges=function(){return t.observer.isPaused()}},_deletePublicApi:function(){var t=this.hot;delete t.pauseObservingChanges,delete t.resumeObservingChanges,delete t.isPausedObservingChanges}},{},c),f("observeChanges",p)},{_base:60,browser:23,dataObserver:85,"helpers/array":42,jsonpatch:"jsonpatch",plugins:59}],87:[function(t,e,n){"use strict";function i(t){var e=[];return t=a(t,function(t){return/[\/]length/gi.test(t.path)?!1:!!r(t.path)}),t=l(t,function(t){var e=r(t.path);return t.row=e.row,t.col=e.col,t}),t=a(t,function(t){if(-1!==["add","remove"].indexOf(t.op)&&!isNaN(t.col)){if(-1!==e.indexOf(t.col))return!1;e.push(t.col)}return!0}),e.length=0,t}function r(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);if(!e)return null;var n=e,i=n[1],r=n[2];return{row:parseInt(i,10),col:/^\d*$/.test(r)?parseInt(r,10):r}}Object.defineProperties(n,{cleanPatches:{get:function(){return i}},parsePath:{get:function(){return r}},__esModule:{value:!0}});var o,s=(o=t("../../helpers/array"),o&&o.__esModule&&o||{"default":o}),a=s.arrayFilter,l=s.arrayMap},{"../../helpers/array":42}],88:[function(t,e,n){"use strict";function i(t){var e,n=function(){window.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)},i=function(){var n=window.localStorage[t+"__persistentStateKeys"],i="string"==typeof n?JSON.parse(n):void 0;e=i?i:[]},r=function(){e=[],n()};i(),this.saveValue=function(i,r){window.localStorage[t+"_"+i]=JSON.stringify(r),-1==e.indexOf(i)&&(e.push(i),n())},this.loadValue=function(e,n){e="undefined"==typeof e?n:e;var i=window.localStorage[t+"_"+e];return"undefined"==typeof i?void 0:JSON.parse(i)},this.reset=function(e){window.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var n=0;n<e.length;n++)window.localStorage.removeItem(t+"_"+e[n]);r()}}function r(){function t(){var t=this;for(var e in r)r.hasOwnProperty(e)&&t.addHook(e,r[e])}function e(){var t=this;for(var e in r)r.hasOwnProperty(e)&&t.removeHook(e,r[e])}var n=this;this.init=function(){var r=this,o=r.getSettings().persistentState;return n.enabled=!!o,n.enabled?(r.storage||(r.storage=new i(r.rootElement.id)),r.resetState=n.resetValue,void t.call(r)):void e.call(r)},this.saveValue=function(t,e){var n=this;n.storage.saveValue(t,e)},this.loadValue=function(t,e){var n=this;e.value=n.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"==typeof t?e.storage.resetAll():e.storage.reset(t)};var r={persistentStateSave:n.saveValue,persistentStateLoad:n.loadValue,persistentStateReset:n.resetValue};for(var o in r)r.hasOwnProperty(o)&&a.hooks.register(o)}Object.defineProperties(n,{HandsontablePersistentState:{get:function(){return r}},__esModule:{value:!0}});var o,s,a=(o=t("browser"),o&&o.__esModule&&o||{"default":o})["default"],l=((s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new r);a.hooks.add("beforeInit",l.init),a.hooks.add("afterUpdateSettings",l.init)},{browser:23,plugins:59}],89:[function(t,e,n){"use strict";function i(){var t=this,e=!!t.getSettings().search;e?t.search=new a.Search(t):delete t.search}var r,o,s,a=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],l=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),u=l.addClass,c=l.removeClass,h=(s=t("renderers"),s&&s.__esModule&&s||{"default":s}),d=h.registerRenderer,f=h.getRenderer;a.Search=function(t){this.query=function(e,n,i){var r=t.countRows(),o=t.countCols(),s=[];n||(n=a.Search.global.getDefaultCallback()),i||(i=a.Search.global.getDefaultQueryMethod());for(var l=0;r>l;l++)for(var u=0;o>u;u++){var c=t.getDataAtCell(l,u),h=t.getCellMeta(l,u),d=h.search.callback||n,f=h.search.queryMethod||i,p=f(e,c);if(p){var g={row:l,col:u,data:c};s.push(g)}d&&d(t,l,u,c,p)}return s}},a.Search.DEFAULT_CALLBACK=function(t,e,n,i,r){t.getCellMeta(e,n).isSearchResult=r},a.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},a.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",a.Search.global=function(){var t=a.Search.DEFAULT_CALLBACK,e=a.Search.DEFAULT_QUERY_METHOD,n=a.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return t},setDefaultCallback:function(e){t=e},getDefaultQueryMethod:function(){return e},setDefaultQueryMethod:function(t){e=t},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(t){n=t}}}(),a.SearchCellDecorator=function(t,e,n,i,r,o,s){var l=null!==s.search&&"object"==typeof s.search&&s.search.searchResultClass||a.Search.global.getDefaultSearchResultClass();s.isSearchResult?u(e,l):c(e,l)};var p=f("base");d("base",function(t,e,n,i,r,o,s){p.apply(this,arguments),a.SearchCellDecorator.apply(this,arguments)}),a.hooks.add("afterInit",i),a.hooks.add("afterUpdateSettings",i)},{browser:23,"helpers/dom/element":46,renderers:92}],90:[function(t,e,n){"use strict";Object.defineProperties(n,{TouchScroll:{get:function(){return f}},__esModule:{value:!0}});var i,r,o,s,a=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],l=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.removeClass,h=(o=t("_base"),o&&o.__esModule&&o||{"default":o})["default"],d=(s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,f=function(t){var e=this;$traceurRuntime.superConstructor(p).call(this,t),this.hot.addHook("afterInit",function(){return e.afterInit()}),this.hot.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.scrollbars=[],this.clones=[]},p=f;$traceurRuntime.createClass(f,{afterInit:function(){this.registerEvents(),this.onAfterUpdateSettings()},onAfterUpdateSettings:function(){var t=this;this.hot.addHookOnce("afterRender",function(){var e=t.hot.view.wt.wtOverlays;t.scrollbars=[],t.scrollbars.push(e.topOverlay),e.bottomOverlay.clone&&t.scrollbars.push(e.bottomOverlay),t.scrollbars.push(e.leftOverlay),e.topLeftCornerOverlay&&t.scrollbars.push(e.topLeftCornerOverlay),e.bottomLeftCornerOverlay&&e.bottomLeftCornerOverlay.clone&&t.scrollbars.push(e.bottomLeftCornerOverlay),t.clones=[],e.topOverlay.needFullRender&&t.clones.push(e.topOverlay.clone.wtTable.holder.parentNode),e.bottomOverlay.needFullRender&&t.clones.push(e.bottomOverlay.clone.wtTable.holder.parentNode),e.leftOverlay.needFullRender&&t.clones.push(e.leftOverlay.clone.wtTable.holder.parentNode),e.topLeftCornerOverlay&&t.clones.push(e.topLeftCornerOverlay.clone.wtTable.holder.parentNode),e.bottomLeftCornerOverlay&&e.bottomLeftCornerOverlay.clone&&t.clones.push(e.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode)})},registerEvents:function(){var t=this;this.hot.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.hot.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})},onBeforeTouchScroll:function(){a.freezeOverlays=!0;for(var t=0,e=this.clones.length;e>t;t++)u(this.clones[t],"hide-tween")},onAfterMomentumScroll:function(){a.freezeOverlays=!1;for(var t=this,e=0,n=this.clones.length;n>e;e++)c(this.clones[e],"hide-tween");for(var i=0,r=this.clones.length;r>i;i++)u(this.clones[i],"show-tween");setTimeout(function(){for(var e=0,n=t.clones.length;n>e;e++)c(t.clones[e],"show-tween")},400);for(var o=0,s=this.scrollbars.length;s>o;o++)this.scrollbars[o].refresh(),this.scrollbars[o].resetFixedPosition();this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},h),d("touchScroll",f)},{_base:60,browser:23,"helpers/dom/element":46,plugins:59}],91:[function(t,e,n){"use strict";function i(){var t=this,e="undefined"==typeof t.getSettings().undo||t.getSettings().undo;e?t.undoRedo||(t.undoRedo=new f.UndoRedo(t),s(t),t.addHook("beforeKeyDown",r),t.addHook("afterChange",o)):t.undoRedo&&(delete t.undoRedo,a(t),t.removeHook("beforeKeyDown",r),t.removeHook("afterChange",o))}function r(t){var e=this,n=(t.ctrlKey||t.metaKey)&&!t.altKey;n&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),w(t)):90===t.keyCode&&(e.undoRedo.undo(),w(t)))}function o(t,e){var n=this;return"loadData"==e?n.undoRedo.clear():void 0}function s(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function a(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}var l,u,c,h,d,f=(l=t("browser"),l&&l.__esModule&&l||{"default":l})["default"],p=(u=t("helpers/array"),u&&u.__esModule&&u||{"default":u}).arrayMap,g=(c=t("helpers/number"),c&&c.__esModule&&c||{"default":c}).rangeEach,m=(h=t("helpers/object"),h&&h.__esModule&&h||{"default":h}),v=m.inherit,y=m.deepClone,w=(d=t("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}).stopImmediatePropagation;f.UndoRedo=function(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){if(t){var i=new f.UndoRedo.ChangeAction(t);e.done(i)}}),t.addHook("afterCreateRow",function(t,n,i){if(!i){var r=new f.UndoRedo.CreateRowAction(t,n);e.done(r)}}),t.addHook("beforeRemoveRow",function(t,n){var i=e.instance.getSourceData();t=(i.length+t)%i.length;var r=i.slice(t,t+n),o=new f.UndoRedo.RemoveRowAction(t,r);e.done(o)}),t.addHook("afterCreateCol",function(t,n,i){if(!i){var r=new f.UndoRedo.CreateColumnAction(t,n);e.done(r)}}),t.addHook("beforeRemoveCol",function(n,i){var r=e.instance.getData();n=(e.instance.countCols()+n)%e.instance.countCols();var o=[],s=[],a=[];g(0,r.length-1,function(t){o[t]=r[t].slice(n,n+i)}),g(0,i-1,function(e){a.push(t.runHooks("modifyCol",n+e))}),Array.isArray(t.getSettings().colHeaders)&&g(0,i-1,function(e){s.push(t.getSettings().colHeaders[t.runHooks("modifyCol",n+e)]||null)});var l=e.instance.getPlugin("manualColumnMove"),u=new f.UndoRedo.RemoveColumnAction(a,o,s,l?l.columnPositions:[]);e.done(u)}),t.addHook("beforeCellAlignment",function(t,n,i,r){var o=new f.UndoRedo.CellAlignmentAction(t,n,i,r);e.done(o)}),t.addHook("beforeFilter",function(t){e.done(new f.UndoRedo.FiltersAction(t))})},f.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},f.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},f.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},f.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},f.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},f.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},f.UndoRedo.Action=function(){},f.UndoRedo.Action.prototype.undo=function(){},f.UndoRedo.Action.prototype.redo=function(){},f.UndoRedo.ChangeAction=function(t){this.changes=t},v(f.UndoRedo.ChangeAction,f.UndoRedo.Action),f.UndoRedo.ChangeAction.prototype.undo=function(t,e){for(var n=y(this.changes),i=t.countEmptyRows(!0),r=t.countEmptyCols(!0),o=0,s=n.length;s>o;o++)n[o].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"undo");for(var o=0,s=n.length;s>o;o++)t.getSettings().minSpareRows&&n[o][0]+1+t.getSettings().minSpareRows===t.countRows()&&i==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(n[o][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&n[o][1]+1+t.getSettings().minSpareCols===t.countCols()&&r==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(n[o][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},f.UndoRedo.ChangeAction.prototype.redo=function(t,e){for(var n=y(this.changes),i=0,r=n.length;r>i;i++)n[i].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"redo")},f.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},v(f.UndoRedo.CreateRowAction,f.UndoRedo.Action),f.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),i=t.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},f.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},f.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},v(f.UndoRedo.RemoveRowAction,f.UndoRedo.Action),f.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var n=[this.index,0];Array.prototype.push.apply(n,this.data),Array.prototype.splice.apply(t.getSourceData(),n),t.addHookOnce("afterRender",e),t.render()},f.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},f.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},v(f.UndoRedo.CreateColumnAction,f.UndoRedo.Action),f.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},f.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},f.UndoRedo.CellAlignmentAction=function(t,e,n,i){this.stateBefore=t,this.range=e,this.type=n,this.alignment=i},f.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.getPlugin("contextMenu").isEnabled()){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var i=this.range.from.col;i<=this.range.to.col;i++)t.setCellMeta(n,i,"className",this.stateBefore[n][i]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},f.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){
t.getPlugin("contextMenu").isEnabled()&&(t.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),t.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),t.addHookOnce("afterRender",e),t.render())},f.UndoRedo.RemoveColumnAction=function(t,e,n,i){this.indexes=t,this.data=e,this.amount=this.data[0].length,this.headers=n,this.columnPositions=i.slice(0)},v(f.UndoRedo.RemoveColumnAction,f.UndoRedo.Action),f.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){var n,i=this,r=this.indexes.slice(0).sort(),o=function(t,e,n){return n[i.indexes.indexOf(r[e])]},s=[];g(0,this.data.length-1,function(t){s[t]=p(i.data[t],o)});var a=[];a=p(this.headers,o),g(0,this.data.length-1,function(e){n=t.getSourceDataAtRow(e),g(0,r.length-1,function(t){n.splice(r[t],0,s[e][t])})}),"undefined"!=typeof this.headers&&g(0,a.length-1,function(e){t.getSettings().colHeaders.splice(r[e],0,a[e])}),t.getPlugin("manualColumnMove")&&(t.getPlugin("manualColumnMove").columnPositions=this.columnPositions),t.addHookOnce("afterRender",e),t.render()},f.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",t.runHooks("unmodifyCol",this.indexes[0]),this.amount)},f.UndoRedo.FiltersAction=function(t){this.formulaStacks=t},v(f.UndoRedo.FiltersAction,f.UndoRedo.Action),f.UndoRedo.FiltersAction.prototype.undo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.formulaCollection.importAllFormulas(this.formulaStacks.slice(0,this.formulaStacks.length-1)),n.filter()},f.UndoRedo.FiltersAction.prototype.redo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.formulaCollection.importAllFormulas(this.formulaStacks),n.filter()},f.hooks.add("afterInit",i),f.hooks.add("afterUpdateSettings",i)},{browser:23,"helpers/array":42,"helpers/dom/event":47,"helpers/number":51,"helpers/object":52}],92:[function(t,e,n){"use strict";function i(t,e){var n;c[t]=e,n=u(t)+"Renderer",l.renderers[n]=e,l[n]=e,"base"===t&&(l.renderers.cellDecorator=e)}function r(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(t in c))throw Error('No editor registered under name "'+t+'"');return c[t]}function o(t){return t in c}Object.defineProperties(n,{registerRenderer:{get:function(){return i}},getRenderer:{get:function(){return r}},hasRenderer:{get:function(){return o}},__esModule:{value:!0}});var s,a,l=(s=t("browser"),s&&s.__esModule&&s||{"default":s})["default"],u=(a=t("helpers/string"),a&&a.__esModule&&a||{"default":a}).toUpperCaseFirst,c={};l.renderers=l.renderers||{},l.renderers.registerRenderer=i,l.renderers.getRenderer=r},{browser:23,"helpers/string":54}],93:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){s.className&&(e.className?e.className=e.className+" "+s.className:e.className=s.className),s.readOnly&&a(e,s.readOnlyCellClassName),s.valid===!1&&s.invalidCellClassName?a(e,s.invalidCellClassName):l(e,s.invalidCellClassName),s.wordWrap===!1&&s.noWordWrapClassName&&a(e,s.noWordWrapClassName),!o&&s.placeholder&&a(e,s.placeholderCellClassName)}Object.defineProperties(n,{cellDecorator:{get:function(){return i}},__esModule:{value:!0}});var r,o,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=s.addClass,l=s.removeClass,u=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}).registerRenderer;u("base",i)},{"helpers/dom/element":46,renderers:92}],94:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){var a=(m.cloneNode(!0),v.cloneNode(!0));if(f("text")(t,e,n,i,r,o,s),e.appendChild(a),u(e,"htAutocomplete"),e.firstChild||e.appendChild(document.createTextNode(String.fromCharCode(160))),!t.acArrowListener){var l=h(t);t.acArrowListener=function(r){c(r.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new g(n,i),e)},l.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){l.destroy()})}}Object.defineProperties(n,{autocompleteRenderer:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a,l=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.hasClass,h=(l.empty,(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager),d=(s=t("renderers"),s&&s.__esModule&&s||{"default":s}),f=d.getRenderer,p=d.registerRenderer,g=(a=t("3rdparty/walkontable/src/cell/coords"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,m=document.createElement("DIV");m.className="htAutocompleteWrapper";var v=document.createElement("DIV");v.className="htAutocompleteArrow",v.appendChild(document.createTextNode(String.fromCharCode(9660)));p("autocomplete",i)},{"3rdparty/walkontable/src/cell/coords":5,eventManager:41,"helpers/dom/element":46,renderers:92}],95:[function(t,e,n){"use strict";function i(t,e,n,i,u,c,h){function d(t){var e=[S.SPACE,S.ENTER,S.DELETE,S.BACKSPACE];-1===e.indexOf(t.keyCode)||M(t)||g(function(){R(t),t.preventDefault()}),t.keyCode!==S.SPACE&&t.keyCode!==S.ENTER||f(),t.keyCode!==S.DELETE&&t.keyCode!==S.BACKSPACE||f(!1)}function f(){var t=void 0!==arguments[0]?arguments[0]:null;g(function(e){for(var n=0,i=e.length;i>n;n++){if(w(e[n],A)&&null===t)return;p(e[n],t)}})}function p(t){var e=void 0!==arguments[1]?arguments[1]:null;null===e?t.checked=!t.checked:t.checked=e,m.fireEvent(t,"change")}function g(e){var n=t.getSelectedRange();if(n)for(var i=n.getTopLeftCorner(),r=n.getBottomRightCorner(),o=i.row;o<=r.row;o++)for(var s=i.col;s<=r.col;s++){var a=t.getCell(o,s),l=t.getCellMeta(o,s),u=a.querySelectorAll("input[type=checkbox]");u.length>0&&!l.readOnly&&e(u)}}T("base").apply(this,arguments);var m=new b(t),C=r(),x=h.label,E=!1;if("undefined"==typeof h.checkedTemplate&&(h.checkedTemplate=!0),"undefined"==typeof h.uncheckedTemplate&&(h.uncheckedTemplate=!1),v(e),c===h.checkedTemplate||_(c,h.checkedTemplate)?C.checked=!0:c===h.uncheckedTemplate||_(c,h.uncheckedTemplate)?C.checked=!1:null===c?y(C,"noValue"):(C.style.display="none",y(C,A),E=!0),C.setAttribute("data-row",n),C.setAttribute("data-col",i),!E&&x){var N="";x.value?N="function"==typeof x.value?x.value.call(this,n,i,u,c):x.value:x.property&&(N=t.getDataAtRowProp(n,x.property));var P=o(N);"before"===x.position?P.appendChild(C):P.insertBefore(C,P.firstChild),C=P}e.appendChild(C),E&&e.appendChild(document.createTextNode("#bad-value#")),O.has(t)||(h.readOnly?m.addEventListener(t.rootElement,"click",s):(m.addEventListener(t.rootElement,"mouseup",function(e){return a(e,t)}),m.addEventListener(t.rootElement,"change",function(e){return l(e,t)})),O.set(t,!0)),k.has(t)||(k.set(t,!0),t.addHook("beforeKeyDown",d))}function r(){var t=document.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.setAttribute("tabindex","-1"),t.cloneNode(!1)}function o(t){var e=document.createElement("label");return e.className="htCheckboxRendererLabel",e.appendChild(document.createTextNode(t)),e.cloneNode(!0)}function s(t){u(t.target)&&t.preventDefault()}function a(t,e){u(t.target)&&setTimeout(e.listen,10)}function l(t,e){if(!u(t.target))return!1;var n=parseInt(t.target.getAttribute("data-row"),10),i=parseInt(t.target.getAttribute("data-col"),10),r=e.getCellMeta(n,i);e.setDataAtCell(n,i,t.target.checked?r.checkedTemplate||!0:r.uncheckedTemplate||!1)}function u(t){return"INPUT"===t.tagName&&"checkbox"===t.getAttribute("type")}Object.defineProperties(n,{checkboxRenderer:{get:function(){return i}},__esModule:{value:!0}});var c,h,d,f,p,g,m=(c=t("helpers/dom/element"),c&&c.__esModule&&c||{"default":c}),v=m.empty,y=m.addClass,w=m.hasClass,_=(h=t("helpers/string"),h&&h.__esModule&&h||{"default":h}).equalsIgnoreCase,b=(d=t("eventManager"),d&&d.__esModule&&d||{"default":d}).EventManager,C=(f=t("renderers"),f&&f.__esModule&&f||{"default":f}),T=C.getRenderer,x=C.registerRenderer,S=(p=t("helpers/unicode"),p&&p.__esModule&&p||{"default":p}).KEY_CODES,E=(g=t("helpers/dom/event"),g&&g.__esModule&&g||{"default":g}),R=(E.stopPropagation,E.stopImmediatePropagation),M=E.isImmediatePropagationStopped,k=new WeakMap,O=new WeakMap,A="htBadValue";x("checkbox",i)},{eventManager:41,"helpers/dom/element":46,"helpers/dom/event":47,"helpers/string":54,"helpers/unicode":55,renderers:92}],96:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){l("base").apply(this,arguments),null!==o&&void 0!==o||(o=""),s(e,o)}Object.defineProperties(n,{htmlRenderer:{get:function(){return i}},__esModule:{value:!0}});var r,o,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).fastInnerHTML,a=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),l=a.getRenderer,u=a.registerRenderer;u("html",i)},{"helpers/dom/element":46,renderers:92}],97:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){if(h(o)){"undefined"!=typeof s.language&&a.language(s.language),o=a(o).format(s.format||"0");var l=s.className||"",c=l.length?l.split(" "):[];c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),s.className=c.join(" ")}u("text")(t,e,n,i,r,o,s)}Object.defineProperties(n,{numericRenderer:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],l=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),u=l.getRenderer,c=l.registerRenderer,h=(s=t("helpers/number"),s&&s.__esModule&&s||{"default":s}).isNumeric;c("numeric",i)},{"helpers/number":51,numeral:"numeral",renderers:92}],98:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){l("text").apply(this,arguments),o=e.innerHTML;var u,c=a.hashLength||o.length,h=a.hashSymbol||"*";for(u="";u.split(h).length-1<c;u+=h);s(e,u)}Object.defineProperties(n,{passwordRenderer:{get:function(){return i}},__esModule:{value:!0}});var r,o,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).fastInnerHTML,a=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),l=a.getRenderer,u=a.registerRenderer;u("password",i)},{"helpers/dom/element":46,renderers:92}],99:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){d("base").apply(this,arguments),!o&&s.placeholder&&(o=s.placeholder);var a=c(o);if(t.getSettings().trimWhitespace||(a=a.replace(/ /g,String.fromCharCode(160))),s.rendererTemplate){l(e);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=t.getSourceDataAtRow(n),e.appendChild(h)}else u(e,a)}Object.defineProperties(n,{textRenderer:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=a.empty,u=a.fastInnerText,c=(o=t("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,h=(s=t("renderers"),s&&s.__esModule&&s||{"default":s}),d=h.getRenderer,f=h.registerRenderer;f("text",i)},{"helpers/dom/element":46,"helpers/mixed":50,renderers:92}],100:[function(t,e,n){!function(t){"use strict";function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function n(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++N+"$__"}function i(t){return I[t]}function r(){var t=n();return I[t]=!0,t}function o(t){return"object"==typeof t&&t instanceof l}function s(t){return o(t)?"symbol":typeof t}function a(t){var e=new l(t);if(!(this instanceof a))return e;throw new TypeError("Symbol cannot be new'ed")}function l(t){var e=n();S(this,L,{value:this}),S(this,P,{value:e}),S(this,D,{value:t}),c(this),H[e]=this}function u(t){var e=t[F];return e&&e.self===t?e:O(t)?(j.hash.value=B++,j.self.value=t,W.value=T(null,j),S(t,F,W),W.value):void 0}function c(t){return u(t),E.apply(this,arguments)}function h(t){return H[t]||I[t]}function d(t){return o(t)?t[P]:t}function f(t){for(var e=[],n=M(t),i=0;i<n.length;i++){var r=H[n[i]];r&&e.push(r)}return e}function p(e){return t.traceur&&t.traceur.options[e]}function g(t){for(var e=1;e<arguments.length;e++)for(var n=M(arguments[e]),i=0;i<n.length;i++){var r=n[i];h(r)||!function(e,n){S(t,n,{get:function(){return e[n]},enumerable:!0})}(arguments[e],n[i])}return t}function m(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function v(t){if(null==t)throw C();return b(t)}function y(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function w(t,e){t.Symbol||(t.Symbol=e,Object.getOwnPropertySymbols=f),t.Symbol.iterator||(t.Symbol.iterator=e("Symbol.iterator"))}function _(t){w(t,a),t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t}if(!t.$traceurRuntime){var b=Object,C=TypeError,T=b.create,x=b.defineProperties,S=b.defineProperty,E=b.freeze,R=b.getOwnPropertyDescriptor,M=b.getOwnPropertyNames,k=b.keys,O=Object.isExtensible,A=e,N=0,P=n(),D=n(),L=n(),H=T(null),I=T(null);S(a.prototype,"constructor",e(a)),S(a.prototype,"toString",A(function(){var t=this[L];if(!p("symbols"))return t[P];if(!t)throw TypeError("Conversion from symbol to string");var e=t[D];return void 0===e&&(e=""),"Symbol("+e+")"})),S(a.prototype,"valueOf",A(function(){var t=this[L];if(!t)throw TypeError("Conversion from symbol to string");return p("symbols")?t:t[P]})),S(l.prototype,"constructor",e(a)),S(l.prototype,"toString",{value:a.prototype.toString,enumerable:!1}),S(l.prototype,"valueOf",{value:a.prototype.valueOf,enumerable:!1});var F=r(),W={value:void 0},j={hash:{value:void 0},self:{value:void 0}},B=0;c(l.prototype),_(t),t.$traceurRuntime={checkObjectCoercible:y,createPrivateName:r,defineProperties:x,defineProperty:S,exportStar:g,getOwnHashObject:u,getOwnPropertyDescriptor:R,getOwnPropertyNames:M,isObject:m,isPrivateName:i,isSymbolString:h,keys:k,setupGlobals:_,toObject:v,toProperty:d,"typeof":s}}}(window),function(){"use strict";function t(){for(var t,n=[],i=0,r=0;r<arguments.length;r++){var o=$traceurRuntime.checkObjectCoercible(arguments[r]);"function"!=typeof o[e(Symbol.iterator)]&&(o[e(Symbol.iterator)]=function(){var t=this,e=t.length,n=0;return{next:function(){var i={done:!0};return e>n&&(i.done=!1,i.value=t[n],++n),i}}});for(var s=o[e(Symbol.iterator)]();!(t=s.next()).done;)n[i++]=t.value}return n}var e=$traceurRuntime.toProperty;$traceurRuntime.spread=t}(),function(){"use strict";function t(t,e){var n=g(t);do{var i=p(n,e);if(i)return i;n=g(n)}while(n)}function e(t){return t.__proto__}function n(t,e,n,r){return i(t,e,n).apply(t,r)}function i(e,n,i){var r=t(n,i);return r?r.get?r.get.call(e):r.value:void 0}function r(e,n,i,r){var o=t(n,i);if(o&&o.set)return o.set.call(e,r),r;throw c("super has no setter '"+i+"'.")}function o(t){for(var e={},n=y(t),i=0;i<n.length;i++){var r=n[i];e[r]=p(t,r)}for(var o=w(t),i=0;i<o.length;i++){var s=o[i];e[m(s)]=p(t,m(s))}return e}function s(t,e,n,i){return f(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof i&&(t.__proto__=i),t.prototype=h(a(i),o(e))):t.prototype=e,f(t,"prototype",{configurable:!1,writable:!1}),d(t,o(n))}function a(t){if("function"==typeof t){var e=t.prototype;if(u(e)===e||null===e)return t.prototype;throw new c("super prototype must be an Object or null")}if(null===t)return null;throw new c("Super expression must either be null or a function, not "+typeof t+".")}function l(t,e,i){null!==g(e)&&n(t,e,"constructor",i)}var u=Object,c=TypeError,h=u.create,d=$traceurRuntime.defineProperties,f=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,g=Object.getPrototypeOf,m=$traceurRuntime.toProperty,v=Object,y=v.getOwnPropertyNames,w=v.getOwnPropertySymbols;$traceurRuntime.createClass=s,$traceurRuntime.defaultSuperCall=l,$traceurRuntime.superCall=n,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=i,$traceurRuntime.superSet=r}()},{}],101:[function(t,e,n){"use strict";function i(t){var e=this,n=this;this.eventManager=C(t),this.instance=t,this.settings=t.getSettings(),this.selectionMouseDown=!1;var i=t.rootElement.getAttribute("style");i&&t.rootElement.setAttribute("data-originalstyle",i),f(t.rootElement,"handsontable");var r=document.createElement("TABLE");f(r,"htCore"),t.getSettings().tableClassName&&f(r,t.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),r.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),r.appendChild(this.TBODY),t.table=r,t.container.insertBefore(r,t.container.firstChild),this.eventManager.addEventListener(t.rootElement,"mousedown",function(t){this.selectionMouseDown=!0,n.isTextSelectionAllowed(t.target)||(s(),t.preventDefault(),window.focus())}),this.eventManager.addEventListener(t.rootElement,"mouseup",function(t){this.selectionMouseDown=!1}),this.eventManager.addEventListener(t.rootElement,"mousemove",function(t){this.selectionMouseDown&&!n.isTextSelectionAllowed(t.target)&&(s(),t.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(e){t.selection.isInProgress()&&!e.shiftKey&&t.selection.finish()});var o;this.isMouseDown=function(){return o},this.eventManager.addEventListener(document.documentElement,"mouseup",function(e){t.selection.isInProgress()&&1===e.which&&t.selection.finish(),o=!1,b(document.activeElement)&&t.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){var i=e.target,r=e.target,s=e.x||e.clientX,a=e.y||e.clientY;if(!o&&t.rootElement){if(r===t.view.wt.wtTable.holder){var l=v();if(document.elementFromPoint(s+l,a)!==t.view.wt.wtTable.holder||document.elementFromPoint(s,a+l)!==t.view.wt.wtTable.holder)return}else for(;r!==document.documentElement;){if(null===r){if(e.isTargetWebComponent)break;return}if(r===t.rootElement)return;r=r.parentNode}var u="function"==typeof n.settings.outsideClickDeselects?n.settings.outsideClickDeselects(i):n.settings.outsideClickDeselects;u?t.deselectCell():t.destroyEditor()}}),this.eventManager.addEventListener(r,"selectstart",function(t){n.settings.fragmentSelection||_(t.target)||t.preventDefault()});var s=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},a=[new R({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&!t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&!t.selection.isMultiple()}}}),new R({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&t.selection.isMultiple()}}}),new R({className:"highlight",highlightRowClassName:n.settings.currentRowClassName,highlightColumnClassName:n.settings.currentColClassName}),new R({className:"fill",border:{width:1,color:"red"}})];a.current=a[0],a.area=a[1],a.highlight=a[2],a.fill=a[3];var l={debug:function(){return n.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r,preventOverflow:function(){return e.settings.preventOverflow},stretchH:function(){return n.settings.stretchH},data:t.getDataAtCell,totalRows:function(){return t.countRows()},totalColumns:function(){return t.countCols()},fixedColumnsLeft:function(){return n.settings.fixedColumnsLeft},fixedRowsTop:function(){return n.settings.fixedRowsTop},fixedRowsBottom:function(){return n.settings.fixedRowsBottom},minSpareRows:function(){return n.settings.minSpareRows},renderAllRows:n.settings.renderAllRows,rowHeaders:function(){var e=[];return t.hasRowHeaders()&&e.push(function(t,e){n.appendRowHeader(t,e)}),h.hooks.run(t,"afterGetRowHeaderRenderers",e),e},columnHeaders:function(){var e=[];return t.hasColHeaders()&&e.push(function(t,e){n.appendColHeader(t,e)}),h.hooks.run(t,"afterGetColumnHeaderRenderers",e),e},columnWidth:t.getColWidth,rowHeight:t.getRowHeight,cellRenderer:function(t,e,i){var r=n.instance.getCellMeta(t,e),o=n.instance.colToProp(e),s=n.instance.getDataAtRowProp(t,o);h.hooks.run(n.instance,"beforeRenderer",i,t,e,o,s,r),n.instance.getCellRenderer(r)(n.instance,i,t,e,o,s,r),h.hooks.run(n.instance,"afterRenderer",i,t,e,o,s,r)},selections:a,hideBorderOnMouseDownOver:function(){return n.settings.fragmentSelection},onCellMouseDown:function(e,i,r,s){if(t.listen(),n.activeWt=s,o=!0,h.hooks.run(t,"beforeOnCellMouseDown",e,i,r),!S(e)){var a=t.getSelectedRange(),l=t.selection,u=l.selectedHeader;if(e.shiftKey&&a)i.row>=0&&i.col>=0?(l.setRangeEnd(i),l.setSelectedHeaders(!1,!1)):(u.cols||u.rows)&&i.row>=0&&i.col>=0?(l.setRangeEnd(new E(i.row,i.col)),l.setSelectedHeaders(!1,!1)):u.cols&&i.row<0?l.setRangeEnd(new E(a.to.row,i.col)):u.rows&&i.col<0?l.setRangeEnd(new E(i.row,a.to.col)):!u.cols&&!u.rows&&i.col<0||u.cols&&i.col<0?(l.setRangeStartOnly(new E(a.from.row,0)),l.setRangeEnd(new E(i.row,t.countCols()-1)),l.setSelectedHeaders(!0,!1)):(!u.cols&&!u.rows&&i.row<0||u.rows&&i.row<0)&&(l.setRangeStartOnly(new E(0,a.from.col)),l.setRangeEnd(new E(t.countRows()-1,i.col)),l.setSelectedHeaders(!1,!0));else{var c=!0;if(a){var d=a,f=d.from,p=d.to,g=!l.inInSelection(i);if(i.row<0&&u.cols){var m=Math.min(f.col,p.col),v=Math.max(f.col,p.col);c=i.col<m||i.col>v}else if(i.col<0&&u.rows){var y=Math.min(f.row,p.row),w=Math.max(f.row,p.row);c=i.row<y||i.row>w}else c=g}(0===e.button||2===e.button&&c)&&(i.row<0&&i.col>=0?(l.setSelectedHeaders(!1,!0),l.setRangeStartOnly(new E(0,i.col)),l.setRangeEnd(new E(t.countRows()-1,i.col),!1)):i.col<0&&i.row>=0?(l.setSelectedHeaders(!0,!1),l.setRangeStartOnly(new E(i.row,0)),l.setRangeEnd(new E(i.row,t.countCols()-1),!1)):(i.row=i.row<0?0:i.row,i.col=i.col<0?0:i.col,l.setSelectedHeaders(!1,!1),l.setRangeStart(i)))}h.hooks.run(t,"afterOnCellMouseDown",e,i,r),n.activeWt=n.wt}},onCellMouseOver:function(e,i,r,s){var a={row:!1,column:!1};n.activeWt=s,h.hooks.run(t,"beforeOnCellMouseOver",e,i,r,a),0===e.button&&(i.row>=0&&i.col>=0?o&&t.selection.setRangeEnd(i):o&&(i.row<0&&!a.column&&(t.selection.selectedHeader.cols?(t.selection.setRangeEnd(new E(t.countRows()-1,i.col),!1),t.selection.setSelectedHeaders(!1,!0)):t.selection.setRangeEnd(new E(i.row,i.col),!1)),i.col<0&&!a.row&&(t.selection.selectedHeader.rows?(t.selection.setRangeEnd(new E(i.row,t.countCols()-1),!1),t.selection.setSelectedHeaders(!0,!1)):t.selection.setRangeEnd(new E(i.row,i.col),!1)))),h.hooks.run(t,"afterOnCellMouseOver",e,i,r),n.activeWt=n.wt},onCellCornerMouseDown:function(e){e.preventDefault(),h.hooks.run(t,"afterOnCellCornerMouseDown",e)},beforeDraw:function(t){n.beforeRender(t)},onDraw:function(t){n.onDraw(t)},onScrollVertically:function(){t.runHooks("afterScrollVertically")},onScrollHorizontally:function(){t.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,n){t.runHooks("beforeDrawBorders",e,n)},onBeforeTouchScroll:function(){t.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){t.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(e,n){return t.runHooks("beforeStretchingColumnWidth",e,n)},viewportRowCalculatorOverride:function(e){var i=t.countRows(),r=n.settings.viewportRowRenderingOffset;if("auto"===r&&n.settings.fixedRowsTop&&(r=10),"number"==typeof r&&(e.startRow=Math.max(e.startRow-r,0),e.endRow=Math.min(e.endRow+r,i-1)),"auto"===r){var o=e.startRow+e.endRow-e.startRow,s=Math.ceil(o/i*12);e.startRow=Math.max(e.startRow-s,0),e.endRow=Math.min(e.endRow+s,i-1)}t.runHooks("afterViewportRowCalculatorOverride",e)},viewportColumnCalculatorOverride:function(e){var i=t.countCols(),r=n.settings.viewportColumnRenderingOffset;if("auto"===r&&n.settings.fixedColumnsLeft&&(r=10),"number"==typeof r&&(e.startColumn=Math.max(e.startColumn-r,0),e.endColumn=Math.min(e.endColumn+r,i-1)),"auto"===r){var o=e.startColumn+e.endColumn-e.startColumn,s=Math.ceil(o/i*12);e.startRow=Math.max(e.startColumn-s,0),e.endColumn=Math.min(e.endColumn+s,i-1)}t.runHooks("afterViewportColumnCalculatorOverride",e)},rowHeaderWidth:function(){return n.settings.rowHeaderWidth},columnHeaderHeight:function(){var e=t.runHooks("modifyColumnHeaderHeight");return n.settings.columnHeaderHeight||e}};h.hooks.run(t,"beforeInitWalkontable",l),this.wt=new M(l),this.activeWt=this.wt,this.eventManager.addEventListener(n.wt.wtTable.spreader,"mousedown",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&x(t)}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"contextmenu",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&x(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){n.settings.observeDOMVisibility&&n.wt.drawInterrupted&&(n.instance.forceFullRender=!0,n.render())})}Object.defineProperties(n,{TableView:{get:function(){return i}},__esModule:{value:!0}});var r,o,s,a,l,u,c,h=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],d=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),f=d.addClass,p=d.empty,g=d.fastInnerHTML,m=d.fastInnerText,v=d.getScrollbarWidth,y=d.hasClass,w=d.isChildOf,_=d.isInput,b=d.isOutsideInput,C=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).eventManager,T=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),x=T.stopPropagation,S=T.isImmediatePropagationStopped,E=(l=t("3rdparty/walkontable/src/cell/coords"),l&&l.__esModule&&l||{"default":l}).WalkontableCellCoords,R=(u=t("3rdparty/walkontable/src/selection"),u&&u.__esModule&&u||{"default":u}).WalkontableSelection,M=(c=t("3rdparty/walkontable/src/core"),c&&c.__esModule&&c||{"default":c}).Walkontable;h.TableView=i,i.prototype.isTextSelectionAllowed=function(t){if(_(t))return!0;var e=w(t,this.instance.view.wt.wtTable.spreader);return this.settings.fragmentSelection===!0&&e?!0:"cell"===this.settings.fragmentSelection&&this.isSelectedOnlyCell()&&e?!0:!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell())},i.prototype.isSelectedOnlyCell=function(){var t=this.instance.getSelected()||[],e=t[0],n=t[1],i=t[2],r=t[3];return void 0!==e&&e===i&&n===r},i.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},i.prototype.beforeRender=function(t){t&&h.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},i.prototype.onDraw=function(t){t&&h.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},i.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},i.prototype.getCellAtCoords=function(t,e){var n=this.wt.getCell(t,e);return 0>n?null:n},i.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},i.prototype.appendRowHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!y(n,"relative"))return p(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var i=document.createElement("div"),r=document.createElement("span");i.className="relative",r.className="rowHeader",this.updateCellHeader(r,t,this.instance.getRowHeader),i.appendChild(r),e.appendChild(i)}h.hooks.run(this.instance,"afterGetRowHeader",t,e)},i.prototype.appendColHeader=function(t,e){if(e.firstChild){var n=e.firstChild;y(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),t,this.instance.getColHeader):(p(e),this.appendColHeader(t,e))}else{var i=document.createElement("div"),r=document.createElement("span");i.className="relative",r.className="colHeader",this.updateCellHeader(r,t,this.instance.getColHeader),i.appendChild(r),e.appendChild(i)}h.hooks.run(this.instance,"afterGetColHeader",t,e)},i.prototype.updateCellHeader=function(t,e,n){var i=e,r=this.wt.wtOverlays.getParentOverlay(t)||this.wt;t.parentNode&&(y(t,"colHeader")?i=r.wtTable.columnFilter.sourceToRendered(e):y(t,"rowHeader")&&(i=r.wtTable.rowFilter.sourceToRendered(e))),i>-1?g(t,n(e)):(m(t,String.fromCharCode(160)),f(t,"cornerHeader"))},i.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),n=e-t;return n>0?n:0},i.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),n=e-t;return n>0?n:0},i.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},i.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()}},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/core":7,"3rdparty/walkontable/src/selection":18,browser:23,eventManager:41,"helpers/dom/element":46,"helpers/dom/event":47}],102:[function(t,e,n){"use strict";Object.defineProperties(n,{GhostTable:{get:function(){return g}},__esModule:{value:!0}});var i,r,o,s,a,l,u=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],c=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.addClass,d=c.outerHeight,f=c.outerWidth,p=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,g=((s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}).objectEach,(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,(l=t("helpers/mixed"),l&&l.__esModule&&l||{"default":l}).stringify,function(t){this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}});$traceurRuntime.createClass(g,{addRow:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},addColumnHeadersRow:function(t){if(null!=this.hot.getColHeader(0)){var e={row:-1};this.rows.push(e),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),e.table=this.table.table}},addColumn:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},getHeights:function(t){this.injected||this.injectTable(),p(this.rows,function(e){t(e.row,d(e.table)-1)})},getWidths:function(t){this.injected||this.injectTable(),p(this.columns,function(e){t(e.col,f(e.table))})},setSettings:function(t){this.settings=t},setSetting:function(t,e){this.settings||(this.settings={}),this.settings[t]=e},getSettings:function(){return this.settings},getSetting:function(t){return this.settings?this.settings[t]:null},createColGroupsCol:function(){var t=this,e=document,n=e.createDocumentFragment();return this.hot.hasRowHeaders()&&n.appendChild(this.createColElement(-1)),this.samples.forEach(function(e){p(e.strings,function(e){n.appendChild(t.createColElement(e.col))})}),n},createRow:function(t){var e=this,n=document,i=n.createDocumentFragment(),r=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,r),i.appendChild(r)),this.samples.forEach(function(r){p(r.strings,function(r){var o=r.col,s=e.hot.getCellMeta(t,o);s.col=o,s.row=t;var a=e.hot.getCellRenderer(s),l=n.createElement("td");a(e.hot,l,t,o,e.hot.colToProp(o),r.value,s),i.appendChild(l)})}),i},createColumnHeadersRow:function(){var t=this,e=document,n=e.createDocumentFragment();if(this.hot.hasRowHeaders()){var i=e.createElement("th");this.hot.view.appendColHeader(-1,i),n.appendChild(i);
}return this.samples.forEach(function(i){p(i.strings,function(i){var r=i.col,o=e.createElement("th");t.hot.view.appendColHeader(r,o),n.appendChild(o)})}),n},createCol:function(t){var e=this,n=document,i=n.createDocumentFragment();return this.samples.forEach(function(r){p(r.strings,function(r){var o=r.row,s=e.hot.getCellMeta(o,t);s.col=t,s.row=o;var a=e.hot.getCellRenderer(s),l=n.createElement("td"),u=n.createElement("tr");a(e.hot,l,o,t,e.hot.colToProp(t),r.value,s),u.appendChild(l),i.appendChild(u)})}),i},clean:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()},injectTable:function(){var t=void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)},removeTable:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)},createColElement:function(t){var e=document,n=e.createElement("col");return n.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(t)+"px",n},createTable:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),i=e.createElement("table"),r=e.createElement("thead"),o=e.createElement("tbody"),s=e.createElement("colgroup"),a=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&i.appendChild(s),this.isHorizontal()&&(a.appendChild(l),r.appendChild(a),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(r),this.isVertical()&&o.appendChild(a),i.appendChild(o),h(i,t),n.appendChild(i),{fragment:n,table:i,tHead:r,tBody:o,colGroup:s,tr:a,th:l}},createContainer:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),i=e.createElement("div");return t="htGhostTable htAutoSize "+t.trim(),h(i,t),n.appendChild(i),{fragment:n,container:i}},isVertical:function(){return!(!this.rows.length||this.columns.length)},isHorizontal:function(){return!(!this.columns.length||this.rows.length)}},{}),u.utils.GhostTable=g},{browser:23,"helpers/array":42,"helpers/dom/element":46,"helpers/mixed":50,"helpers/number":51,"helpers/object":52}],103:[function(t,e,n){"use strict";function i(t){return"string"==typeof t&&/fps$/.test(t)&&(t=1e3/parseInt(t.replace("fps","")||0,10)),t}Object.defineProperties(n,{Interval:{get:function(){return p}},__esModule:{value:!0}});var r,o,s,a,l,u,c=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],h=(o=t("helpers/feature"),o&&o.__esModule&&o||{"default":o}),d=h.requestAnimationFrame,f=h.cancelAnimationFrame,p=((s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}).arrayEach,(a=t("helpers/object"),a&&a.__esModule&&a||{"default":a}).objectEach,(l=t("helpers/number"),l&&l.__esModule&&l||{"default":l}).rangeEach,(u=t("helpers/mixed"),u&&u.__esModule&&u||{"default":u}).stringify,function(t,e){var n=this;this.timer=null,this.func=t,this.delay=i(e),this.stopped=!0,this._then=null,this._callback=function(){return n.__callback()}}),g=p;$traceurRuntime.createClass(p,{start:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=d(this._callback)),this},stop:function(){return this.stopped||(this.stopped=!0,f(this.timer),this.timer=null),this},__callback:function(){if(this.timer=d(this._callback),this.delay){var t=Date.now(),e=t-this._then;e>this.delay&&(this._then=t-e%this.delay,this.func())}else this.func()}},{create:function(t,e){return new g(t,e)}}),c.utils.Interval=p},{browser:23,"helpers/array":42,"helpers/feature":48,"helpers/mixed":50,"helpers/number":51,"helpers/object":52}],104:[function(t,e,n){"use strict";var i;Object.defineProperties(n,{SamplesGenerator:{get:function(){return m}},__esModule:{value:!0}});var r,o,s,a,l,u,c=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],h=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),d=(h.addClass,h.outerHeight,h.outerWidth,(s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}).arrayEach,a=t("helpers/object"),a&&a.__esModule&&a||{"default":a}),f=(d.objectEach,d.isObject),p=(l=t("helpers/number"),l&&l.__esModule&&l||{"default":l}).rangeEach,g=(u=t("helpers/mixed"),u&&u.__esModule&&u||{"default":u}).stringify,m=function(t){this.samples=null,this.dataFactory=t,this.customSampleCount=null},v=m;$traceurRuntime.createClass(m,(i={},Object.defineProperty(i,"getSampleCount",{value:function(){return this.customSampleCount?this.customSampleCount:v.SAMPLE_COUNT},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateRowSamples",{value:function(t,e){return this.generateSamples("row",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateColumnSamples",{value:function(t,e){return this.generateSamples("col",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateSamples",{value:function(t,e,n){var i=this,r=new Map;return"number"==typeof n&&(n={from:n,to:n}),p(n.from,n.to,function(n){var o=i.generateSample(t,e,n);r.set(n,o)}),r},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,"generateSample",{value:function(t,e,n){var i,r=this,o=new Map,s=[];return p(e.from,e.to,function(e){var a,l;if("row"===t)l=r.dataFactory(n,e);else{if("col"!==t)throw new Error("Unsupported sample type");l=r.dataFactory(e,n)}i=f(l)?Object.keys(l).length:Array.isArray(l)?l.length:g(l).length,o.has(i)||o.set(i,{needed:r.getSampleCount(),strings:[]});var u=o.get(i);if(u.needed){var c=s.indexOf(l)>-1;if(!c){var h="row"===t?"col":"row";u.strings.push((a={},Object.defineProperty(a,"value",{value:l,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(a,h,{value:e,configurable:!0,enumerable:!0,writable:!0}),a)),s.push(l),u.needed--}}}),o},configurable:!0,enumerable:!0,writable:!0}),i),{get SAMPLE_COUNT(){return 3}}),c.utils.SamplesGenerator=m},{browser:23,"helpers/array":42,"helpers/dom/element":46,"helpers/mixed":50,"helpers/number":51,"helpers/object":52}],105:[function(t,e,n){"use strict";function i(t,e){var n=t,i="string"==typeof n?n.toLowerCase():null;return function(t){for(var r=!1,o=0,s=t.length;s>o;o++){if(n===t[o]){r=!0;break}if(i===a(t[o]).toLowerCase()){r=!0;break}}e(r)}}var r,o,s=(r=t("browser"),r&&r.__esModule&&r||{"default":r})["default"],a=(o=t("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify;s.AutocompleteValidator=function(t,e){return null==t&&(t=""),this.allowEmpty&&""===t?void e(!0):void(this.strict&&this.source?"function"==typeof this.source?this.source(t,i(t,e)):i(t,e)(this.source):e(!0))}},{browser:23,"helpers/mixed":50}],106:[function(t,e,n){"use strict";var i,r,o,s,a=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],l=(r=t("moment"),r&&r.__esModule&&r||{"default":r})["default"],u=(o=t("../helpers/date"),o&&o.__esModule&&o||{"default":o}).getNormalizedDate,c=(s=t("editors"),s&&s.__esModule&&s||{"default":s}).getEditor;a.DateValidator=function(t,e){var n=!0,i=c("date",this.instance);null==t&&(t="");var r=l(new Date(t)).isValid(),o=l(t,this.dateFormat||i.defaultDateFormat,!0).isValid();if(this.allowEmpty&&""===t&&(r=!0,o=!0),r||(n=!1),!r&&o&&(n=!0),r&&!o)if(this.correctFormat===!0){var s=h(t,this.dateFormat);this.instance.setDataAtCell(this.row,this.col,s,"dateValidator"),n=!0}else n=!1;e(n)};var h=function(t,e){var n=l(u(t)),i=n.format("YYYY"),r=l().format("YYYY");return i.substr(0,2)!==r.substr(0,2)?t.match(new RegExp(i))||n.year(i.replace(i.substr(0,2),r.substr(0,2))):i.length>4&&n.year((n.year()+"").substr(0,4)),n.format(e)}},{"../helpers/date":45,browser:23,editors:29,moment:"moment"}],107:[function(t,e,n){"use strict";var i,r=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"];r.NumericValidator=function(t,e){null==t&&(t=""),e(this.allowEmpty&&""===t?!0:""===t?!1:/^-?\d*(\.|\,)?\d*$/.test(t))}},{browser:23}],108:[function(t,e,n){"use strict";var i,r,o=(i=t("browser"),i&&i.__esModule&&i||{"default":i})["default"],s=(r=t("moment"),r&&r.__esModule&&r||{"default":r})["default"],a=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];o.TimeValidator=function(t,e){var n=!0,i=this.timeFormat||"h:mm:ss a";null===t&&(t=""),t=/^\d{3,}$/.test(t)?parseInt(t,10):t;var r=/^\d{1,2}$/.test(t);r&&(t+=":00");var o=s(t,a,!0).isValid()?s(t):s(t,i),l=o.isValid(),u=s(t,i,!0).isValid()&&!r;if(this.allowEmpty&&""===t&&(l=!0,u=!0),l||(n=!1),!l&&u&&(n=!0),l&&!u)if(this.correctFormat===!0){var c=o.format(i);this.instance.setDataAtCell(this.row,this.col,c,"timeValidator"),n=!0}else n=!1;e(n)}},{browser:23,moment:"moment"}],SheetClip:[function(t,e,n){!function(t){"use strict";function e(t){return t.split('"').length-1}var i={parse:function(t){var n,i,r,o,s,a,l,u=[],c=0;for(r=t.split("\n"),r.length>1&&""===r[r.length-1]&&r.pop(),n=0,i=r.length;i>n;n+=1){for(r[n]=r[n].split("	"),o=0,s=r[n].length;s>o;o+=1)u[c]||(u[c]=[]),a&&0===o?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+r[n][0],a&&1&e(r[n][0])&&(a=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):o===s-1&&0===r[n][o].indexOf('"')&&1&e(r[n][o])?(u[c].push(r[n][o].substring(1).replace(/""/g,'"')),a=!0):(u[c].push(r[n][o].replace(/""/g,'"')),a=!1);a||(c+=1)}return u},stringify:function(t){var e,n,i,r,o,s="";for(e=0,n=t.length;n>e;e+=1){for(r=t[e].length,i=0;r>i;i+=1)i>0&&(s+="	"),o=t[e][i],s+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;s+="\n"}return s}};"undefined"!=typeof n?(n.parse=i.parse,n.stringify=i.stringify):t.SheetClip=i}(window)},{}],autoResize:[function(t,e,n){function i(){function t(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}var e,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},i=document.body,r=document.createTextNode(""),o=document.createElement("SPAN"),s=function(t,e,n){window.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)},a=function(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},l=function(s){var a,l;s?/^[a-zA-Z \.,\\\/\|0-9]$/.test(s)||(s="."):s="",void 0!==r.textContent?r.textContent=e.value+s:r.data=e.value+s,o.style.fontSize=t(e).fontSize,o.style.fontFamily=t(e).fontFamily,o.style.whiteSpace="pre",i.appendChild(o),a=o.clientWidth+2,i.removeChild(o),e.style.height=n.minHeight+"px",n.minWidth>a?e.style.width=n.minWidth+"px":a>n.maxWidth?e.style.width=n.maxWidth+"px":e.style.width=a+"px",l=e.scrollHeight?e.scrollHeight-1:0,n.minHeight>l?e.style.height=n.minHeight+"px":n.maxHeight<l?(e.style.height=n.maxHeight+"px",e.style.overflowY="visible"):e.style.height=l+"px"},u=function(){window.setTimeout(l,0)},c=function(t){if(t&&t.minHeight)if("inherit"==t.minHeight)n.minHeight=e.clientHeight;else{var i=parseInt(t.minHeight);isNaN(i)||(n.minHeight=i)}if(t&&t.maxHeight)if("inherit"==t.maxHeight)n.maxHeight=e.clientHeight;else{var s=parseInt(t.maxHeight);isNaN(s)||(n.maxHeight=s)}if(t&&t.minWidth)if("inherit"==t.minWidth)n.minWidth=e.clientWidth;else{var a=parseInt(t.minWidth);isNaN(a)||(n.minWidth=a)}if(t&&t.maxWidth)if("inherit"==t.maxWidth)n.maxWidth=e.clientWidth;else{var l=parseInt(t.maxWidth);isNaN(l)||(n.maxWidth=l)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(r))},h=function(t,i,r){e=t,c(i),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=n.minHeight+"px",e.style.minWidth=n.minWidth+"px",e.style.maxWidth=n.maxWidth+"px",e.style.overflowY="hidden"),r&&(s(e,"change",l),s(e,"cut",u),s(e,"paste",u),s(e,"drop",u),s(e,"keydown",u),s(e,"focus",l)),l()};return{init:function(t,e,n){h(t,e,n)},unObserve:function(){a(e,"change",l),a(e,"cut",u),a(e,"paste",u),a(e,"drop",u),a(e,"keydown",u),a(e,"focus",l)},resize:l}}"undefined"!=typeof n&&(e.exports=i)},{}],copyPaste:[function(t,e,n){function i(){return o?o.hasBeenDestroyed()&&o.init():o=new r,o.refCounter++,o}function r(){this.refCounter=0,this.init()}var o;"undefined"!=typeof n&&(e.exports=i),r.prototype.init=function(){var t,e;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",e.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){var e,n;"WebkitAppearance"in document.documentElement.style&&(e=t.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(n=e.split("\n"),""===n[n.length-1]&&n.pop(),e=n.join("\n")),this.value=e,t.preventDefault())},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},r.prototype.onKeyDown=function(t){function e(){var t=document.activeElement;return t.shadowRoot&&t.shadowRoot.activeElement&&(t=t.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable}var n=this,i=!1;if(t.metaKey?i=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(i=!0),i){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||e()))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==n.elTextarea&&n.selectNodeText(n.elTextarea)},0)}t.isImmediatePropagationEnabled===!1||!i||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){n.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){n.triggerPaste(t)},0))},r.prototype.selectNodeText=function(t){t&&t.select()},r.prototype.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},r.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t,this.selectNodeText(this.elTextarea)},r.prototype.onCut=function(t){this.cutCallbacks.push(t)},r.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},r.prototype.removeCallback=function(t){var e,n;for(e=0,n=this.copyCallbacks.length;n>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,n=this.cutCallbacks.length;n>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,n=this.pasteCallbacks.length;n>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},r.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var n=0,i=e.cutCallbacks.length;i>n;n++)e.cutCallbacks[n](t)},50)},r.prototype.triggerPaste=function(t,e){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var i=e||n.elTextarea.value,r=0,o=n.pasteCallbacks.length;o>r;r++)n.pasteCallbacks[r](i,t)},50)},r.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},r.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],es6collections:[function(t,e,n){!function(t){"use strict";function e(t,e){function i(t){return this&&this.constructor===i?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&n.call(this,t))):new i(t)}return e||w(t,"size",{get:m}),t.constructor=i,i.prototype=t,i}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function i(t){return this.has(t)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(t){y<t[0]&&t[0]--})),y>-1}function r(t){return this.has(t)?this._values[y]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(y=t.length;y--&&!_(t[y],e););else y=t.indexOf(e);return y>-1}function s(t){return o.call(this,this._values,t)}function a(t){return o.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[y]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){this._values.length=0}function h(){return g(this._itp,this._keys)}function d(){return g(this._itp,this._values)}function f(){return g(this._itp,this._keys,this._values)}function p(){return g(this._itp,this._values,this._values)}function g(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function m(){return this._values.length}function v(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}var y,w=Object.defineProperty,_=function(t,e){return isNaN(t)?isNaN(e):t===e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":i,clear:c,get:r,has:a,set:l},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":i,has:a,get:r,set:l,keys:h,values:d,entries:f,forEach:v,clear:c})),"undefined"==typeof Set&&(t.Set=e({has:s,add:u,"delete":i,clear:c,keys:d,values:d,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":i,add:u,clear:c,has:s},!0))}("undefined"!=typeof n&&"undefined"!=typeof i?i:window)},{}],jsonpatch:[function(t,e,n){var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=Error;!function(t){function e(t,n){switch(typeof t){case"undefined":case"boolean":case"string":case"number":return t===n;case"object":if(null===t)return null===n;if(E(t)){if(!E(n)||t.length!==n.length)return!1;for(var i=0,r=t.length;r>i;i++)if(!e(t[i],n[i]))return!1;return!0}var o=w(n),s=o.length;if(w(t).length!==s)return!1;for(var i=0;s>i;i++)if(!e(t[i],n[i]))return!1;return!0;default:return!1}}function n(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function i(t){for(var e=0,n=T.length;n>e;e++)if(T[e].obj===t)return T[e]}function s(t,e){for(var n=0,i=t.observers.length;i>n;n++)if(t.observers[n].callback===e)return t.observers[n].observer}function a(t,e){for(var n=0,i=t.observers.length;i>n;n++)if(t.observers[n].observer===e)return void t.observers.splice(n,1)}function l(t,e){e.unobserve()}function u(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function c(t,e){var n,r=[],l=i(t);if(l?n=s(l,e):(l=new x(t),T.push(l)),n)return n;if(n={},l.value=u(t),e){n.callback=e,n.next=null;var c=this.intervals||[100,1e3,1e4,6e4];if(void 0===c.push)throw new o("jsonpatch.intervals must be an array");var d=0,f=function(){h(n)},p=function(){clearTimeout(n.next),n.next=setTimeout(function(){f(),d=0,n.next=setTimeout(g,c[d++])},0)},g=function(){f(),d==c.length&&(d=c.length-1),n.next=setTimeout(g,c[d++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",p),window.addEventListener("mouseup",p),window.addEventListener("keydown",p)):(document.documentElement.attachEvent("onmousedown",p),document.documentElement.attachEvent("onmouseup",p),document.documentElement.attachEvent("onkeydown",p))),n.next=setTimeout(g,c[d++])}return n.patches=r,n.object=t,n.unobserve=function(){h(n),clearTimeout(n.next),a(l,n),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",p),window.removeEventListener("mouseup",p),window.removeEventListener("keydown",p)):(document.documentElement.detachEvent("onmousedown",p),document.documentElement.detachEvent("onmouseup",p),document.documentElement.detachEvent("onkeydown",p)))},l.observers.push(new S(e,n)),n}function h(t){for(var e,n=0,i=T.length;i>n;n++)if(T[n].obj===t.object){e=T[n];break}d(e.value,t.object,t.patches,""),t.patches.length&&p(e.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function d(t,e,i,r){for(var o=w(e),s=w(t),a=!1,l=!1,c=s.length-1;c>=0;c--){var h=s[c],f=t[h];if(e.hasOwnProperty(h)){var p=e[h];"object"==typeof f&&null!=f&&"object"==typeof p&&null!=p?d(f,p,i,r+"/"+n(h)):f!=p&&(a=!0,i.push({op:"replace",path:r+"/"+n(h),value:u(p)}))}else i.push({op:"remove",path:r+"/"+n(h)}),l=!0}if(l||o.length!=s.length)for(var c=0;c<o.length;c++){var h=o[c];t.hasOwnProperty(h)||i.push({op:"add",path:r+"/"+n(h),value:u(e[h])})}}function f(t){for(var e,n=0,i=t.length;i>n;){e=t.charCodeAt(n);{if(!(e>=48&&57>=e))return!1;n++}}return!0}function p(t,e,n){for(var i,r,o=!1,s=0,a=e.length;a>s;){i=e[s],s++;for(var l=i.path||"",u=l.split("/"),c=t,h=1,d=u.length,p=void 0;;){if(r=u[h],n&&void 0===p&&(void 0===c[r]?p=u.slice(0,h).join("/"):h==d-1&&(p=i.path),void 0!==p&&this.validator(i,s-1,t,p)),h++,void 0===r&&h>=d){o=C[i.op].call(i,c,r,t);break}if(E(c)){if("-"===r)r=c.length;else{if(n&&!f(r))throw new R("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s-1,i.path,i);r=parseInt(r,10)}if(h>=d){if(n&&"add"===i.op&&r>c.length)throw new R("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s-1,i.path,i);o=b[i.op].call(i,c,r,t);break}}else if(r&&-1!=r.indexOf("~")&&(r=r.replace(/~1/g,"/").replace(/~0/g,"~")),h>=d){o=_[i.op].call(i,c,r,t);break}c=c[r]}}return o}function g(t,e){var n=[];return d(t,e,n,""),n}function m(t){if(void 0===t)return!0;if("array"==typeof t||"object"==typeof t)for(var e in t)if(m(t[e]))return!0;return!1}function v(e,n,i,r){if("object"!=typeof e||null===e||E(e))throw new R("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,i);if(!_[e.op])throw new R("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,i);if("string"!=typeof e.path)throw new R("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new R("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new R("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&m(e.value))throw new R("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,s=r.split("/").length;if(o!==s+1&&o!==s)throw new R("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new R("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,i)}else if("move"===e.op||"copy"===e.op){var a={op:"_get",path:e.from,value:void 0},l=t.validate([a],i);if(l&&"OPERATION_PATH_UNRESOLVABLE"===l.name)throw new R("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,i)}}function y(t,e){try{if(!E(t))throw new R("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)e=JSON.parse(JSON.stringify(e)),p.call(this,e,t,!0);else for(var n=0;n<t.length;n++)this.validator(t[n],n)}catch(i){if(i instanceof R)return i;throw i}}var w=function(t){if(E(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},_={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,n){var i={op:"_get",path:this.from};return p(n,[i]),p(n,[{op:"remove",path:this.from}]),p(n,[{op:"add",path:this.path,value:i.value}]),!0},copy:function(t,e,n){var i={op:"_get",path:this.from};return p(n,[i]),p(n,[{op:"add",path:this.path,value:i.value}]),!0},test:function(t,n){return e(t[n],this.value)},_get:function(t,e){this.value=t[e]}},b={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:_.move,copy:_.copy,test:_.test,_get:_._get},C={add:function(t){C.remove.call(this,t);for(var e in this.value)this.value.hasOwnProperty(e)&&(t[e]=this.value[e]);return!0},remove:function(t){for(var e in t)t.hasOwnProperty(e)&&_.remove.call(this,t,e);return!0},replace:function(t){return p(t,[{op:"remove",path:this.path}]),p(t,[{op:"add",path:this.path,value:this.value}]),!0},move:_.move,copy:_.copy,test:function(t){return JSON.stringify(t)===JSON.stringify(this.value)},_get:function(t){this.value=t}},T=[],x=function(){function t(t){this.observers=[],this.obj=t}return t}(),S=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=l,t.observe=c,t.generate=h;var E;E=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=p,t.compare=g;var R=function(t){function e(e,n,i,r,o){t.call(this,e),this.message=e,this.name=n,this.index=i,this.operation=r,this.tree=o}return r(e,t),e}(o);t.JsonPatchError=R,t.Error=R,t.validator=v,t.validate=y}(i||(i={})),"undefined"!=typeof n&&(n.apply=i.apply,n.observe=i.observe,n.unobserve=i.unobserve,n.generate=i.generate,n.compare=i.compare,n.validate=i.validate,n.validator=i.validator,n.JsonPatchError=i.JsonPatchError,n.Error=i.Error)},{}],moment:[function(t,n,i){!function(t,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof e&&e.amd?e(r):t.moment=r()}(this,function(){"use strict";function e(){return ti.apply(null,arguments)}function i(t){ti=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return Ht(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function d(t){if(null==t._isValid){var e=h(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function f(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function p(t){return void 0===t}function g(t,e){var n,i,r;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=h(e)),p(e._locale)||(t._locale=e._locale),ei.length>0)for(n in ei)i=ei[n],r=e[i],p(r)||(t[i]=r);return t}function m(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ni===!1&&(ni=!0,e.updateOffset(this),ni=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return 0>t?Math.ceil(t):Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&s++;return s+o}function b(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var n=!0;return l(function(){return n&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function T(t,e){ii[t]||(b(e),ii[t]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){return"[object Object]"===Object.prototype.toString.call(t)}function E(t){var e,n;for(n in t)e=t[n],x(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function R(t,e){var n,i=l({},t);for(n in e)a(e,n)&&(S(t[n])&&S(e[n])?(i[n]={},l(i[n],t[n]),l(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function M(t){null!=t&&this.set(t)}function k(t){return t?t.toLowerCase().replace("_","-"):t}function O(t){for(var e,n,i,r,o=0;o<t.length;){for(r=k(t[o]).split("-"),e=r.length,n=k(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=A(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function A(e){var i=null;if(!oi[e]&&"undefined"!=typeof n&&n&&n.exports)try{i=ri._abbr,t("./locale/"+e),N(i)}catch(r){}return oi[e]}function N(t,e){var n;return t&&(n=p(e)?L(t):P(t,e),n&&(ri=n)),ri._abbr}function P(t,e){return null!==e?(e.abbr=t,null!=oi[t]?(T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=R(oi[t]._config,e)):null!=e.parentLocale&&(null!=oi[e.parentLocale]?e=R(oi[e.parentLocale]._config,e):T("parentLocaleUndefined","specified parentLocale is not defined yet")),oi[t]=new M(e),N(t),oi[t]):(delete oi[t],null)}function D(t,e){if(null!=e){var n;null!=oi[t]&&(e=R(oi[t]._config,e)),n=new M(e),n.parentLocale=oi[t],oi[t]=n,N(t)}else null!=oi[t]&&(null!=oi[t].parentLocale?oi[t]=oi[t].parentLocale:null!=oi[t]&&delete oi[t]);return oi[t]}function L(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ri;if(!r(t)){if(e=A(t))return e;t=[t]}return O(t)}function H(){return Object.keys(oi)}function I(t,e){var n=t.toLowerCase();si[n]=si[n+"s"]=si[e]=t}function F(t){return"string"==typeof t?si[t]||si[t.toLowerCase()]:void 0}function W(t){var e,n,i={};for(n in t)a(t,n)&&(e=F(n),e&&(i[e]=t[n]));return i}function j(t,n){return function(i){return null!=i?(z(this,t,i),e.updateOffset(this,n),this):B(this,t)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function V(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=F(t),x(this[t]))return this[t](e);return this}function U(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ci[t]=r),e&&(ci[e[0]]=function(){return U(r.apply(this,arguments),e[1],e[2])}),n&&(ci[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function X(t){var e,n,i=t.match(ai);for(e=0,n=i.length;n>e;e++)ci[i[e]]?i[e]=ci[i[e]]:i[e]=G(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function q(t,e){return t.isValid()?(e=$(e,t.localeData()),ui[e]=ui[e]||X(e),ui[e](t)):t.localeData().invalidDate()}function $(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(li.lastIndex=0;i>=0&&li.test(t);)t=t.replace(li,n),li.lastIndex=0,i-=1;return t}function K(t,e,n){Mi[t]=x(e)?e:function(t,i){return t&&n?n:e}}function Z(t,e){return a(Mi,t)?Mi[t](e._strict,e._locale):new RegExp(Q(t));
}function Q(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ki[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&a(ki,t)&&ki[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Wi.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Wi.test(e)?"format":"standalone"][t.month()]}function st(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function at(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function lt(t){return null!=t?(at(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function ut(){return it(this.year(),this.month())}function ct(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ht(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function dt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=J(i[e]),r[e]=J(r[e]),o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function ft(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[Ai]<0||n[Ai]>11?Ai:n[Ni]<1||n[Ni]>it(n[Oi],n[Ai])?Ni:n[Pi]<0||n[Pi]>24||24===n[Pi]&&(0!==n[Di]||0!==n[Li]||0!==n[Hi])?Pi:n[Di]<0||n[Di]>59?Di:n[Li]<0||n[Li]>59?Li:n[Hi]<0||n[Hi]>999?Hi:-1,h(t)._overflowDayOfYear&&(Oi>e||e>Ni)&&(e=Ni),h(t)._overflowWeeks&&-1===e&&(e=Ii),h(t)._overflowWeekday&&-1===e&&(e=Fi),h(t).overflow=e),t}function pt(t){var e,n,i,r,o,s,a=t._i,l=Ui.exec(a)||Yi.exec(a);if(l){for(h(t).iso=!0,e=0,n=Xi.length;n>e;e++)if(Xi[e][1].exec(l[1])){r=Xi[e][0],i=Xi[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=qi.length;n>e;e++)if(qi[e][1].exec(l[3])){o=(l[2]||" ")+qi[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Gi.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),kt(t)}else t._isValid=!1}function gt(t){var n=$i.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(pt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function mt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function vt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t){return wt(t)?366:365}function wt(t){return t%4===0&&t%100!==0||t%400===0}function _t(){return wt(this.year())}function bt(t,e,n){var i=7+e-n,r=(7+vt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function Ct(t,e,n,i,r){var o,s,a=(7+n-i)%7,l=bt(t,i,r),u=1+7*(e-1)+a+l;return 0>=u?(o=t-1,s=yt(o)+u):u>yt(t)?(o=t+1,s=u-yt(t)):(o=t,s=u),{year:o,dayOfYear:s}}function Tt(t,e,n){var i,r,o=bt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+xt(r,e,n)):s>xt(t.year(),e,n)?(i=s-xt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function xt(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(yt(t)-i+r)/7}function St(t,e,n){return null!=t?t:null!=e?e:n}function Et(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Rt(t){var e,n,i,r,o=[];if(!t._d){for(i=Et(t),t._w&&null==t._a[Ni]&&null==t._a[Ai]&&Mt(t),t._dayOfYear&&(r=St(t._a[Oi],i[Oi]),t._dayOfYear>yt(r)&&(h(t)._overflowDayOfYear=!0),n=vt(r,0,t._dayOfYear),t._a[Ai]=n.getUTCMonth(),t._a[Ni]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Pi]&&0===t._a[Di]&&0===t._a[Li]&&0===t._a[Hi]&&(t._nextDay=!0,t._a[Pi]=0),t._d=(t._useUTC?vt:mt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Pi]=24)}}function Mt(t){var e,n,i,r,o,s,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=St(e.GG,t._a[Oi],Tt(It(),1,4).year),i=St(e.W,1),r=St(e.E,1),(1>r||r>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=St(e.gg,t._a[Oi],Tt(It(),o,s).year),i=St(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),1>i||i>xt(n,o,s)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=Ct(n,i,r,o,s),t._a[Oi]=a.year,t._dayOfYear=a.dayOfYear)}function kt(t){if(t._f===e.ISO_8601)return void pt(t);t._a=[],h(t).empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,u=0;for(r=$(t._f,t._locale).match(ai)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(Z(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&h(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),ci[o]?(i?h(t).empty=!1:h(t).unusedTokens.push(o),nt(o,i,t)):t._strict&&!i&&h(t).unusedTokens.push(o);h(t).charsLeftOver=l-u,a.length>0&&h(t).unusedInput.push(a),h(t).bigHour===!0&&t._a[Pi]<=12&&t._a[Pi]>0&&(h(t).bigHour=void 0),t._a[Pi]=Ot(t._locale,t._a[Pi],t._meridiem),Rt(t),ft(t)}function Ot(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function At(t){var e,n,i,r,o;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],kt(e),d(e)&&(o+=h(e).charsLeftOver,o+=10*h(e).unusedTokens.length,h(e).score=o,(null==i||i>o)&&(i=o,n=e));l(t,n||e)}function Nt(t){if(!t._d){var e=W(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Rt(t)}}function Pt(t){var e=new m(ft(Dt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Dt(t){var e=t._i,n=t._f;return t._locale=t._locale||L(t._l),null===e||void 0===n&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new m(ft(e)):(r(n)?At(t):n?kt(t):o(e)?t._d=e:Lt(t),d(t)||(t._d=null),t))}function Lt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):o(n)?t._d=new Date(+n):"string"==typeof n?gt(t):r(n)?(t._a=s(n.slice(0),function(t){return parseInt(t,10)}),Rt(t)):"object"==typeof n?Nt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Ht(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Pt(o)}function It(t,e,n,i){return Ht(t,e,n,i,!1)}function Ft(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return It();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Wt(){var t=[].slice.call(arguments,0);return Ft("isBefore",t)}function jt(){var t=[].slice.call(arguments,0);return Ft("isAfter",t)}function Bt(t){var e=W(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=L(),this._bubble()}function zt(t){return t instanceof Bt}function Vt(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+U(~~(t/60),2)+e+U(~~t%60,2)})}function Ut(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(tr)||["-",0,0],o=+(60*r[1])+w(r[2]);return"+"===r[0]?o:-o}function Yt(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(t)||o(t)?+t:+It(t))-+i,i._d.setTime(+i._d+r),e.updateOffset(i,!1),i):It(t).local()}function Gt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ut(Si,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Gt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?ce(this,re(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Gt(this):null!=t?this:NaN}function qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function $t(t){return this.utcOffset(0,t)}function Kt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Gt(this),"m")),this}function Zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ut(xi,this._i)),this}function Qt(t){return this.isValid()?(t=t?It(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function te(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=Dt(t),t._a){var e=t._isUTC?u(t._a):It(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ee(){return this.isValid()?!this._isUTC:!1}function ne(){return this.isValid()?this._isUTC:!1}function ie(){return this.isValid()?this._isUTC&&0===this._offset:!1}function re(t,e){var n,i,r,o=t,s=null;return zt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=er.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[Ni])*n,h:w(s[Pi])*n,m:w(s[Di])*n,s:w(s[Li])*n,ms:w(s[Hi])*n}):(s=nr.exec(t))?(n="-"===s[1]?-1:1,o={y:oe(s[2],n),M:oe(s[3],n),w:oe(s[4],n),d:oe(s[5],n),h:oe(s[6],n),m:oe(s[7],n),s:oe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=ae(It(o.from),It(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Bt(o),zt(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function oe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function se(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ae(t,e){var n;return t.isValid()&&e.isValid()?(e=Yt(e,t),t.isBefore(e)?n=se(t,e):(n=se(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function le(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function ue(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=re(n,i),ce(this,r,t),this}}function ce(t,n,i,r){var o=n._milliseconds,s=le(n._days),a=le(n._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(+t._d+o*i),s&&z(t,"Date",B(t,"Date")+s*i),a&&at(t,B(t,"Month")+a*i),r&&e.updateOffset(t,s||a))}function he(t,e){var n=t||It(),i=Yt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=e&&(x(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,It(n)))}function de(){return new m(this)}function fe(t,e){var n=v(t)?t:It(t);return this.isValid()&&n.isValid()?(e=F(p(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e)):!1}function pe(t,e){var n=v(t)?t:It(t);return this.isValid()&&n.isValid()?(e=F(p(e)?"millisecond":e),"millisecond"===e?+n>+this:+this.clone().endOf(e)<+n):!1}function ge(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function me(t,e){var n,i=v(t)?t:It(t);return this.isValid()&&i.isValid()?(e=F(e||"millisecond"),"millisecond"===e?+this===+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))):!1}function ve(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ye(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function we(t,e,n){var i,r,o,s;return this.isValid()?(i=Yt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e),"year"===e||"month"===e||"quarter"===e?(s=_e(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:y(s)):NaN):NaN}function _e(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function be(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Te(t){var n=q(this,t||e.defaultFormat);return this.localeData().postformat(n)}function xe(t,e){return this.isValid()&&(v(t)&&t.isValid()||It(t).isValid())?re({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.from(It(),t)}function Ee(t,e){return this.isValid()&&(v(t)&&t.isValid()||It(t).isValid())?re({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Re(t){return this.to(It(),t)}function Me(t){var e;return void 0===t?this._locale._abbr:(e=L(t),null!=e&&(this._locale=e),this)}function ke(){return this._locale}function Oe(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ae(t){return t=F(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ne(){return+this._d-6e4*(this._offset||0)}function Pe(){return Math.floor(+this/1e3)}function De(){return this._offset?new Date(+this):this._d}function Le(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function He(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ie(){return this.isValid()?this.toISOString():null}function Fe(){return d(this)}function We(){return l({},h(this))}function je(){return h(this).overflow}function Be(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ze(t,e){Y(0,[t,t.length],0,e)}function Ve(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ue(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ye(){return xt(this.year(),1,4)}function Ge(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function Xe(t,e,n,i,r){var o;return null==t?Tt(this,i,r).year:(o=xt(t,i,r),e>o&&(e=o),qe.call(this,t,e,n,i,r))}function qe(t,e,n,i,r){var o=Ct(t,e,n,i,r),s=vt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function $e(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ke(t){return Tt(t,this._week.dow,this._week.doy).week}function Ze(){return this._week.dow}function Qe(){return this._week.doy}function Je(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function tn(t){var e=Tt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function en(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function nn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function rn(t){return this._weekdaysShort[t.day()]}function on(t){return this._weekdaysMin[t.day()]}function sn(t,e,n){var i,r,o;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=It([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function an(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=en(t,this.localeData()),this.add(t-e,"d")):e}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function un(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function cn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function hn(){return this.hours()%12||12}function dn(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function fn(t,e){return e._meridiemParse}function pn(t){return"p"===(t+"").toLowerCase().charAt(0)}function gn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function mn(t,e){e[Hi]=w(1e3*("0."+t))}function vn(){return this._isUTC?"UTC":""}function yn(){return this._isUTC?"Coordinated Universal Time":""}function wn(t){return It(1e3*t)}function _n(){return It.apply(null,arguments).parseZone()}function bn(t,e,n){var i=this._calendar[t];return x(i)?i.call(e,n):i}function Cn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Tn(){return this._invalidDate}function xn(t){return this._ordinal.replace("%d",t)}function Sn(t){return t}function En(t,e,n,i){var r=this._relativeTime[n];return x(r)?r(t,e,n,i):r.replace(/%d/i,t)}function Rn(t,e){var n=this._relativeTime[t>0?"future":"past"];return x(n)?n(e):n.replace(/%s/i,e)}function Mn(t,e,n,i){var r=L(),o=u().set(i,e);return r[n](o,t)}function kn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Mn(t,e,n,r);var o,s=[];for(o=0;i>o;o++)s[o]=Mn(t,o,n,r);return s}function On(t,e){return kn(t,e,"months",12,"month")}function An(t,e){return kn(t,e,"monthsShort",12,"month")}function Nn(t,e){return kn(t,e,"weekdays",7,"day")}function Pn(t,e){return kn(t,e,"weekdaysShort",7,"day")}function Dn(t,e){return kn(t,e,"weekdaysMin",7,"day")}function Ln(){var t=this._data;return this._milliseconds=Er(this._milliseconds),this._days=Er(this._days),this._months=Er(this._months),t.milliseconds=Er(t.milliseconds),t.seconds=Er(t.seconds),t.minutes=Er(t.minutes),t.hours=Er(t.hours),t.months=Er(t.months),t.years=Er(t.years),this}function Hn(t,e,n,i){var r=re(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function In(t,e){return Hn(this,t,e,1)}function Fn(t,e){return Hn(this,t,e,-1)}function Wn(t){return 0>t?Math.floor(t):Math.ceil(t)}function jn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Wn(zn(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=y(o/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,n=y(e/60),l.hours=n%24,s+=y(n/24),r=y(Bn(s)),a+=r,s-=Wn(zn(r)),i=y(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Bn(t){return 4800*t/146097}function zn(t){return 146097*t/4800}function Vn(t){var e,n,i=this._milliseconds;if(t=F(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Bn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(zn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Un(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function Yn(t){return function(){return this.as(t)}}function Gn(t){return t=F(t),this[t+"s"]()}function Xn(t){return function(){return this._data[t]}}function qn(){return y(this.days()/7)}function $n(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Kn(t,e,n){var i=re(t).abs(),r=zr(i.as("s")),o=zr(i.as("m")),s=zr(i.as("h")),a=zr(i.as("d")),l=zr(i.as("M")),u=zr(i.as("y")),c=r<Vr.s&&["s",r]||1>=o&&["m"]||o<Vr.m&&["mm",o]||1>=s&&["h"]||s<Vr.h&&["hh",s]||1>=a&&["d"]||a<Vr.d&&["dd",a]||1>=l&&["M"]||l<Vr.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,$n.apply(null,c)}function Zn(t,e){return void 0===Vr[t]?!1:void 0===e?Vr[t]:(Vr[t]=e,!0)}function Qn(t){var e=this.localeData(),n=Kn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Jn(){var t,e,n,i=Ur(this._milliseconds)/1e3,r=Ur(this._days),o=Ur(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var ti,ei=e.momentProperties=[],ni=!1,ii={};e.suppressDeprecationWarnings=!1;var ri,oi={},si={},ai=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,li=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ui={},ci={},hi=/\d/,di=/\d\d/,fi=/\d{3}/,pi=/\d{4}/,gi=/[+-]?\d{6}/,mi=/\d\d?/,vi=/\d\d\d\d?/,yi=/\d\d\d\d\d\d?/,wi=/\d{1,3}/,_i=/\d{1,4}/,bi=/[+-]?\d{1,6}/,Ci=/\d+/,Ti=/[+-]?\d+/,xi=/Z|[+-]\d\d:?\d\d/gi,Si=/Z|[+-]\d\d(?::?\d\d)?/gi,Ei=/[+-]?\d+(\.\d{1,3})?/,Ri=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mi={},ki={},Oi=0,Ai=1,Ni=2,Pi=3,Di=4,Li=5,Hi=6,Ii=7,Fi=8;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),K("M",mi),K("MM",mi,di),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Ai]=w(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ai]=r:h(n).invalidMonth=t});var Wi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ji="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zi=Ri,Vi=Ri,Ui=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Yi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Gi=/Z|[+-]\d\d(?::?\d\d)?/,Xi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],qi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$i=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=C("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Y("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),I("year","y"),K("Y",Ti),K("YY",mi,di),K("YYYY",_i,pi),K("YYYYY",bi,gi),K("YYYYYY",bi,gi),tt(["YYYYY","YYYYYY"],Oi),tt("YYYY",function(t,n){n[Oi]=2===t.length?e.parseTwoDigitYear(t):w(t)}),tt("YY",function(t,n){n[Oi]=e.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[Oi]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var Ki=j("FullYear",!1);e.ISO_8601=function(){};var Zi=C("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:f()}),Qi=C("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),Ji=function(){return Date.now?Date.now():+new Date};Vt("Z",":"),Vt("ZZ",""),K("Z",Si),K("ZZ",Si),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ut(Si,t)});var tr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var er=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,nr=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;re.fn=Bt.prototype;var ir=ue(1,"add"),rr=ue(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var or=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ze("gggg","weekYear"),ze("ggggg","weekYear"),ze("GGGG","isoWeekYear"),ze("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),K("G",Ti),K("g",Ti),K("GG",mi,di),K("gg",mi,di),K("GGGG",_i,pi),K("gggg",_i,pi),K("GGGGG",bi,gi),K("ggggg",bi,gi),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),et(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),I("quarter","Q"),K("Q",hi),tt("Q",function(t,e){e[Ai]=3*(w(t)-1)}),Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),K("w",mi),K("ww",mi,di),K("W",mi),K("WW",mi,di),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var sr={dow:0,doy:6};Y("D",["DD",2],"Do","date"),I("date","D"),K("D",mi),K("DD",mi,di),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ni),tt("Do",function(t,e){e[Ni]=w(t.match(mi)[0],10)});var ar=j("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),K("d",mi),K("e",mi),K("E",mi),K("dd",Ri),K("ddd",Ri),K("dddd",Ri),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:h(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var lr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ur="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),cr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),K("DDD",wi),K("DDDD",fi),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,hn),Y("hmm",0,0,function(){return""+hn.apply(this)+U(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+hn.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),dn("a",!0),dn("A",!1),I("hour","h"),K("a",fn),K("A",fn),K("H",mi),K("h",mi),K("HH",mi,di),K("hh",mi,di),K("hmm",vi),K("hmmss",yi),K("Hmm",vi),K("Hmmss",yi),tt(["H","HH"],Pi),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[Pi]=w(t),h(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[Pi]=w(t.substr(0,i)),e[Di]=w(t.substr(i)),h(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Pi]=w(t.substr(0,i)),e[Di]=w(t.substr(i,2)),e[Li]=w(t.substr(r)),h(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[Pi]=w(t.substr(0,i)),e[Di]=w(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Pi]=w(t.substr(0,i)),e[Di]=w(t.substr(i,2)),e[Li]=w(t.substr(r))});var hr=/[ap]\.?m?\.?/i,dr=j("Hours",!0);Y("m",["mm",2],0,"minute"),I("minute","m"),K("m",mi),K("mm",mi,di),tt(["m","mm"],Di);var fr=j("Minutes",!1);Y("s",["ss",2],0,"second"),I("second","s"),K("s",mi),K("ss",mi,di),tt(["s","ss"],Li);var pr=j("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),K("S",wi,hi),K("SS",wi,di),K("SSS",wi,fi);var gr;for(gr="SSSS";gr.length<=9;gr+="S")K(gr,Ci);for(gr="S";gr.length<=9;gr+="S")tt(gr,mn);var mr=j("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var vr=m.prototype;vr.add=ir,vr.calendar=he,vr.clone=de,vr.diff=we,vr.endOf=Ae,vr.format=Te,vr.from=xe,vr.fromNow=Se,vr.to=Ee,vr.toNow=Re,vr.get=V,vr.invalidAt=je,vr.isAfter=fe,vr.isBefore=pe,vr.isBetween=ge,vr.isSame=me,vr.isSameOrAfter=ve,vr.isSameOrBefore=ye,vr.isValid=Fe,vr.lang=or,vr.locale=Me,vr.localeData=ke,vr.max=Qi,vr.min=Zi,vr.parsingFlags=We,vr.set=V,vr.startOf=Oe,vr.subtract=rr,vr.toArray=Le,vr.toObject=He,vr.toDate=De,vr.toISOString=Ce,vr.toJSON=Ie,vr.toString=be,vr.unix=Pe,vr.valueOf=Ne,vr.creationData=Be,vr.year=Ki,vr.isLeapYear=_t,vr.weekYear=Ve,vr.isoWeekYear=Ue,vr.quarter=vr.quarters=$e,vr.month=lt,vr.daysInMonth=ut,vr.week=vr.weeks=Je,vr.isoWeek=vr.isoWeeks=tn,vr.weeksInYear=Ge,vr.isoWeeksInYear=Ye,vr.date=ar,vr.day=vr.days=an,vr.weekday=ln,vr.isoWeekday=un,
vr.dayOfYear=cn,vr.hour=vr.hours=dr,vr.minute=vr.minutes=fr,vr.second=vr.seconds=pr,vr.millisecond=vr.milliseconds=mr,vr.utcOffset=Xt,vr.utc=$t,vr.local=Kt,vr.parseZone=Zt,vr.hasAlignedHourOffset=Qt,vr.isDST=Jt,vr.isDSTShifted=te,vr.isLocal=ee,vr.isUtcOffset=ne,vr.isUtc=ie,vr.isUTC=ie,vr.zoneAbbr=vn,vr.zoneName=yn,vr.dates=C("dates accessor is deprecated. Use date instead.",ar),vr.months=C("months accessor is deprecated. Use month instead",lt),vr.years=C("years accessor is deprecated. Use year instead",Ki),vr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qt);var yr=vr,wr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},_r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},br="Invalid date",Cr="%d",Tr=/\d{1,2}/,xr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Sr=M.prototype;Sr._calendar=wr,Sr.calendar=bn,Sr._longDateFormat=_r,Sr.longDateFormat=Cn,Sr._invalidDate=br,Sr.invalidDate=Tn,Sr._ordinal=Cr,Sr.ordinal=xn,Sr._ordinalParse=Tr,Sr.preparse=Sn,Sr.postformat=Sn,Sr._relativeTime=xr,Sr.relativeTime=En,Sr.pastFuture=Rn,Sr.set=E,Sr.months=rt,Sr._months=ji,Sr.monthsShort=ot,Sr._monthsShort=Bi,Sr.monthsParse=st,Sr._monthsRegex=Vi,Sr.monthsRegex=ht,Sr._monthsShortRegex=zi,Sr.monthsShortRegex=ct,Sr.week=Ke,Sr._week=sr,Sr.firstDayOfYear=Qe,Sr.firstDayOfWeek=Ze,Sr.weekdays=nn,Sr._weekdays=lr,Sr.weekdaysMin=on,Sr._weekdaysMin=cr,Sr.weekdaysShort=rn,Sr._weekdaysShort=ur,Sr.weekdaysParse=sn,Sr.isPM=pn,Sr._meridiemParse=hr,Sr.meridiem=gn,N("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=C("moment.lang is deprecated. Use moment.locale instead.",N),e.langData=C("moment.langData is deprecated. Use moment.localeData instead.",L);var Er=Math.abs,Rr=Yn("ms"),Mr=Yn("s"),kr=Yn("m"),Or=Yn("h"),Ar=Yn("d"),Nr=Yn("w"),Pr=Yn("M"),Dr=Yn("y"),Lr=Xn("milliseconds"),Hr=Xn("seconds"),Ir=Xn("minutes"),Fr=Xn("hours"),Wr=Xn("days"),jr=Xn("months"),Br=Xn("years"),zr=Math.round,Vr={s:45,m:45,h:22,d:26,M:11},Ur=Math.abs,Yr=Bt.prototype;Yr.abs=Ln,Yr.add=In,Yr.subtract=Fn,Yr.as=Vn,Yr.asMilliseconds=Rr,Yr.asSeconds=Mr,Yr.asMinutes=kr,Yr.asHours=Or,Yr.asDays=Ar,Yr.asWeeks=Nr,Yr.asMonths=Pr,Yr.asYears=Dr,Yr.valueOf=Un,Yr._bubble=jn,Yr.get=Gn,Yr.milliseconds=Lr,Yr.seconds=Hr,Yr.minutes=Ir,Yr.hours=Fr,Yr.days=Wr,Yr.weeks=qn,Yr.months=jr,Yr.years=Br,Yr.humanize=Qn,Yr.toISOString=Jn,Yr.toString=Jn,Yr.toJSON=Jn,Yr.locale=Me,Yr.localeData=ke,Yr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jn),Yr.lang=or,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),K("x",Ti),K("X",Ei),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(w(t))}),e.version="2.12.0",i(It),e.fn=yr,e.min=Wt,e.max=jt,e.now=Ji,e.utc=u,e.unix=wn,e.months=On,e.isDate=o,e.locale=N,e.invalid=f,e.duration=re,e.isMoment=v,e.weekdays=Nn,e.parseZone=_n,e.localeData=L,e.isDuration=zt,e.monthsShort=An,e.weekdaysMin=Dn,e.defineLocale=P,e.updateLocale=D,e.locales=H,e.weekdaysShort=Pn,e.normalizeUnits=F,e.relativeTimeThreshold=Zn,e.prototype=yr;var Gr=e;return Gr})},{}],numeral:[function(t,n,i){(function(){function t(t){this._value=t}function i(t,e,n,i){var r,o,s=Math.pow(10,e);return o=(n(t*s)/s).toFixed(e),i&&(r=new RegExp("0{1,"+i+"}$"),o=o.replace(r,"")),o}function r(t,e,n){var i;return i=e.indexOf("$")>-1?s(t,e,n):e.indexOf("%")>-1?a(t,e,n):e.indexOf(":")>-1?l(t,e):c(t._value,e,n)}function o(t,e){var n,i,r,o,s,a=e,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=u(e);else if(e===y)t._value=0;else{for("."!==m[v].delimiters.decimal&&(e=e.replace(/\./g,"").replace(m[v].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+m[v].abbreviations.thousand+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+m[v].abbreviations.million+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+m[v].abbreviations.billion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+m[v].abbreviations.trillion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),s=0;s<=l.length&&!(c=e.indexOf(l[s])>-1?Math.pow(1024,s+1):!1);s++);t._value=(c?c:1)*(a.match(n)?Math.pow(10,3):1)*(a.match(i)?Math.pow(10,6):1)*(a.match(r)?Math.pow(10,9):1)*(a.match(o)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function s(t,e,n){var i,r,o=e.indexOf("$"),s=e.indexOf("("),a=e.indexOf("-"),l="";return e.indexOf(" $")>-1?(l=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(l=" ",e=e.replace("$ ","")):e=e.replace("$",""),r=c(t._value,e,n),1>=o?r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),i=1,(s>o||a>o)&&(i=0),r.splice(i,0,m[v].currency.symbol+l),r=r.join("")):r=m[v].currency.symbol+l+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,l+m[v].currency.symbol),r=r.join("")):r=r+l+m[v].currency.symbol,r}function a(t,e,n){var i,r="",o=100*t._value;return e.indexOf(" %")>-1?(r=" ",e=e.replace(" %","")):e=e.replace("%",""),i=c(o,e,n),i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%",i}function l(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),i=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}function u(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function c(t,e,n){var r,o,s,a,l,u,c=!1,h=!1,d=!1,f="",p=!1,g=!1,w=!1,_=!1,b=!1,C="",T="",x=Math.abs(t),S=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],E="",R=!1;if(0===t&&null!==y)return y;if(e.indexOf("(")>-1?(c=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(h=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(p=e.indexOf("aK")>=0,g=e.indexOf("aM")>=0,w=e.indexOf("aB")>=0,_=e.indexOf("aT")>=0,b=p||g||w||_,e.indexOf(" a")>-1?(f=" ",e=e.replace(" a","")):e=e.replace("a",""),x>=Math.pow(10,12)&&!b||_?(f+=m[v].abbreviations.trillion,t/=Math.pow(10,12)):x<Math.pow(10,12)&&x>=Math.pow(10,9)&&!b||w?(f+=m[v].abbreviations.billion,t/=Math.pow(10,9)):x<Math.pow(10,9)&&x>=Math.pow(10,6)&&!b||g?(f+=m[v].abbreviations.million,t/=Math.pow(10,6)):(x<Math.pow(10,6)&&x>=Math.pow(10,3)&&!b||p)&&(f+=m[v].abbreviations.thousand,t/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(C=" ",e=e.replace(" b","")):e=e.replace("b",""),s=0;s<=S.length;s++)if(r=Math.pow(1024,s),o=Math.pow(1024,s+1),t>=r&&o>t){C+=S[s],r>0&&(t/=r);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(T=" ",e=e.replace(" o","")):e=e.replace("o",""),T+=m[v].ordinal(t)),e.indexOf("[.]")>-1&&(d=!0,e=e.replace("[.]",".")),a=t.toString().split(".")[0],l=e.split(".")[1],u=e.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),E=i(t,l[0].length+l[1].length,n,l[1].length)):E=i(t,l.length,n),a=E.split(".")[0],E=E.split(".")[1].length?m[v].delimiters.decimal+E.split(".")[1]:"",d&&0===Number(E.slice(1))&&(E="")):a=i(t,null,n),a.indexOf("-")>-1&&(a=a.slice(1),R=!0),u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[v].delimiters.thousands)),0===e.indexOf(".")&&(a=""),(c&&R?"(":"")+(!c&&R?"-":"")+(!R&&h?"+":"")+a+E+(T?T:"")+(f?f:"")+(C?C:"")+(c&&R?")":"")}function h(t,e){m[t]=e}function d(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function f(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=d(t),i=d(e);return n>i?n:i},-(1/0))}var p,g="1.5.3",m={},v="en",y=null,w="0,0",_="undefined"!=typeof n&&n.exports;p=function(e){return p.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=p.fn.unformat(e)),new t(Number(e))},p.version=g,p.isNumeral=function(e){return e instanceof t},p.language=function(t,e){if(!t)return v;if(t&&!e){if(!m[t])throw new Error("Unknown language : "+t);v=t}return!e&&m[t]||h(t,e),p},p.languageData=function(t){if(!t)return m[v];if(!m[t])throw new Error("Unknown language : "+t);return m[t]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(t){y="string"==typeof t?t:null},p.defaultFormat=function(t){w="string"==typeof t?t:"0.0"},p.validate=function(t,e){var n,i,r,o,s,a,l,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=p.languageData(e)}catch(c){l=p.languageData(p.language())}return r=l.currency.symbol,s=l.abbreviations,n=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,u=t.match(/^[^\d\.\,]+/),null!==u&&(t=t.substr(1),u[0]!==r)?!1:(u=t.match(/[^\d]+$/),null!==u&&(t=t.slice(0,-1),u[0]!==s.thousand&&u[0]!==s.million&&u[0]!==s.billion&&u[0]!==s.trillion)?!1:t.match(/^\d+$/)?!0:(a=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)?!1:(o=t.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(a):""===o[0]?!o[0].match(a)&&!!o[1].match(/^\d+$/):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(a)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(a)&&!!o[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=e,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?i=t(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),p.fn=t.prototype={clone:function(){return p(this)},format:function(t,e){return r(this,t?t:w,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:o(this,t?t:w)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,i,r){return t+n*e}var n=f.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,i,r){return t-n*e}var n=f.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,i){var r=f(t,e);return t*r*(e*r)/(r*r)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,i){var r=f(t,e);return t*r/(e*r)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(p(this._value).subtract(t).value())}},_&&(n.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof e&&e.amd&&e([],function(){return p})}).call(window)},{}],pikaday:[function(t,n,i){!function(r,o){"use strict";var s;if("object"==typeof i){try{s=t("moment")}catch(a){}n.exports=o(s)}else"function"==typeof e&&e.amd?e(function(t){var e="moment";try{s=t(e)}catch(n){}return o(s)}):r.Pikaday=o(r.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(t,e,i,r){n?t.addEventListener(e,i,!!r):t.attachEvent("on"+e,i)},s=function(t,e,i,r){n?t.removeEventListener(e,i,!!r):t.detachEvent("on"+e,i)},a=function(t,e,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(e,!0,!1),r=w(r,n),t.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=w(r,n),t.fireEvent("on"+e,r))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},h=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},p=function(t){var e=t.getDay();return 0===e||6===e},g=function(t){return t%4===0&&t%100!==0||t%400===0},m=function(t,e){return[31,g(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){f(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},w=function(t,e,n){var i,r;for(i in e)r=void 0!==t[i],r&&"object"==typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?f(e[i])?n&&(t[i]=new Date(e[i].getTime())):d(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=w({},e[i],n):!n&&r||(t[i]=e[i]);return t},_=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},C=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},T=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},x=function(t,e,n){var i=new Date(n,0,1),r=Math.ceil(((new Date(n,e,t)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+r+"</td>"},S=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},E=function(t){return"<tbody>"+t.join("")+"</tbody>"},R=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+C(t,e)+'">'+C(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},M=function(t,e,n,i,r){var o,s,a,l,u,c=t._o,h=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(a=[],o=0;12>o;o++)a.push('<option value="'+(n===r?o-e:12+o-e)+'"'+(o===i?" selected":"")+(h&&o<c.minMonth||f&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],s=c.yearRange[1]+1):(o=n-c.yearRange,s=1+n+c.yearRange),a=[];s>o&&o<=c.maxYear;o++)o>=c.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,h&&(0===i||c.minMonth>=i)&&(g=!1),f&&(11===i||c.maxMonth<=i)&&(m=!1),0===e&&(p+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},k=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+R(t)+E(e)+"</table>"},O=function(s){var a=this,l=a.config(s);a._onMouseDown=function(t){if(a._v){t=t||window.event;var e=t.target||t.srcElement;if(e)if(u(e,"is-disabled")||(u(e,"pika-button")&&!u(e,"is-empty")?(a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),l.bound&&r(function(){a.hide(),l.field&&l.field.blur()},100)):u(e,"pika-prev")?a.prevMonth():u(e,"pika-next")&&a.nextMonth()),u(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},a._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?a.gotoMonth(e.value):u(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(e?(i=t(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),f(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=i.activeElement;do if(u(t,"pika-single"))return;while(t=t.parentNode);a._c||(a._b=r(function(){a.hide()},50)),a._c=!1},a._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,i=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",a._onChange)));do if(u(i,"pika-single")||i===l.trigger)return;while(i=i.parentNode);a._v&&e!==l.trigger&&i!==l.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?i.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),o(l.field,"change",a._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",o(l.trigger,"click",a._onInputClick),o(l.trigger,"focus",a._onInputFocus),o(l.trigger,"blur",a._onInputBlur)):this.show()};return O.prototype={config:function(t){this._o||(this._o=w({},b,!0));var e=w(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),d(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||b.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return f(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>t?t=n:f(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=r<n.getTime()||i.getTime()<r}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=_(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=_({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth(),this.draw()},setMaxDate:function(t){v(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth(),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,i=e.maxYear,o=e.minMonth,s=e.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<e.numberOfMonths;l++)a+='<div class="pika-lendar">'+M(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&r(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;r(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var t,e,n,r,o,s,a,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=t.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth),(this._o.reposition&&u+r>s+a||this._o.position.indexOf("top")>-1&&u-r-t.offsetHeight>0)&&(u=u-r-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(t,e){var n=this._o,i=new Date,r=m(t,e),o=new Date(t,e,1).getDay(),s=[],a=[];v(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=r+o,u=l;u>7;)u-=7;l+=7-u;for(var c=0,h=0;l>c;c++){var d=new Date(t,e,1+(c-o)),g=f(this._d)?y(d,this._d):!1,w=y(d,i),_=o>c||c>=r+o,b=n.startRange&&y(n.startRange,d),C=n.endRange&&y(n.endRange,d),E=n.startRange&&n.endRange&&n.startRange<d&&d<n.endRange,R=n.minDate&&d<n.minDate||n.maxDate&&d>n.maxDate||n.disableWeekends&&p(d)||n.disableDayFn&&n.disableDayFn(d),M={day:1+(c-o),month:e,year:t,isSelected:g,isToday:w,isDisabled:R,isEmpty:_,isStartRange:b,isEndRange:C,isInRange:E};a.push(T(M)),7===++h&&(n.showWeekNumber&&a.unshift(x(c-o,e,t)),s.push(S(a,n.isRTL)),a=[],h=0)}return k(n,s)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O})},{moment:"moment"}],zeroclipboard:[function(t,n,i){!function(t,i){"use strict";var r,o,s,a=t,l=a.document,u=a.navigator,c=a.setTimeout,h=a.clearTimeout,d=a.setInterval,f=a.clearInterval,p=a.getComputedStyle,g=a.encodeURIComponent,m=a.ActiveXObject,v=a.Error,y=a.Number.parseInt||a.parseInt,w=a.Number.parseFloat||a.parseFloat,_=a.Number.isNaN||a.isNaN,b=a.Date.now,C=a.Object.keys,T=a.Object.defineProperty,x=a.Object.prototype.hasOwnProperty,S=a.Array.prototype.slice,E=function(){var t=function(t){return t};if("function"==typeof a.wrap&&"function"==typeof a.unwrap)try{var e=l.createElement("div"),n=a.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=a.unwrap)}catch(i){}return t}(),R=function(t){return S.call(t,0)},M=function(){var t,e,n,r,o,s,a=R(arguments),l=a[0]||{};for(t=1,e=a.length;e>t;t++)if(null!=(n=a[t]))for(r in n)x.call(n,r)&&(o=l[r],s=n[r],l!==s&&s!==i&&(l[r]=s));return l},k=function(t){var e,n,i,r;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,i=t.length;i>n;n++)x.call(t,n)&&(e[n]=k(t[n]));else{e={};for(r in t)x.call(t,r)&&(e[r]=k(t[r]))}return e},O=function(t,e){for(var n={},i=0,r=e.length;r>i;i++)e[i]in t&&(n[e[i]]=t[e[i]]);return n},A=function(t,e){var n={};for(var i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n},N=function(t){if(t)for(var e in t)x.call(t,e)&&delete t[e];return t},P=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},D=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},L=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},H=function(){var t,e;try{throw new v}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||L(e.stack)),t},I=function(){var t,e,n;if(l.currentScript&&(t=l.currentScript.src))return t;if(e=l.getElementsByTagName("script"),1===e.length)return e[0].src||i;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;return"loading"===l.readyState&&(t=e[e.length-1].src)?t:(t=H())?t:i},F=function(){var t,e,n,r=l.getElementsByTagName("script");for(t=r.length;t--;){if(!(n=r[t].src)){e=null;break}if(n=D(n),null==e)e=n;else if(e!==n){e=null;break}}return e||i},W=function(){var t=D(I())||F()||"";return t+"ZeroClipboard.swf"},j=function(){return null==t.opener&&(!!t.top&&t!=t.top||!!t.parent&&t!=t.parent)}(),B={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",V={},U={},Y=null,G=0,X=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},$=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],K=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],Z=new RegExp("^flash-("+K.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Q=new RegExp("^flash-("+K.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),J={swfPath:W(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},tt=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(x.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))J[e]=t[e];else if(null==B.bridge)if("containerId"===e||"swfObjectId"===e){if(!gt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");J[e]=t[e]}else J[e]=t[e];{if("string"!=typeof t||!t)return k(J);if(x.call(J,t))return J[t]}},et=function(){return Xt(),{browser:O(u,["userAgent","platform","appName"]),flash:A(B,["bridge"]),zeroclipboard:{version:$t.version,config:$t.config()}}},nt=function(){return!!(B.disabled||B.outdated||B.sandboxed||B.unavailable||B.degraded||B.deactivated)},it=function(t,e){var n,o,s,a={};if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&$t.on(n,t[n]);if(s&&s.length){for(n=0,o=s.length;o>n;n++)t=s[n].replace(/^on/,""),a[t]=!0,V[t]||(V[t]=[]),V[t].push(e);if(a.ready&&B.ready&&$t.emit({type:"ready"}),a.error){for(n=0,o=K.length;o>n;n++)if(B[K[n].replace(/^flash-/,"")]===!0){$t.emit({type:"error",name:K[n]});break}r!==i&&$t.version!==r&&$t.emit({type:"error",name:"version-mismatch",jsVersion:$t.version,swfVersion:r})}}return $t},rt=function(t,e){var n,i,r,o,s;if(0===arguments.length)o=C(V);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&$t.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),s=V[t],s&&s.length)if(e)for(r=s.indexOf(e);-1!==r;)s.splice(r,1),r=s.indexOf(e,r);else s.length=0;return $t},ot=function(t){var e;return e="string"==typeof t&&t?k(V[t])||null:k(V)},st=function(t){var e,n,i;return t=mt(t),t&&!Tt(t)?"ready"===t.type&&B.overdue===!0?$t.emit({type:"error",name:"flash-overdue"}):(e=M({},t),bt.call(this,e),"copy"===t.type&&(i=At(U),n=i.data,Y=i.formatMap),n):void 0},at=function(){
var t=B.sandboxed;if(Xt(),"boolean"!=typeof B.ready&&(B.ready=!1),B.sandboxed!==t&&B.sandboxed===!0)B.ready=!1,$t.emit({type:"error",name:"flash-sandboxed"});else if(!$t.isFlashUnusable()&&null===B.bridge){var e=J.flashLoadTimeout;"number"==typeof e&&e>=0&&(G=c(function(){"boolean"!=typeof B.deactivated&&(B.deactivated=!0),B.deactivated===!0&&$t.emit({type:"error",name:"flash-deactivated"})},e)),B.overdue=!1,kt()}},lt=function(){$t.clearData(),$t.blur(),$t.emit("destroy"),Ot(),$t.off()},ut=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,$t.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var i in n)"string"==typeof i&&i&&x.call(n,i)&&"string"==typeof n[i]&&n[i]&&(U[i]=n[i])},ct=function(t){"undefined"==typeof t?(N(U),Y=null):"string"==typeof t&&x.call(U,t)&&delete U[t]},ht=function(t){return"undefined"==typeof t?k(U):"string"==typeof t&&x.call(U,t)?U[t]:void 0},dt=function(t){if(t&&1===t.nodeType){o&&(Wt(o,J.activeClass),o!==t&&Wt(o,J.hoverClass)),o=t,Ft(t,J.hoverClass);var e=t.getAttribute("title")||J.title;if("string"==typeof e&&e){var n=Mt(B.bridge);n&&n.setAttribute("title",e)}var i=J.forceHandCursor===!0||"pointer"===jt(t,"cursor");Yt(i),Ut()}},ft=function(){var t=Mt(B.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),o&&(Wt(o,J.hoverClass),Wt(o,J.activeClass),o=null)},pt=function(){return o||null},gt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},mt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=s),M(t,{type:e,target:t.target||o||null,relatedTarget:t.relatedTarget||null,currentTarget:B&&B.bridge||null,timeStamp:t.timeStamp||b()||null});var n=q[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&M(t,{target:null,version:B.version}),"error"===t.type&&(Z.test(t.name)&&M(t,{target:null,minimumVersion:z}),Q.test(t.name)&&M(t,{version:B.version})),"copy"===t.type&&(t.clipboardData={setData:$t.setData,clearData:$t.clearData}),"aftercopy"===t.type&&(t=Nt(t,Y)),t.target&&!t.relatedTarget&&(t.relatedTarget=vt(t.target)),yt(t)}},vt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?l.getElementById(e):null},yt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var e=t.target,n="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:i,r="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:i,o=Bt(e),s=a.screenLeft||a.screenX||0,u=a.screenTop||a.screenY||0,c=l.body.scrollLeft+l.documentElement.scrollLeft,h=l.body.scrollTop+l.documentElement.scrollTop,d=o.left+("number"==typeof t._stageX?t._stageX:0),f=o.top+("number"==typeof t._stageY?t._stageY:0),p=d-c,g=f-h,m=s+p,v=u+g,y="number"==typeof t.movementX?t.movementX:0,w="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,M(t,{srcElement:e,fromElement:n,toElement:r,screenX:m,screenY:v,pageX:d,pageY:f,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:w,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},wt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},_t=function(t,e,n,i){i?c(function(){t.apply(e,n)},0):t.apply(e,n)},bt=function(t){if("object"==typeof t&&t&&t.type){var e=wt(t),n=V["*"]||[],i=V[t.type]||[],r=n.concat(i);if(r&&r.length){var o,s,l,u,c,h=this;for(o=0,s=r.length;s>o;o++)l=r[o],u=h,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=M({},t),_t(l,u,[c],e))}return this}},Ct=function(t){var e=null;return(j===!1||t&&"error"===t.type&&t.name&&-1!==$.indexOf(t.name))&&(e=!1),e},Tt=function(t){var e=t.target||o||null,n="swf"===t._source;switch(delete t._source,t.type){case"error":var i="flash-sandboxed"===t.name||Ct(t);"boolean"==typeof i&&(B.sandboxed=i),-1!==K.indexOf(t.name)?M(B,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(r=t.swfVersion,M(B,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Vt();break;case"ready":r=t.swfVersion;var a=B.deactivated===!0;M(B,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),Vt();break;case"beforecopy":s=e;break;case"copy":var l,u,c=t.relatedTarget;!U["text/html"]&&!U["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),u!==l&&t.clipboardData.setData("text/html",u)):!U["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":xt(t),$t.clearData(),e&&e!==It()&&e.focus&&e.focus();break;case"_mouseover":$t.focus(e),J.bubbleEvents===!0&&n&&(e&&e!==t.relatedTarget&&!P(t.relatedTarget,e)&&St(M({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),St(M({},t,{type:"mouseover"})));break;case"_mouseout":$t.blur(),J.bubbleEvents===!0&&n&&(e&&e!==t.relatedTarget&&!P(t.relatedTarget,e)&&St(M({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),St(M({},t,{type:"mouseout"})));break;case"_mousedown":Ft(e,J.activeClass),J.bubbleEvents===!0&&n&&St(M({},t,{type:t.type.slice(1)}));break;case"_mouseup":Wt(e,J.activeClass),J.bubbleEvents===!0&&n&&St(M({},t,{type:t.type.slice(1)}));break;case"_click":s=null,J.bubbleEvents===!0&&n&&St(M({},t,{type:t.type.slice(1)}));break;case"_mousemove":J.bubbleEvents===!0&&n&&St(M({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},xt=function(t){if(t.errors&&t.errors.length>0){var e=k(t);M(e,{type:"error",name:"clipboard-error"}),delete e.success,c(function(){$t.emit(e)},0)}},St=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,i=n&&n.ownerDocument||l,r={view:i.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:i.createEvent?0:1},o=M(r,t);n&&i.createEvent&&n.dispatchEvent&&(o=[o.type,o.canBubble,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget],e=i.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,o),e._source="js",n.dispatchEvent(e)))}},Et=function(){var t=J.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=J.swfObjectId+"_fallbackContent";X=d(function(){var t=l.getElementById(n);zt(t)&&(Vt(),B.deactivated=null,$t.emit({type:"error",name:"swf-not-found"}))},e)}},Rt=function(){var t=l.createElement("div");return t.id=J.containerId,t.className=J.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+Gt(J.zIndex),t},Mt=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},kt=function(){var t,e=B.bridge,n=Mt(e);if(!e){var i=Ht(a.location.host,J),r="never"===i?"none":"all",o=Dt(M({jsVersion:$t.version},J)),s=J.swfPath+Pt(J.swfPath,J);n=Rt();var u=l.createElement("div");n.appendChild(u),l.body.appendChild(n);var c=l.createElement("div"),h="activex"===B.pluginType;c.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(h?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+o+'"/><div id="'+J.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,E(e).ZeroClipboard=$t,n.replaceChild(e,u),Et()}return e||(e=l[J.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),B.bridge=e||null,e},Ot=function(){var t=B.bridge;if(t){var e=Mt(t);e&&("activex"===B.pluginType&&"readyState"in t?(t.style.display="none",function n(){if(4===t.readyState){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e)}else c(n,10)}()):(t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e))),Vt(),B.ready=null,B.bridge=null,B.deactivated=null,r=i}},At=function(t){var e={},n={};if("object"==typeof t&&t){for(var i in t)if(i&&x.call(t,i)&&"string"==typeof t[i]&&t[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[i],n.rtf=i}return{data:e,formatMap:n}}},Nt=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var i in t)if(x.call(t,i))if("errors"===i){n[i]=t[i]?t[i].slice():[];for(var r=0,o=n[i].length;o>r;r++)n[i][r].format=e[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=t[i];else{n[i]={};var s=t[i];for(var a in s)a&&x.call(s,a)&&x.call(e,a)&&(n[i][e[a]]=s[a])}return n},Pt=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+b():""},Dt=function(t){var e,n,i,r,o="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?r=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=t.trustedDomains)),r&&r.length)for(e=0,n=r.length;n>e;e++)if(x.call(r,e)&&r[e]&&"string"==typeof r[e]){if(i=Lt(r[e]),!i)continue;if("*"===i){s.length=0,s.push(i);break}s.push.apply(s,[i,"//"+i,a.location.protocol+"//"+i])}return s.length&&(o+="trustedOrigins="+g(s.join(","))),t.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+g(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(o+=(o?"&":"")+"jsVersion="+g(t.jsVersion)),o},Lt=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Ht=function(){var t=function(t){var e,n,i,r=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return r;for(e=0,n=t.length;n>e;e++)if(x.call(t,e)&&(i=Lt(t[e]))){if("*"===i){r.length=0,r.push("*");break}-1===r.indexOf(i)&&r.push(i)}return r};return function(e,n){var i=Lt(n.swfPath);null===i&&(i=e);var r=t(n.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(-1!==r.indexOf(e))return 1===o&&e===i?"sameDomain":"always"}return"never"}}(),It=function(){try{return l.activeElement}catch(t){return null}},Ft=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList)for(n=0,i=o.length;i>n;n++)t.classList.add(o[n]);else if(t.hasOwnProperty("className")){for(r=" "+t.className+" ",n=0,i=o.length;i>n;n++)-1===r.indexOf(" "+o[n]+" ")&&(r+=o[n]+" ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},Wt=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList&&t.classList.length>0)for(n=0,i=o.length;i>n;n++)t.classList.remove(o[n]);else if(t.className){for(r=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,i=o.length;i>n;n++)r=r.replace(" "+o[n]+" "," ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},jt=function(t,e){var n=p(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Bt=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),i=a.pageXOffset,r=a.pageYOffset,o=l.documentElement.clientLeft||0,s=l.documentElement.clientTop||0,u=0,c=0;if("relative"===jt(l.body,"position")){var h=l.body.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect();u=h.left-d.left||0,c=h.top-d.top||0}e.left=n.left+i-o-u,e.top=n.top+r-s-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},zt=function(t){if(!t)return!1;var e=p(t,null),n=w(e.height)>0,i=w(e.width)>0,r=w(e.top)>=0,o=w(e.left)>=0,s=n&&i&&r&&o,a=s?null:Bt(t),l="none"!==e.display&&"collapse"!==e.visibility&&(s||!!a&&(n||a.height>0)&&(i||a.width>0)&&(r||a.top>=0)&&(o||a.left>=0));return l},Vt=function(){h(G),G=0,f(X),X=0},Ut=function(){var t;if(o&&(t=Mt(B.bridge))){var e=Bt(o);M(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+Gt(J.zIndex)})}},Yt=function(t){B.ready===!0&&(B.bridge&&"function"==typeof B.bridge.setHandCursor?B.bridge.setHandCursor(t):B.ready=!1)},Gt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||_(t)?"string"==typeof t&&(e=Gt(y(t,10))):e=t,"number"==typeof e?e:"auto"},Xt=function(e){var n,i,r,o=B.sandboxed,s=null;if(e=e===!0,j===!1)s=!1;else{try{i=t.frameElement||null}catch(a){r={name:a.name,message:a.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{s=i.hasAttribute("sandbox")}catch(a){s=null}else{try{n=document.domain||null}catch(a){n=null}(null===n||r&&"SecurityError"===r.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase()))&&(s=!0)}}return B.sandboxed=s,o===s||e||qt(m),s},qt=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function i(t){t&&(a=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var r,o,s,a=!1,l=!1,c=!1,h="";if(u.plugins&&u.plugins.length)r=u.plugins["Shockwave Flash"],i(r),u.plugins["Shockwave Flash 2.0"]&&(a=!0,h="2.0.0.11");else if(u.mimeTypes&&u.mimeTypes.length)s=u.mimeTypes["application/x-shockwave-flash"],r=s&&s.enabledPlugin,i(r);else if("undefined"!=typeof t){l=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),a=!0,h=e(o.GetVariable("$version"))}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),a=!0,h="6.0.21"}catch(f){try{o=new t("ShockwaveFlash.ShockwaveFlash"),a=!0,h=e(o.GetVariable("$version"))}catch(p){l=!1}}}}B.disabled=a!==!0,B.outdated=h&&w(h)<w(z),B.version=h||"0.0.0",B.pluginType=c?"pepper":l?"activex":a?"netscape":"unknown"};qt(m),Xt(!0);var $t=function(){return this instanceof $t?void("function"==typeof $t._createClient&&$t._createClient.apply(this,R(arguments))):new $t};T($t,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),$t.config=function(){return tt.apply(this,R(arguments))},$t.state=function(){return et.apply(this,R(arguments))},$t.isFlashUnusable=function(){return nt.apply(this,R(arguments))},$t.on=function(){return it.apply(this,R(arguments))},$t.off=function(){return rt.apply(this,R(arguments))},$t.handlers=function(){return ot.apply(this,R(arguments))},$t.emit=function(){return st.apply(this,R(arguments))},$t.create=function(){return at.apply(this,R(arguments))},$t.destroy=function(){return lt.apply(this,R(arguments))},$t.setData=function(){return ut.apply(this,R(arguments))},$t.clearData=function(){return ct.apply(this,R(arguments))},$t.getData=function(){return ht.apply(this,R(arguments))},$t.focus=$t.activate=function(){return dt.apply(this,R(arguments))},$t.blur=$t.deactivate=function(){return ft.apply(this,R(arguments))},$t.activeElement=function(){return pt.apply(this,R(arguments))};var Kt=0,Zt={},Qt=0,Jt={},te={};M(J,{autoActivate:!0});var ee=function(t){var e=this;e.id=""+Kt++,Zt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),$t.on("*",function(t){return e.emit(t)}),$t.on("destroy",function(){e.destroy()}),$t.create()},ne=function(t,e){var n,o,s,a={},l=Zt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.on(n,t[n]);if(s&&s.length){for(n=0,o=s.length;o>n;n++)t=s[n].replace(/^on/,""),a[t]=!0,u[t]||(u[t]=[]),u[t].push(e);if(a.ready&&B.ready&&this.emit({type:"ready",client:this}),a.error){for(n=0,o=K.length;o>n;n++)if(B[K[n].replace(/^flash-/,"")]){this.emit({type:"error",name:K[n],client:this});break}r!==i&&$t.version!==r&&this.emit({type:"error",name:"version-mismatch",jsVersion:$t.version,swfVersion:r})}}return this},ie=function(t,e){var n,i,r,o,s,a=Zt[this.id],l=a&&a.handlers;if(!l)return this;if(0===arguments.length)o=C(l);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),s=l[t],s&&s.length)if(e)for(r=s.indexOf(e);-1!==r;)s.splice(r,1),r=s.indexOf(e,r);else s.length=0;return this},re=function(t){var e=null,n=Zt[this.id]&&Zt[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:k(n)),e},oe=function(t){if(ce.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=M({},t));var e=M({},mt(t),{client:this});he.call(this,e)}return this},se=function(t){if(!Zt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=de(t);for(var e=0;e<t.length;e++)if(x.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Jt[t[e].zcClippingId].indexOf(this.id)&&Jt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Qt++,Jt[t[e].zcClippingId]=[this.id],J.autoActivate===!0&&fe(t[e]));var n=Zt[this.id]&&Zt[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},ae=function(t){var e=Zt[this.id];if(!e)return this;var n,i=e.elements;t="undefined"==typeof t?i.slice(0):de(t);for(var r=t.length;r--;)if(x.call(t,r)&&t[r]&&1===t[r].nodeType){for(n=0;-1!==(n=i.indexOf(t[r],n));)i.splice(n,1);var o=Jt[t[r].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(J.autoActivate===!0&&pe(t[r]),delete t[r].zcClippingId)}}return this},le=function(){var t=Zt[this.id];return t&&t.elements?t.elements.slice(0):[]},ue=function(){Zt[this.id]&&(this.unclip(),this.off(),delete Zt[this.id])},ce=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Zt[this.id],n=e&&e.elements,i=!!n&&n.length>0,r=!t.target||i&&-1!==n.indexOf(t.target),o=t.relatedTarget&&i&&-1!==n.indexOf(t.relatedTarget),s=t.client&&t.client===this;return!(!e||!(r||o||s))},he=function(t){var e=Zt[this.id];if("object"==typeof t&&t&&t.type&&e){var n=wt(t),i=e&&e.handlers["*"]||[],r=e&&e.handlers[t.type]||[],o=i.concat(r);if(o&&o.length){var s,l,u,c,h,d=this;for(s=0,l=o.length;l>s;s++)u=o[s],c=d,"string"==typeof u&&"function"==typeof a[u]&&(u=a[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=M({},t),_t(u,c,[h],n))}}},de=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},fe=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=a.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=a.event))&&(e(n),$t.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),te[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},pe=function(t){if(t&&1===t.nodeType){var e=te[t.zcClippingId];if("object"==typeof e&&e){for(var n,i,r=["move","leave","enter","out","over"],o=0,s=r.length;s>o;o++)n="mouse"+r[o],i=e[n],"function"==typeof i&&t.removeEventListener(n,i,!1);delete te[t.zcClippingId]}}};$t._createClient=function(){ee.apply(this,R(arguments))},$t.prototype.on=function(){return ne.apply(this,R(arguments))},$t.prototype.off=function(){return ie.apply(this,R(arguments))},$t.prototype.handlers=function(){return re.apply(this,R(arguments))},$t.prototype.emit=function(){return oe.apply(this,R(arguments))},$t.prototype.clip=function(){return se.apply(this,R(arguments))},$t.prototype.unclip=function(){return ae.apply(this,R(arguments))},$t.prototype.elements=function(){return le.apply(this,R(arguments))},$t.prototype.destroy=function(){return ue.apply(this,R(arguments))},$t.prototype.setText=function(t){if(!Zt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return $t.setData("text/plain",t),this},$t.prototype.setHtml=function(t){if(!Zt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return $t.setData("text/html",t),this},$t.prototype.setRichText=function(t){if(!Zt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return $t.setData("application/rtf",t),this},$t.prototype.setData=function(){if(!Zt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return $t.setData.apply(this,R(arguments)),this},$t.prototype.clearData=function(){if(!Zt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return $t.clearData.apply(this,R(arguments)),this},$t.prototype.getData=function(){if(!Zt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return $t.getData.apply(this,R(arguments))},"function"==typeof e&&e.amd?e(function(){return $t}):"object"==typeof n&&n&&"object"==typeof n.exports&&n.exports?n.exports=$t:t.ZeroClipboard=$t}(function(){return this||window}())},{}]},{},[23,61,63,62,64,85,86,87,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,88,89,90,91,105,106,107,108,94,95,96,97,98,99,31,35,32,33,40,34,36,37,38,39])(23)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"jquery.classygradient":[function(t,e,n){!function(t){t.ClassyGradient=function(e,n){var i,r,o,s,a,l,u,c,h,d,f,p={gradient:'0% #F1b916,100% #9d6126"',width:300,height:18,point:8,orientation:"vertical",target:"",tooltip:"0% #feffff,100% #ededed",onChange:function(){},onInit:function(){}},g=this,m=t(e),e=e,v=new Array;g.settings={},g.__constructor=function(){g.settings=t.extend({},p,n),g.update(),g.settings.onInit()},g.update=function(){y(),w(),_()},g.getCSS=function(){var e="",n="0%",i="100%",r="left bottom",o="top",s="0";"horizontal"==g.settings.orientation&&(n="100%",i="0%",r="right top",o="left",s="1");var a='<svg xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="gradient" x1="0%" y1="0%" x2="'+n+'" y2="'+i+'">',l=("progid:DXImageTransform.Microsoft.gradient( startColorstr='"+v[0][1]+"', endColorstr='"+v[v.length-1][1]+"',GradientType="+s+")","-webkit-gradient(linear, left top, "+r),u="";return t.each(v,function(t,e){l+=", color-stop("+e[0]+", "+e[1]+")",u+=","+e[1]+" "+e[0],a+='<stop offset="'+e[0]+'" style="stop-color:'+e[1]+';" />'}),l+=")",u=u.substr(1),a+='</linearGradient></defs><rect fill="url(#gradient)" height="100%" width="100%" /></svg>',a=O(a),e+="background: url(data:image/svg+xml;base64,"+a+");\n",e+="background: "+l+";\n",e+="background: -moz-linear-gradient("+o+","+u+");\n",e+="background: -webkit-linear-gradient("+o+","+u+");\n",e+="background: -o-linear-gradient("+o+","+u+");\n",e+="background: -ms-linear-gradient("+o+","+u+");\n",e+="background: linear-gradient("+o+","+u+");"},g.getArray=function(){return v},g.getString=function(){var e="";return t.each(v,function(t,n){e+=n[0]+" "+n[1]+","}),e=e.substr(0,e.length-1)},g.setOrientation=function(t){g.settings.orientation=t,S()};var y=function(){v=new Array,v=t.isArray(g.settings.gradient)?g.settings.gradient:R(g.settings.gradient)},w=function(){m.html(""),i=t('<div class="ClassyGradient"></div>'),r=t('<canvas class="canvas" width="'+g.settings.width+'" height="'+g.settings.height+'"></canvas>'),i.append(r),h=r.get(0).getContext("2d"),o=t('<div class="points"></div>'),o.css("width",g.settings.width+Math.round(g.settings.point/2+1)+"px"),i.append(o),s=t('<div class="info"></div>'),s.append('<div class="arrow"></div>'),i.append(s),a=t('<div class="content"></div>'),s.append(a),f=R(g.settings.tooltip),x(a,f),a.css("color",g.settings.tooltipTextColor),s.find(".arrow").css("borderColor","transparent transparent "+f[0][1]+" transparent"),m.hover(function(){m.addClass("hover")},function(){m.removeClass("hover")}),l=t('<div class="point-color"><div style="background-color: #00ff00"></div></div>'),u=t('<span class="point-position">%</span>'),c=t('<a href="javascript:" class="delete"></a>'),a.append(l,u,c),m.append(i);var e=function(e){t(".point-color div").css("backgroundColor",e),d.css("backgroundColor",e),T(),S()};l.click(function(){return app.trigger("request-color",l,e),!1}),t(document).bind("click",function(){m.is(".hover")||s.hide("fast")}),r.unbind("click"),r.bind("click",function(e){var n=r.offset(),i=e.pageX-n.left;i=Math.round(100*i/g.settings.width);var s="#000000",a=999999999999;t.each(v,function(t,e){parseInt(e[0])<i&&i-parseInt(e[0])<a?(a=i-parseInt(e[0]),s=e[1]):parseInt(e[0])>i&&parseInt(e[0])-i<a&&(a=parseInt(e[0])-i,s=e[1])}),v.push([i+"%",s]),v.sort(k),_(),t.each(v,function(t,e){e[0]==i+"%"&&C(o.find(".point:eq("+t+")"))})})},_=function(){b(),T(),S()},b=function(){o.html(""),t.each(v,function(t,e){o.append('<div class="point" style="background-color: '+e[1]+"; left:"+parseInt(e[0])*g.settings.width/100+"px; top:-"+t*(g.settings.point+2)+'px"><div class="arrow"></div></div>')}),o.find(".point").css("width",g.settings.point+"px"),o.find(".point").css("height",g.settings.point+"px"),o.find(".point").mouseup(function(){C(this)}),o.find(".point").draggable({axis:"x",containment:"parent",drag:function(){C(this),T(),S()}})},C=function(e){d=t(e);var n=t(e).css("backgroundColor"),i=parseInt(t(e).css("left"));i=Math.round(i/g.settings.width*100),n=n.substr(4,n.length),n=n.substr(0,n.length-1),l.ColorPickerSetColor(M(n.split(","))),l.find("div").css("backgroundColor",M(n.split(","))),u.html("Position: "+i+"%"),c.unbind("click"),c.bind("click",function(){v.length>1&&(v.splice(d.index(),1),_(),m.find(".info").hide("fast"))});var r=parseInt(t(e).css("left"))-30;m.find(".info").css("marginLeft",r+"px"),m.find(".info").show("fast")},T=function(){v=new Array,m.find(".point").each(function(e,n){var i=Math.round(parseInt(t(n).css("left"))/g.settings.width*100),r=t(n).css("backgroundColor").substr(4,t(n).css("backgroundColor").length-5);r=M(r.split(",")),v.push([i+"%",r])}),v.sort(k),E(),g.settings.onChange(g.getString(),g.getCSS(),g.getArray())},x=function(e,n){var i="0%",o="100%",s="left bottom",l="top",u="0";e!=r&&"horizontal"!=g.settings.orientation||(i="100%",o="0%",s="right top",l="left",u="1");var c='<svg xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="gradient" x1="0%" y1="0%" x2="'+i+'" y2="'+o+'">',h=("progid:DXImageTransform.Microsoft.gradient( startColorstr='"+n[0][1]+"', endColorstr='"+n[n.length-1][1]+"',GradientType="+u+")","-webkit-gradient(linear, left top, "+s),d="";if(t.each(n,function(t,e){h+=", color-stop("+e[0]+", "+e[1]+")",d+=","+e[1]+" "+e[0],c+='<stop offset="'+e[0]+'" style="stop-color:'+e[1]+';" />'}),h+=")",d=d.substr(1),c+="</linearGradient></defs>",e==a){var f=parseInt(a.css("borderRadius"));c+='<rect fill="url(#gradient)" height="100%" width="100%" rx="'+f+'" ry="'+f+'" />'}else c+='<rect fill="url(#gradient)" height="100%" width="100%" />';c+="</svg>",c=O(c),e.css("background","url(data:image/svg+xml;base64,"+c+")"),e.css("background",h),e.css("background","-moz-linear-gradient("+l+","+d+")"),e.css("background","-webkit-linear-gradient("+l+","+d+")"),e.css("background","-o-linear-gradient("+l+","+d+")"),e.css("background","-ms-linear-gradient("+l+","+d+")"),e.css("background","linear-gradient("+l+","+d+")")},S=function(){if(""!=g.settings.target){var e=t(g.settings.target);x(e,v)}},E=function(){var e=h.createLinearGradient(0,0,g.settings.width,0);t.each(v,function(t,n){e.addColorStop(parseInt(n[0])/100,n[1])}),h.clearRect(0,0,g.settings.width,g.settings.height),h.fillStyle=e,h.fillRect(0,0,g.settings.width,g.settings.height),g.settings.onChange(g.getString(),g.getCSS(),g.getArray())},R=function(e){var n=new Array,i=e.split(",");return t.each(i,function(t,e){var i;"100"==e.substr(e.indexOf("%")-3,e.indexOf("%"))||"100%"==e.substr(e.indexOf("%")-3,e.indexOf("%"))?i="100%":e.indexOf("%")>1?(i=parseInt(e.substr(e.indexOf("%")-2,e.indexOf("%"))),i+="%"):(i=parseInt(e.substr(e.indexOf("%")-1,e.indexOf("%"))),i+="%");var r=e.substr(e.indexOf("#"),7);n.push([i,r])}),n},M=function(t){function e(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))}var n=t[0],i=t[1],r=t[2];return"#"+e(n)+e(i)+e(r)},k=function(t,e){return parseInt(t[0])<parseInt(e[0])?-1:parseInt(t[0])>parseInt(e[0])?1:0},O=function(t){for(var e,n,i,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c++),r=e>>2,o=(3&e)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),u+=l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a);return u};g.__constructor()},t.fn.ClassyGradient=function(e){return this.each(function(){if(void 0==t(this).data("ClassyGradient")){var n=new t.ClassyGradient(this,e);t(this).data("ClassyGradient",n)}})}}(jQuery)},{}],"jquery.colorpicker":[function(t,e,n){!function(t){var e=function(){var e=65,n='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',i={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},r=function(e,n){var i=I(e);t(n).data("colorpicker").fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},o=function(e,n){t(n).data("colorpicker").fields.eq(4).val(e.h).end().eq(5).val(e.s).end().eq(6).val(e.b).end()},s=function(e,n){t(n).data("colorpicker").fields.eq(0).val(W(e)).end()},a=function(e,n){t(n).data("colorpicker").selector.css("backgroundColor","#"+W({h:e.h,s:100,b:100})),t(n).data("colorpicker").selectorIndic.css({left:parseInt(150*e.s/100,10),top:parseInt(150*(100-e.b)/100,10)})},l=function(e,n){t(n).data("colorpicker").hue.css("top",parseInt(150-150*e.h/360,10));
},u=function(e,n){t(n).data("colorpicker").currentColor.css("backgroundColor","#"+W(e))},c=function(e,n){t(n).data("colorpicker").newColor.css("backgroundColor","#"+W(e))},h=function(n){var i=n.charCode||n.keyCode||-1;if(i>e&&90>=i||32==i)return!1;var r=t(this).parent().parent();r.data("colorpicker").livePreview===!0&&d.apply(this)},d=function(e){var n,i=t(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?i.data("colorpicker").color=n=L(P(this.value)):this.parentNode.className.indexOf("_hsb")>0?i.data("colorpicker").color=n=A({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=n=H(N({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),e&&(r(n,i.get(0)),s(n,i.get(0)),o(n,i.get(0))),a(n,i.get(0)),l(n,i.get(0)),c(n,i.get(0)),i.data("colorpicker").onChange.apply(i,[n,W(n),I(n)])},f=function(e){var n=t(this).parent().parent();n.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},p=function(){e=this.parentNode.className.indexOf("_hex")>0?70:65,t(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),t(this).parent().addClass("colorpicker_focus")},g=function(e){var n=t(this).parent().find("input").focus(),i={el:t(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:e.pageY,field:n,val:parseInt(n.val(),10),preview:t(this).parent().parent().data("colorpicker").livePreview};t(document).bind("mouseup",i,v),t(document).bind("mousemove",i,m)},m=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val+t.pageY-t.data.y,10)))),t.data.preview&&d.apply(t.data.field.get(0),[!0]),!1},v=function(e){return d.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colorpicker_slider").find("input").focus(),t(document).unbind("mouseup",v),t(document).unbind("mousemove",m),!1},y=function(e){var n={cal:t(this).parent(),y:t(this).offset().top};n.preview=n.cal.data("colorpicker").livePreview,t(document).bind("mouseup",n,_),t(document).bind("mousemove",n,w)},w=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,t.pageY-t.data.y)))/150,10)).get(0),[t.data.preview]),!1},_=function(e){return r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",_),t(document).unbind("mousemove",w),!1},b=function(e){var n={cal:t(this).parent(),pos:t(this).offset()};n.preview=n.cal.data("colorpicker").livePreview,t(document).bind("mouseup",n,T),t(document).bind("mousemove",n,C)},C=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,t.pageY-t.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,t.pageX-t.data.pos.left))/150,10)).get(0),[t.data.preview]),!1},T=function(e){return r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",T),t(document).unbind("mousemove",C),!1},x=function(e){t(this).addClass("colorpicker_focus")},S=function(e){t(this).removeClass("colorpicker_focus")},E=function(e){var n=t(this).parent(),i=n.data("colorpicker").color;n.data("colorpicker").origColor=i,u(i,n.get(0)),n.data("colorpicker").onSubmit(i,W(i),I(i),n.data("colorpicker").el)},R=function(e){var n=t("#"+t(this).data("colorpickerId"));n.data("colorpicker").onBeforeShow.apply(this,[n.get(0)]);var i=t(this).offset(),r=O(),o=i.top+this.offsetHeight,s=i.left;return o+176>r.t+r.h&&(o-=this.offsetHeight+176),s+356>r.l+r.w&&(s-=356),n.css({left:s+"px",top:o+"px"}),0!=n.data("colorpicker").onShow.apply(this,[n.get(0)])&&n.show(),t(document).bind("mousedown",{cal:n},M),!1},M=function(e){k(e.data.cal.get(0),e.target,e.data.cal.get(0))||(0!=e.data.cal.data("colorpicker").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),t(document).unbind("mousedown",M))},k=function(t,e,n){if(t==e)return!0;if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(var i=e.parentNode;i&&i!=n;){if(i==t)return!0;i=i.parentNode}return!1},O=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(t?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(t?document.documentElement.clientHeight:document.body.clientHeight)}},A=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},N=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},P=function(t){var e=6-t.length;if(e>0){for(var n=[],i=0;e>i;i++)n.push("0");n.push(t),t=n.join("")}return t},D=function(t){var t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}},L=function(t){return H(D(t))},H=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;return e.b=i,e.s=0!=i?255*r/i:0,0!=e.s?t.r==i?e.h=(t.g-t.b)/r:t.g==i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},I=function(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0==i)e.r=e.g=e.b=r;else{var o=r,s=(255-i)*r/255,a=(o-s)*(n%60)/60;360==n&&(n=0),60>n?(e.r=o,e.b=s,e.g=s+a):120>n?(e.g=o,e.b=s,e.r=o-a):180>n?(e.g=o,e.r=s,e.b=s+a):240>n?(e.b=o,e.r=s,e.g=o-a):300>n?(e.b=o,e.g=s,e.r=s+a):360>n?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},F=function(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1==e.length&&(n[t]="0"+e)}),n.join("")},W=function(t){return F(I(t))},j=function(){var e=t(this).parent(),n=e.data("colorpicker").origColor;e.data("colorpicker").color=n,r(n,e.get(0)),s(n,e.get(0)),o(n,e.get(0)),a(n,e.get(0)),l(n,e.get(0)),c(n,e.get(0))};return{init:function(e){if(e=t.extend({},i,e||{}),"string"==typeof e.color)e.color=L(e.color);else if(void 0!=e.color.r&&void 0!=e.color.g&&void 0!=e.color.b)e.color=H(e.color);else{if(void 0==e.color.h||void 0==e.color.s||void 0==e.color.b)return this;e.color=A(e.color)}return this.each(function(){if(!t(this).data("colorpickerId")){var i=t.extend({},e);i.origColor=e.color;var m="collorpicker_"+parseInt(1e3*Math.random());t(this).data("colorpickerId",m);var v=t(n).attr("id",m);i.flat?v.appendTo(this).show():v.appendTo(document.body),i.fields=v.find("input").bind("keyup",h).bind("change",d).bind("blur",f).bind("focus",p),v.find("span").bind("mousedown",g).end().find(">div.colorpicker_current_color").bind("click",j),i.selector=v.find("div.colorpicker_color").bind("mousedown",b),i.selectorIndic=i.selector.find("div div"),i.el=this,i.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",y),i.newColor=v.find("div.colorpicker_new_color"),i.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",i),v.find("div.colorpicker_submit").bind("mouseenter",x).bind("mouseleave",S).bind("click",E),r(i.color,v.get(0)),o(i.color,v.get(0)),s(i.color,v.get(0)),l(i.color,v.get(0)),a(i.color,v.get(0)),u(i.color,v.get(0)),c(i.color,v.get(0)),i.flat?v.css({position:"relative",display:"block"}):t(this).bind(i.eventName,R)}})},showPicker:function(){return this.each(function(){t(this).data("colorpickerId")&&R.apply(this)})},hidePicker:function(){return this.each(function(){t(this).data("colorpickerId")&&t("#"+t(this).data("colorpickerId")).hide()})},setColor:function(e){if("string"==typeof e)e=L(e);else if(void 0!=e.r&&void 0!=e.g&&void 0!=e.b)e=H(e);else{if(void 0==e.h||void 0==e.s||void 0==e.b)return this;e=A(e)}return this.each(function(){if(t(this).data("colorpickerId")){var n=t("#"+t(this).data("colorpickerId"));n.data("colorpicker").color=e,n.data("colorpicker").origColor=e,r(e,n.get(0)),o(e,n.get(0)),s(e,n.get(0)),l(e,n.get(0)),a(e,n.get(0)),u(e,n.get(0)),c(e,n.get(0))}})}}}();t.fn.extend({ColorPicker:e.init,ColorPickerHide:e.hidePicker,ColorPickerShow:e.showPicker,ColorPickerSetColor:e.setColor})}($)},{}],kdTree:[function(t,e,n){!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):e("object"==typeof n?n:t.commonJsStrict={})}(this,function(t){function e(t,e,n){this.obj=t,this.left=null,this.right=null,this.parent=n,this.dimension=e}function n(t,n,r){function o(t,n,i){var s,a,l=n%r.length;return 0===t.length?null:1===t.length?new e(t[0],l,i):(t.sort(function(t,e){return t[r[l]]-e[r[l]]}),s=Math.floor(t.length/2),a=new e(t[s],l,i),a.left=o(t.slice(0,s),n+1,a),a.right=o(t.slice(s+1),n+1,a),a)}function s(t){function e(t){t.left&&(t.left.parent=t,e(t.left)),t.right&&(t.right.parent=t,e(t.right))}a.root=t,e(a.root)}var a=this;Array.isArray(t)?this.root=o(t,0,null):s(t,n,r),this.toJSON=function(t){t||(t=this.root);var n=new e(t.obj,t.dimension,null);return t.left&&(n.left=a.toJSON(t.left)),t.right&&(n.right=a.toJSON(t.right)),n},this.insert=function(t){function n(e,i){if(null===e)return i;var o=r[e.dimension];return t[o]<e.obj[o]?n(e.left,e):n(e.right,e)}var i,o,s=n(this.root,null);return null===s?void(this.root=new e(t,0,null)):(i=new e(t,(s.dimension+1)%r.length,s),o=r[s.dimension],void(t[o]<s.obj[o]?s.left=i:s.right=i))},this.remove=function(t){function e(n){if(null===n)return null;if(n.obj===t)return n;var i=r[n.dimension];return t[i]<n.obj[i]?e(n.left,n):e(n.right,n)}function n(t){function e(t,n){var i,o,s,a,l;return null===t?null:(i=r[n],t.dimension===n?null!==t.left?e(t.left,n):t:(o=t.obj[i],s=e(t.left,n),a=e(t.right,n),l=t,null!==s&&s.obj[i]<o&&(l=s),null!==a&&a.obj[i]<l.obj[i]&&(l=a),l))}var i,o,s;return null===t.left&&null===t.right?null===t.parent?void(a.root=null):(s=r[t.parent.dimension],void(t.obj[s]<t.parent.obj[s]?t.parent.left=null:t.parent.right=null)):void(null!==t.right?(i=e(t.right,t.dimension),o=i.obj,n(i),t.obj=o):(i=e(t.left,t.dimension),o=i.obj,n(i),t.right=t.left,t.left=null,t.obj=o))}var i;i=e(a.root),null!==i&&n(i)},this.nearest=function(t,e,o){function s(i){function o(t,n){c.push([t,n]),c.size()>e&&c.pop()}var a,l,u,h,d=r[i.dimension],f=n(t,i.obj),p={};for(h=0;h<r.length;h+=1)h===i.dimension?p[r[h]]=t[r[h]]:p[r[h]]=i.obj[r[h]];return l=n(p,i.obj),null===i.right&&null===i.left?void((c.size()<e||f<c.peek()[1])&&o(i,f)):(a=null===i.right?i.left:null===i.left?i.right:t[d]<i.obj[d]?i.left:i.right,s(a),(c.size()<e||f<c.peek()[1])&&o(i,f),void((c.size()<e||Math.abs(l)<c.peek()[1])&&(u=a===i.left?i.right:i.left,null!==u&&s(u))))}var l,u,c;if(c=new i(function(t){return-t[1]}),o)for(l=0;e>l;l+=1)c.push([null,o]);for(a.root&&s(a.root),u=[],l=0;l<Math.min(e,c.content.length);l+=1)c.content[l][0]&&u.push([c.content[l][0].obj,c.content[l][1]]);return u},this.balanceFactor=function(){function t(e){return null===e?0:Math.max(t(e.left),t(e.right))+1}function e(t){return null===t?0:e(t.left)+e(t.right)+1}return t(a.root)/(Math.log(e(a.root))/Math.log(2))}}function i(t){this.content=[],this.scoreFunction=t}i.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},peek:function(){return this.content[0]},remove:function(t){for(var e=this.content.length,n=0;e>n;n++)if(this.content[n]==t){var i=this.content.pop();return void(n!=e-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t];t>0;){var n=Math.floor((t+1)/2)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},sinkDown:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r=2*(t+1),o=r-1,s=null;if(e>o){var a=this.content[o],l=this.scoreFunction(a);i>l&&(s=o)}if(e>r){var u=this.content[r],c=this.scoreFunction(u);(null==s?i:l)>c&&(s=r)}if(null==s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}},this.kdTree=n,t.kdTree=n,t.BinaryHeap=i})},{}],medium:[function(t,e,n){(function(n,i){"use strict";var r=t("rangy"),o=t("undo"),s=n.Key={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindowKey:92,select:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numLock:144,scrollLock:145,semiColon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222},a=function(){var t=function(e){var n,i,r,o=this,a=l.deepExtend({},t.defaultSettings),u=this.settings=l.deepExtend(a,e),c=new t.Cache,h=new t.Selection,d=new t.Action(this),f=new t.Cursor(this),p=new t.Undoable(this);for(r in a)a.hasOwnProperty(r)&&"object"!=typeof a[r]&&a.hasOwnProperty(r)&&u.element.getAttribute("data-medium-"+s)&&(i=u.element.getAttribute("data-medium-"+s),"false"!==i.toLowerCase()&&"true"!==i.toLowerCase()||(i="true"===i.toLowerCase()),u[r]=i);if(u.modifiers)for(r in u.modifiers)u.modifiers.hasOwnProperty(r)&&"undefined"!=typeof s[r]&&(u.modifiers[s[r]]=u.modifiers[r]);if(u.keyContext)for(r in u.keyContext)u.keyContext.hasOwnProperty(r)&&"undefined"!=typeof s[r]&&(u.keyContext[s[r]]=u.keyContext[r]);n=u.element,n.contentEditable=!0,n.className+=" "+u.cssClasses.editor+(" "+u.cssClasses.editor+"-"+u.mode),u.tags=u.tags||{},u.tags.outerLevel&&(u.tags.outerLevel=u.tags.outerLevel.concat([u.tags.paragraph,u.tags.horizontalRule])),this.settings=u,this.element=n,n.medium=this,this.action=d,this.cache=c,this.cursor=f,this.utils=l,this.selection=h,o.clean(),o.placeholders(),d.preserveElementFocus(),this.dirty=!1,this.undoable=p,this.makeUndoable=p.makeUndoable,u.drag&&(o.drag=new t.Drag(o),o.drag.setup()),d.setup(),c.initialized=!0,this.makeUndoable(!0)};return t.prototype={placeholders:function(){if(n.getComputedStyle){var e=this.settings,r=this.placeholder||(this.placeholder=i.createElement("div")),o=this.element,s=r.style,a=n.getComputedStyle(o,null),u=function(t){return a.getPropertyValue(t)},c=l.text(o),h=this.cursor,d=o.children.length,f=t.activeElement===o;if(o.placeholder=r,!f&&c.length<1&&2>d){if(o.placeHolderActive)return;o.innerHTML.match("<"+e.tags.paragraph)||(o.innerHTML=""),e.placeholder.length>0&&(r.setup||(r.setup=!0,s.background=u("background"),s.backgroundColor=u("background-color"),s.fontSize=u("font-size"),s.color=a.color,s.marginTop=u("margin-top"),s.marginBottom=u("margin-bottom"),s.marginLeft=u("margin-left"),s.marginRight=u("margin-right"),s.paddingTop=u("padding-top"),s.paddingBottom=u("padding-bottom"),s.paddingLeft=u("padding-left"),s.paddingRight=u("padding-right"),s.borderTopWidth=u("border-top-width"),s.borderTopColor=u("border-top-color"),s.borderTopStyle=u("border-top-style"),s.borderBottomWidth=u("border-bottom-width"),s.borderBottomColor=u("border-bottom-color"),s.borderBottomStyle=u("border-bottom-style"),s.borderLeftWidth=u("border-left-width"),s.borderLeftColor=u("border-left-color"),s.borderLeftStyle=u("border-left-style"),s.borderRightWidth=u("border-right-width"),s.borderRightColor=u("border-right-color"),s.borderRightStyle=u("border-right-style"),r.className=e.cssClasses.placeholder+" "+e.cssClasses.placeholder+"-"+e.mode,r.innerHTML="<div>"+e.placeholder+"</div>",o.parentNode.insertBefore(r,o)),o.className+=" "+e.cssClasses.clear,s.display="",s.minHeight=o.clientHeight+"px",s.minWidth=o.clientWidth+"px",e.mode!==t.inlineMode&&e.mode!==t.inlineRichMode&&(this.setupContents(),0===d&&o.firstChild&&h.set(this,0,o.firstChild))),o.placeHolderActive=!0}else o.placeHolderActive&&(o.placeHolderActive=!1,s.display="none",o.className=l.trim(o.className.replace(e.cssClasses.clear,"")),this.setupContents())}},clean:function(e){var r,o,s,a=this.settings,u=a.cssClasses.placeholder,c=(a.attributes||{}).remove||[],h=a.tags||{},d=h.outerLevel||null,f=h.innerLevel||null,p={},g={},m=(h.paragraph||"").toUpperCase();this.html;if(e=e||a.element,a.mode===t.inlineRichMode&&(d=a.tags.innerLevel),null!==d)for(s=0;s<d.length;s++)p[d[s].toUpperCase()]=!0;if(null!==f)for(s=0;s<f.length;s++)g[f[s].toUpperCase()]=!0;l.traverseAll(e,{element:function(t,e,a,h){var v,y=t.nodeName,w=!0;for(s=0;s<c.length;s++)r=c[s],t.hasAttribute(r)&&(v=t.getAttribute(r),v===u||v.match("medium-")||"class"!==r||t.removeAttribute(r));if((null!==d||null!==f)&&(1===a&&void 0!==p[y]?w=!1:a>1&&void 0!==g[y]&&(w=!1),w))if("block"===n.getComputedStyle(t,null).getPropertyValue("display")){if(m.length>0&&m!==y&&l.changeTag(t,m),a>1)for(;h.childNodes.length>e;)h.parentNode.insertBefore(h.lastChild,h.nextSibling)}else switch(y){case"BR":if(t===t.parentNode.lastChild){if(t===t.parentNode.firstChild)break;o=i.createTextNode(""),o.innerHTML="&nbsp",t.parentNode.insertBefore(o,t);break}default:for(;null!==t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);l.detachNode(t)}}})},insertHtml:function(e,n,i){var r=new t.Html(this,e).insert(this.settings.beforeInsertHtml),o=r[r.length-1];switch(i===!0&&l.triggerEvent(this.element,"change"),n&&n.apply(r),o.nodeName){case"UL":case"OL":case"DL":if(null!==o.lastChild){this.cursor.moveCursorToEnd(o.lastChild);break}default:this.cursor.moveCursorToEnd(o)}return this},addTag:function(t,e,n,r){if(!this.settings.beforeAddTag(t,e,n,r)){var o,s=i.createElement(t);return"undefined"!=typeof n&&n===!1&&(s.contentEditable=!1),0==s.innerHTML.length&&(s.innerHTML=" "),r&&r.nextSibling?(r.parentNode.insertBefore(s,r.nextSibling),o=r.nextSibling):(this.element.appendChild(s),o=this.lastChild()),e&&(this.cache.focusedElement=o,this.cursor.set(this,0,o)),s}return null},invokeElement:function(e,n,i){var r=this.settings,o=n.remove||[];switch(n=n||{},r.mode){case t.inlineMode:case t.partialMode:return this}return o.length>0&&(l.arrayContains(r,"class")||o.push("class")),new t.Element(this,e,n).invoke(this.settings.beforeInvokeElement),i===!0&&l.triggerEvent(this.element,"change"),this},value:function(t){return"undefined"==typeof t?this.element.innerHTML:(this.element.innerHTML=t,this.clean(),this.placeholders(),this.makeUndoable(),this)},focus:function(){var t=this.element;return t.focus(),this},select:function(){return l.selectNode(t.activeElement=this.element),this},isActive:function(){return t.activeElement===this.element},setupContents:function(){var e,n=this.element,r=n.children,o=n.childNodes,s=this.settings;return!s.tags.paragraph||r.length>0||s.mode===t.inlineMode||s.mode===t.inlineRichMode?t.Utilities:(o.length>0?(e=i.createElement(s.tags.paragraph),n.innerHTML.match("^[&]nbsp[;]")&&(n.innerHTML=n.innerHTML.substring(6,n.innerHTML.length-1)),e.innerHTML=n.innerHTML,n.innerHTML="",n.appendChild(e)):(e=i.createElement(s.tags.paragraph),e.innerHTML="&nbsp;",n.appendChild(e),this.cursor.set(this,0,n.firstChild)),this)},destroy:function(){var t=this.element,e=this.settings,n=this.placeholder||null;null!==n&&n.setup&&null!==n.parentNode&&(n.parentNode.removeChild(n),delete t.placeHolderActive),t.removeAttribute("contenteditable"),t.className=l.trim(t.className.replace(e.cssClasses.editor,"").replace(e.cssClasses.clear,"").replace(e.cssClasses.editor+"-"+e.mode,"")),this.action.destroy(),this.settings.drag&&this.drag.destroy()},clear:function(){this.element.innerHTML="",this.placeholders()},splitAtCaret:function(){if(!this.isActive())return null;var t,e=n.getSelection||i.selection,r=e(),o=r.focusOffset,s=r.focusNode,a=this.element,l=i.createRange(),u=i.createRange();return l.setStart(s,o),u.selectNodeContents(a),l.setEnd(u.endContainer,u.endOffset),t=l.extractContents()},deleteSelection:function(){if(this.isActive()){var t,e=r.getSelection();e.rangeCount>0&&(t=e.getRangeAt(0),t.deleteContents())}},lastChild:function(){return this.element.lastChild},bold:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"bold").setClean(!1).invoke(this.settings.beforeInvokeElement),this},underline:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"underline").setClean(!1).invoke(this.settings.beforeInvokeElement),this},italicize:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"italic").setClean(!1).invoke(this.settings.beforeInvokeElement),this},quote:function(){return this},paste:function(e){var n,i=this.value(),r=i.length,o=this.settings,s=this.selection,a=this.element,u=this,c=function(e){e=e||"",e.length>0&&(a.focus(),t.activeElement=a,s.restoreSelection(h),e=l.encodeHtml(e),n=e.length+r,o.maxLength>0&&n>o.maxLength&&(e=e.substring(0,o.maxLength-r)),o.mode!==t.inlineMode&&(e=e.replace(/\n/g,"<br>")),new t.Html(u,e).setClean(!1).insert(o.beforeInsertHtml,!0),u.clean(),u.placeholders())};if(u.makeUndoable(),void 0!==e)c(e);else if(o.pasteAsText){var h=s.saveSelection();l.pasteHook(this,c)}else setTimeout(function(){u.clean(),u.placeholders()},20);return!0},undo:function(){var t=this.undoable,e=t.stack,n=e.canUndo();return n&&e.undo(),this},redo:function(){var t=this.undoable,e=t.stack,n=e.canRedo();return n&&e.redo(),this}},t.inlineMode="inline",t.partialMode="partial",t.richMode="rich",t.inlineRichMode="inlineRich",t.Messages={pastHere:"Paste Here"},t.defaultSettings={element:null,modifier:"auto",placeholder:"",autofocus:!1,autoHR:!0,mode:t.richMode,maxLength:-1,modifiers:{b:"bold",i:"italicize",u:"underline"},tags:{"break":"br",horizontalRule:"hr",paragraph:"p",outerLevel:["pre","blockquote","figure"],innerLevel:["a","b","u","i","img","strong"]},cssClasses:{editor:"Medium",pasteHook:"Medium-paste-hook",placeholder:"Medium-placeholder",clear:"Medium-clear"},attributes:{remove:["style","class"]},pasteAsText:!0,beforeInvokeElement:function(){},beforeInsertHtml:function(){},maxLengthReached:function(t){},beforeAddTag:function(t,e,n,i){},onBlur:function(){},onFocus:function(){},keyContext:null,drag:!1},function(t,e,n){function i(t){return t.hasOwnProperty("target")&&"false"===t.target.getAttribute("contenteditable")?(l.preventDefaultEvent(t),!1):!0}t.Action=function(t){this.medium=t,this.handledEvents={keydown:null,keyup:null,blur:null,focus:null,paste:null,click:null}},t.Action.prototype={setup:function(){this.handleFocus().handleBlur().handleKeyDown().handleKeyUp().handlePaste().handleClick()},destroy:function(){var t=this.medium.element;l.removeEvent(t,"focus",this.handledEvents.focus).removeEvent(t,"blur",this.handledEvents.blur).removeEvent(t,"keydown",this.handledEvents.keydown).removeEvent(t,"keyup",this.handledEvents.keyup).removeEvent(t,"paste",this.handledEvents.paste).removeEvent(t,"click",this.handledEvents.click)},handleFocus:function(){var n=this.medium,r=n.element;return l.addEvent(r,"focus",this.handledEvents.focus=function(o){return o=o||e.event,i(o)?(t.activeElement=r,n.cache.originalVal=o.target.textContent,n.settings.onFocus(o),void n.placeholders()):!1}),this},handleBlur:function(){var n=this.medium,i=n.element;return l.addEvent(i,"blur",this.handledEvents.blur=function(r){r=r||e.event,t.activeElement===i&&(t.activeElement=null),n.settings.onBlur(r),n.placeholders()}),this},handleKeyDown:function(){var n=this,r=this.medium,o=r.settings,a=r.cache,u=r.element;return l.addEvent(u,"keydown",this.handledEvents.keydown=function(c){if(c=c||e.event,!i(c))return!1;var h=!0;if(229!==c.keyCode){if(l.isCommand(o,c,function(){a.cmd=!0},function(){a.cmd=!1}),l.isShift(c,function(){a.shift=!0},function(){a.shift=!1}),l.isModifier(o,c,function(e){if(a.cmd){if(o.mode===t.inlineMode||o.mode===t.partialMode)return l.preventDefaultEvent(c),!1;var n=typeof e,i=null;return i="function"===n?e:r[e],h=i.call(r,c),h!==!1&&h!==r||(l.preventDefaultEvent(c),l.stopPropagation(c)),!0}return!1}),-1!==o.maxLength){var d=l.text(u).length,f=!1,p=e.getSelection(),g=l.isSpecial(c),m=l.isNavigational(c);if(p&&(f=!p.isCollapsed),g||m)return!0;if(d>=o.maxLength&&!f)return o.maxLengthReached(u),l.preventDefaultEvent(c),!1}switch(c.keyCode){case s.enter:n.enterKey(c)===!1&&l.preventDefaultEvent(c);break;case s.escape:n.escKey(c)===!1&&l.preventDefaultEvent(c);break;case s.backspace:case s["delete"]:n.backspaceOrDeleteKey(c)}return h}}),this},handleKeyUp:function(){var t=this,n=this.medium,r=n.settings,o=n.cache,s=n.cursor,a=n.element;return l.addEvent(a,"keyup",this.handledEvents.keyup=function(a){if(a=a||e.event,!i(a))return!1;l.isCommand(r,a,function(){o.cmd=!1},function(){o.cmd=!0}),n.clean(),n.placeholders();var u;if(null!==r.keyContext&&(u=r.keyContext[a.keyCode])){var c=s.parent();c&&u.call(n,a,c)}t.preserveElementFocus()}),this},handlePaste:function(){var t,n,r,o,s,a,u,c=this.medium,h=c.element;return l.addEvent(h,"paste",this.handledEvents.paste=function(h){if(h=h||e.event,!i(h))return!1;if(n=0,l.preventDefaultEvent(h),t="",s=h.clipboardData,window.clipboardData)return s=window.clipboardData,o=s.getData("text"),c.paste(o);if(s&&(o=s.getData))for(u=s.types,r=u.length,n=0;r>n;n++)switch(a=u[n]){case"text/plain":return c.paste(s.getData("text/plain"))}c.paste()}),this},handleClick:function(){var t=this.medium,e=t.element,n=t.cursor;return l.addEvent(e,"click",this.handledEvents.click=function(t){i(t)||n.caretToAfter(t.target)}),this},escKey:function(e){var n=this.medium,i=(n.element,n.settings),r=n.cache;return i.mode===t.inlineMode||i.mode===t.inlineRichMode?(e.target.textContent=r.originalVal,i.element.blur?i.element.blur():i.element.onblur&&i.element.onblur(),!1):void 0},enterKey:function(e){var n=this.medium,i=n.element,r=n.settings,o=n.cache,s=n.cursor;if(r.mode===t.inlineMode||r.mode===t.inlineRichMode)return r.element.blur?r.element.blur():r.element.onblur&&r.element.onblur(),!1;if(o.shift){if(r.tags["break"])return n.addTag(r.tags["break"],!0),!1}else{var a,u,c,h=l.atCaret(n)||{},d=i.children,f=h===i.lastChild?i.lastChild:null;f&&f!==i.firstChild&&r.autoHR&&r.mode!==t.partialMode&&r.tags.horizontalRule&&(l.preventDefaultEvent(e),a=""===l.text(f)&&f.nodeName.toLowerCase()===r.tags.paragraph,a&&d.length>=2&&(u=d[d.length-2],u.nodeName.toLowerCase()===r.tags.horizontalRule&&(a=!1)),a&&(n.addTag(r.tags.horizontalRule,!1,!0,h),h=h.nextSibling),null!==(c=n.addTag(r.tags.paragraph,!0,null,h))&&(c.innerHTML="",s.set(n,0,c)))}return!0},backspaceOrDeleteKey:function(t){var e=this.medium,n=e.cursor,i=e.settings,o=e.element;if(void 0!==i.onBackspaceOrDelete){var s=i.onBackspaceOrDelete.call(e,t,o);if(s)return}if(null!==o.lastChild){var a=o.lastChild,u=a.previousSibling,c=r.getSelection().anchorNode;a&&i.tags.horizontalRule&&a.nodeName.toLocaleLowerCase()===i.tags.horizontalRule?o.removeChild(a):a&&u&&l.text(a).length<1&&u.nodeName.toLowerCase()===i.tags.horizontalRule&&a.nodeName.toLowerCase()===i.tags.paragraph?(o.removeChild(a),o.removeChild(u)):1===o.childNodes.length&&a&&!l.text(a).length?(l.preventDefaultEvent(t),e.setupContents()):c&&c===o&&(e.deleteSelection(),e.setupContents(),n.set(e,0,o.firstChild))}},preserveElementFocus:function(){var t=e.getSelection?e.getSelection().anchorNode:document.activeElement;if(t){var n,i=this.medium,r=i.cache,o=i.element,s=i.settings,a=t.parentNode,l=o.children,u=a!==r.focusedElement,c=0;for(a===s.element&&(a=t),n=0;n<l.length;n++)if(a===l[n]){c=n;break}u&&(r.focusedElement=a,r.focusedElementIndex=c)}}}}(t,n,i),function(t){t.Cache=function(){this.initialized=!1,this.cmd=!1,this.focusedElement=null,this.originalVal=null}}(t),function(t){t.Cursor=function(t){this.medium=t},t.Cursor.prototype={set:function(t,e){var r;if(i.createRange){var o=n.getSelection(),s=this.medium.lastChild(),a=l.text(s).length-1,u=e?e:s,c="undefined"!=typeof t&&null!==t?t:a;r=i.createRange(),r.setStart(u,c),r.collapse(!0),o.removeAllRanges(),o.addRange(r)}else r=i.body.createTextRange(),r.moveToElementText(e),r.collapse(!1),r.select()},moveCursorToEnd:function(t){var e=r.getSelection(),n=r.createRange();n.setStartAfter(t),n.setEnd(t,t.length||t.childNodes.length),e.removeAllRanges(),e.addRange(n)},moveCursorToAfter:function(t){var e=r.getSelection();if(e.rangeCount){var n=e.getRangeAt(0);n.collapse(!1),n.collapseAfter(t),e.setSingleRange(n)}},parent:function(){var t,e=null;return n.getSelection?(t=n.getSelection().getRangeAt(0),e=t.commonAncestorContainer,e=1===e.nodeType?e:e.parentNode):i.selection&&(e=i.selection.createRange().parentElement()),"SPAN"==e.tagName&&(e=e.parentNode),e},caretToBeginning:function(t){this.set(0,t)},caretToEnd:function(t){this.moveCursorToEnd(t)},caretToAfter:function(t){this.moveCursorToAfter(t)}}}(t),function(t){t.Drag=function(t){this.medium=t;var e=this,n=this.iconSrc.replace(/[{][{]([a-zA-Z]+)[}][}]/g,function(t,n){return e.hasOwnProperty(n)?e[n]:t}),r=this.icon=i.createElement("img");r.className=this.buttonClass,r.setAttribute("contenteditable","false"),r.setAttribute("src",n),this.hide(),this.element=null,this.protectedElement=null,this.handledEvents={dragstart:null,dragend:null,mouseover:null,mouseout:null,mousemove:null}},t.Drag.prototype={elementClass:"Medium-focused",buttonClass:"Medium-drag",iconSrc:'data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="21.424px" height="21.424px" viewBox="0 0 21.424 21.424" style="enable-background:new 0 0 21.424 21.424;" xml:space="preserve">	<g>		<g>			<path style="fill:{{iconColor}};" d="M13.616,17.709L13.616,17.709h0.781l-3.686,3.715l-3.685-3.715h0.781l0,0H13.616z M13.616,17.709 M14.007,17.709 M12.555,19.566 M8.87,19.566 M7.418,17.709 M7.809,17.709 M10.712,17.709"/>			<path style="fill:{{iconColor}};" d="M13.616,3.715L13.616,3.715h0.781L10.712,0L7.027,3.715h0.781l0,0H13.616z M13.616,3.715 M14.007,3.715 M12.555,1.858 M8.87,1.858 M7.418,3.715 M7.809,3.715 M10.712,3.715"/>			<path style="fill:{{iconColor}};" d="M3.716,13.616L3.716,13.616v0.781L0,10.712l3.716-3.685v0.781l0,0V13.616z M3.716,13.616 M3.716,14.007 M1.858,12.555 M1.858,8.87 M3.716,7.417 M3.716,7.808 M3.716,10.712"/>			<path style="fill:{{iconColor}};" d="M17.709,13.616L17.709,13.616v0.781l3.715-3.685l-3.715-3.685v0.781l0,0V13.616z M17.709,13.616 M17.709,14.007 M19.566,12.555 M19.566,8.87 M17.709,7.417 M17.709,7.808 M17.709,10.712"/>		</g>		<path style="fill-rule:evenodd;clip-rule:evenodd;fill:{{iconColor}};" d="M10.712,6.608c2.267,0,4.104,1.838,4.104,4.104 c0,2.266-1.837,4.104-4.104,4.104c-2.266,0-4.104-1.837-4.104-4.104C6.608,8.446,8.446,6.608,10.712,6.608L10.712,6.608z M10.712,7.515c-1.765,0-3.196,1.432-3.196,3.197s1.432,3.197,3.196,3.197c1.766,0,3.197-1.432,3.197-3.197 S12.478,7.515,10.712,7.515z"/>	</g></svg>',iconColor:"#231F20",setup:function(){return this.handleDragstart().handleDragend().handleMouseover().handleMouseout().handleMousemove(),this},destroy:function(){return l.removeEvent(this.icon,"dragstart",this.handledEvents.dragstart).removeEvent(this.icon,"dragend",this.handledEvents.dragend).removeEvent(this.icon,"mouseover",this.handledEvents.mouseover).removeEvent(this.icon,"mouseout",this.handledEvents.mouseout).removeEvent(this.medium.element,"mousemove",this.handledEvents.mousemove),
this},hide:function(){return l.hide(this.icon),this},handleDragstart:function(){var t=this;return l.addEvent(this.icon,"dragstart",this.handledEvents.dragstart=function(e){null===t.protectedElement&&(e=e||n.event,t.protectedElement=l.detachNode(t.element),t.icon.style.opacity=0)}),this},handleDragend:function(){var t=this;return l.addEvent(this.icon,"dragend",this.handledEvents.dragend=i.body.ondragend=function(e){null!==t.protectedElement&&setTimeout(function(){t.cleanCanvas(),t.protectedElement=null},1)}),this},handleMouseover:function(){var t=this;return l.addEvent(this.icon,"mouseover",this.handledEvents.mouseover=function(e){null===t.protectedElement&&l.stopPropagation(e).addClass(t.element,t.elementClass)}),this},handleMouseout:function(){var t=this;return l.addEvent(this.icon,"mouseout",this.handledEvents.mouseout=function(e){null===t.protectedElement&&l.stopPropagation(e).removeClass(t.element,t.elementClass)}),this},handleMousemove:function(){var t=this;return l.addEvent(this.medium.element,"mousemove",this.handledEvents.mousemove=function(e){e=e||n.event;var i=e.target||{};"false"===i.getAttribute("contenteditable")&&t.show(i)}),this},show:function(t){if(t!==this.icon||null!==this.protectedElement){this.element=t;var e=this.icon.style,n=t.offsetLeft,i=t.offsetTop;return t.dragIcon=this.icon,t.parentNode.appendChild(this.icon),e.opacity=1,e.left=n+"px",e.top=i+"px",l.show(this.icon),this}},cleanCanvas:function(){var t,e=!1,n=i.getElementsByClassName(this.buttonClass);for(this.icon.style.opacity=1;n.length>0;)l.isVisible(t=n[0])&&(e||(t.parentNode.insertBefore(this.element,t),e=!0),l.detachNode(t));return l.detachNode(this.icon),this}}}(t),function(t){t.Element=function(t,e,n){switch(this.medium=t,this.element=t.element,e.toLowerCase()){case"bold":this.tagName="b";break;case"italic":this.tagName="i";break;case"underline":this.tagName="u";break;default:this.tagName=e}this.attributes=n||{},this.clean=!0},t.Element.prototype={invoke:function(e){if(t.activeElement===this.element){e&&e.apply(this);var i,o,s=this.attributes,a=this.tagName.toLowerCase();void 0!==s.className?(o=(s.className.split[" "]||[s.className]).shift(),delete s.className):o="medium-"+a,i=r.createClassApplier(o,{elementTagName:a,elementAttributes:this.attributes}),this.medium.makeUndoable(),i.toggleSelection(n),this.clean&&(this.medium.clean(),this.medium.placeholders())}},setClean:function(t){return this.clean=t,this}}}(t),function(t){t.Html=function(e,n){this.html=n,this.medium=e,this.clean=!0,this.injector=new t.Injector},t.Html.prototype={insert:function(e,n){if(t.activeElement===this.medium.element){e&&e.apply(this);var i=this.injector.inject(this.html,n);return this.clean&&(this.medium.clean(),this.medium.placeholders()),this.medium.makeUndoable(),i}return null},setClean:function(t){return this.clean=t,this}}}(t),function(t){t.Injector=function(){},t.Injector.prototype={inject:function(t){var e,n=[],r=!1;if("string"==typeof t){var o=i.createElement("div");o.innerHTML=t,e=o.childNodes,r=!0}else e=t;this.insertHTML('<span id="Medium-wedge"></span>');var s=i.getElementById("Medium-wedge"),a=s.parentNode,l=0;if(s.removeAttribute("id"),r){for(;l<e.length;)n.push(e[l]),l++;for(;e.length>0;)a.insertBefore(e[0],s)}else n.push(e),a.insertBefore(e,s);return a.removeChild(s),s=null,n},insertHTML:function(t,e){var r,o;if(n.getSelection){if(r=n.getSelection(),r.getRangeAt&&r.rangeCount){o=r.getRangeAt(0),o.deleteContents();var s=i.createElement("div");s.innerHTML=t;for(var a,l,u=i.createDocumentFragment();a=s.firstChild;)l=u.appendChild(a);var c=u.firstChild;o.insertNode(u),l&&(o=o.cloneRange(),o.setStartAfter(l),e?o.setStartBefore(c):o.collapse(!0),r.removeAllRanges(),r.addRange(o))}}else if((r=i.selection)&&"Control"!=r.type){var h=r.createRange();h.collapse(!0),r.createRange().pasteHTML(t),e&&(o=r.createRange(),o.setEndPoint("StartToStart",h),o.select())}}}}(t),function(t){t.Selection=function(){},t.Selection.prototype={saveSelection:function(){if(n.getSelection){var t=n.getSelection();if(t.rangeCount>0)return t.getRangeAt(0)}else if(i.selection&&i.selection.createRange)return i.selection.createRange();return null},restoreSelection:function(t){if(t)if(n.getSelection){var e=n.getSelection();e.removeAllRanges(),e.addRange(t)}else i.selection&&t.select&&t.select()}}}(t),function(t){t.Toolbar=function(t,e){this.medium=t;var n=i.createElement("div");n.innerHTML=this.html,this.buttons=e,this.element=n.children[0],i.body.appendChild(this.element),this.active=!1,this.busy=!0,this.handledEvents={scroll:null,mouseup:null,keyup:null}},t.Toolbar.prototype={fixedClass:"Medium-toolbar-fixed",showClass:"Medium-toolbar-show",hideClass:"Medium-toolbar-hide",html:'<div class="Medium-toolbar">				<div class="Medium-tail-outer">					<div class="Medium-tail-inner"></div>				</div>				<div id="Medium-buttons"></div>				<table id="Medium-options">					<tbody>						<tr>						</tr>					</tbody>				</table>			</div>',setup:function(){this.handleScroll().handleMouseup().handleKeyup()},destroy:function(){l.removeEvent(n,"scroll",this.handledEvents.scroll).removeEvent(i,"mouseup",this.handledEvents.mouseup).removeEvent(i,"keyup",this.handledEvents.keyup)},handleScroll:function(){var t=this;return l.addEvent(n,"scroll",this.handledEvents.scroll=function(){t.active&&t.goToSelection()}),this},handleMouseup:function(){var e=this;return l.addEvent(i,"mouseup",this.handledEvents.mouseup=function(){t.activeElement!==e.medium.element||e.busy||e.goToSelection()}),this},handleKeyup:function(){var e=this;return l.addEvent(i,"keyup",this.handledEvents.keyup=function(){t.activeElement!==e.medium.element||e.busy||e.goToSelection()}),this},goToSelection:function(){var t=this.getHighlighted(),e=t.boundary.top-5,i=this.element,r=i.style;n.scrollTop>0?l.addClass(i,this.fixedClass):l.removeClass(i,this.fixedClass),null!==t&&(t.range.startOffset!==t.range.endOffset||t.text?(l.removeClass(i,this.hideClass).removeClass(i,this.showClass),r.opacity=.01,l.addClass(i,this.showClass),r.opacity=1,r.top=e-65+"px",r.left=t.boundary.left+t.boundary.width/2-i.clientWidth/2+"px",this.active=!0):(l.removeClass(i,this.showClass).addClass(i,this.hideClass),this.active=!1))},getHighlighted:function(){var t=n.getSelection(),e=t.anchorNode?t.getRangeAt(0):!1;return e?{selection:t,range:e,text:l.trim(e.toString()),boundary:e.getBoundingClientRect()}:null}}}(t),function(t){t.Undoable=function(t){var e,n,i=this,r=t.settings.element,a=new o.Stack,u=o.Command.extend({constructor:function(t,e){this.oldValue=t,this.newValue=e},execute:function(){},undo:function(){r.innerHTML=this.oldValue,t.canUndo=a.canUndo(),t.canRedo=a.canRedo(),t.dirty=a.dirty()},redo:function(){r.innerHTML=this.newValue,t.canUndo=a.canUndo(),t.canRedo=a.canRedo(),t.dirty=a.dirty()}}),c=function(e){var o=r.innerHTML;e?(n=r.innerHTML,a.execute(new u(n,n))):o!=n&&(i.movingThroughStack||(a.execute(new u(n,o)),n=o,t.dirty=a.dirty()),l.triggerEvent(t.settings.element,"change"))};this.medium=t,this.timer=e,this.stack=a,this.makeUndoable=c,this.EditCommand=u,this.movingThroughStack=!1,l.addEvent(r,"keyup",function(t){return t.ctrlKey||t.keyCode===s.z?void l.preventDefaultEvent(t):(clearTimeout(e),void(e=setTimeout(function(){c()},250)))}).addEvent(r,"keydown",function(t){return t.ctrlKey&&t.keyCode===s.z?(l.preventDefaultEvent(t),i.movingThroughStack=!0,void(t.shiftKey?a.canRedo()&&a.redo():a.canUndo()&&a.undo())):void(i.movingThroughStack=!1)})}}(t),function(t){t.Utilities={isCommand:function(t,e,n,i){return"ctrl"===t.modifier&&e.ctrlKey||"cmd"===t.modifier&&e.metaKey||"auto"===t.modifier&&(e.ctrlKey||e.metaKey)?n.call():i.call()},isShift:function(t,e,n){return t.shiftKey?e.call():n.call()},isModifier:function(t,e,n){var i=t.modifiers[e.keyCode];return i?n.call(null,i):!1},special:function(){var t={};return t[s.backspace]=!0,t[s.shift]=!0,t[s.ctrl]=!0,t[s.alt]=!0,t[s["delete"]]=!0,t[s.cmd]=!0,t}(),isSpecial:function(e){return"undefined"!=typeof t.Utilities.special[e.keyCode]},navigational:function(){var t={};return t[s.upArrow]=!0,t[s.downArrow]=!0,t[s.leftArrow]=!0,t[s.rightArrow]=!0,t}(),isNavigational:function(e){return"undefined"!=typeof t.Utilities.navigational[e.keyCode]},addEvents:function(e,n,i){for(var r,o=0,s=n.split(" "),a=s.length,l=t.Utilities;a>o;o++)r=s[o],r.length>0&&l.addEvent(e,r,i);return t.Utilities},addEvent:function(e,n,i){return e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent?e.attachEvent("on"+n,i):e["on"+n]=i,t.Utilities},removeEvent:function(e,n,i){return e.removeEventListener?e.removeEventListener(n,i,!1):e.detachEvent?e.detachEvent("on"+n,i):e["on"+n]=null,t.Utilities},preventDefaultEvent:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,t.Utilities},stopPropagation:function(e){return e=e||window.event,e.cancelBubble=!0,void 0!==e.stopPropagation&&e.stopPropagation(),t.Utilities},isEventSupported:function(t,e){e="on"+e;var n=i.createElement(t.tagName),r=e in n;return r||(n.setAttribute(e,"return;"),r="function"==typeof n[e]),n=null,r},triggerEvent:function(e,n){var r;return i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(n,!0,!0),r.eventName=n,e.dispatchEvent(r)):(r=i.createEventObject(),e.fireEvent("on"+n,r)),t.Utilities},deepExtend:function(e,n){var i,r;for(i in n)n.hasOwnProperty(i)&&(r=n[i],void 0!==r&&null!==r&&void 0!==r.constructor&&r.constructor===Object?(e[i]=e[i]||{},t.Utilities.deepExtend(e[i],r)):e[i]=r);return e},pasteHook:function(e,n){e.makeUndoable();var r,o,s,a,u=i.createElement("div"),c=e.element,h=e.settings,d=i.body,f=d.parentNode,p=f.scrollTop,g=f.scrollLeft;return u.className=h.cssClasses.pasteHook,u.setAttribute("contenteditable",!0),d.appendChild(u),l.selectNode(u),f.scrollTop=p,f.scrollLeft=g,setTimeout(function(){a=l.text(u),c.focus(),h.maxLength>0&&(r=l.text(c),o=r.length,s=o+a.length,s>o&&(a=a.substring(0,h.maxLength-o))),l.detachNode(u),f.scrollTop=p,f.scrollLeft=g,n(a)},0),t.Utilities},traverseAll:function(e,n,i){var r,o=e.childNodes,s=o.length,a=0;if(i=i||1,n=n||{},s>0)for(;s>a;a++){switch(r=o[a],r.nodeType){case 1:t.Utilities.traverseAll(r,n,i+1),void 0!==n.element&&n.element(r,a,i,e);break;case 3:void 0!==n.fragment&&n.fragment(r,a,i,e)}s=o.length,r===e.lastChild&&(a=s)}return t.Utilities},trim:function(t){return t.replace(/^[\s]+|\s+$/g,"")},arrayContains:function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},addClass:function(e,n){return e.classList?e.classList.add(n):e.className+=" "+n,t.Utilities},removeClass:function(e,n){return e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "),t.Utilities},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},isHidden:function(t){return 0===t.offsetWidth||0===t.offsetHeight},isVisible:function(t){return 0!==t.offsetWidth||0!==t.offsetHeight},encodeHtml:function(t){return i.createElement("a").appendChild(i.createTextNode(t)).parentNode.innerHTML},text:function(t,e){return void 0!==e?null===t?this:(void 0!==t.textContent?t.textContent=e:t.innerText=e,this):null===t?this:void 0!==t.innerText?l.trim(t.innerText):void 0!==t.textContent?l.trim(t.textContent):void 0!==t.data?l.trim(t.data):""},changeTag:function(t,e){var n,r,o=i.createElement(e);for(n=t.firstChild;n;)r=n.nextSibling,o.appendChild(n),n=r;return t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),o},detachNode:function(t){return null!==t.parentNode&&t.parentNode.removeChild(t),this},selectNode:function(t){var e,r;return t.focus(),i.body.createTextRange?(e=i.body.createTextRange(),e.moveToElementText(t),e.select()):n.getSelection&&(r=n.getSelection(),e=i.createRange(),e.selectNodeContents(t),r.removeAllRanges(),r.addRange(e)),this},baseAtCaret:function(t){if(!t.isActive())return null;var e=n.getSelection?n.getSelection():document.selection;if(e.rangeCount){var i=e.getRangeAt(0),r=i.endContainer;switch(r.nodeType){case 3:if(r.data&&r.data.length!=i.endOffset)return!1}return r}return null},atCaret:function(t){var e=this.baseAtCaret(t)||{},n=t.element;if(e===!1)return null;for(;e&&e.parentNode!==n;)e=e.parentNode;return e&&1==e.nodeType?e:null},hide:function(t){t.style.display="none"},show:function(t){t.style.display=""},hideAnim:function(t){t.style.opacity=1},showAnim:function(t){t.style.opacity=.01,t.style.display=""}}}(t),r.rangePrototype.insertNodeAtEnd=function(t){var e=this.cloneRange();e.collapse(!1),e.insertNode(t),e.detach(),this.setEndAfter(t)},t}(),l=a.Utilities;"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof e&&e.exports?e.exports=a:"undefined"!=typeof this&&(this.Medium=a)}).call(this,window,document)},{rangy:"rangy",undo:"undo"}],minicolors:[function(t,e,n){jQuery&&function(t){function e(e,n){var i=t('<div class="minicolors" />'),o=t.minicolors.defaults;e.data("minicolors-initialized")||(n=t.extend(!0,{},o,n),i.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity).toggleClass("minicolors-no-data-uris",n.dataUris!==!0),void 0!==n.position&&t.each(n.position.split(" "),function(){i.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",7).wrap(i).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div> </div><a href="#" class="mcp-white"></a><a href="#" class="mcp-black"></a><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div><input type="text" class="hex_picker"/><input type="button" value="OK" class="b ok_but"/></div>'),t(".hex_picker").on("focus",function(e){t(this).select()}),t(".hex_picker").on("blur",function(e){var n=t(this).val();"#"!=n.charAt(0)&&(n="#"+n),t(this).val(n)}),t(".mcp-white").click(function(){return t(".hex_picker").val("#ffffff"),t(".hex_picker").keyup(),!1}),t(".mcp-black").click(function(){return t(".hex_picker").val("#000000"),t(".hex_picker").keyup(),!1}),t(".hex_picker").on("keyup",function(e){var i=t(this).val();"#"!=i.charAt(0)&&(i="#"+i),t(this).parents(".minicolors").find("input[type=hidden]").val(i),a(t(this).parents(".minicolors").find("input[type=hidden]"),!0);var o=e.keyCode?e.keyCode:e.which;"13"==o&&r(),t(this).parents(".cpicker").css("background",i),t(this).parents(".cpicker").attr("data-color",i),n.change.call(t(this).parents(".minicolors").find("input[type=hidden]").get(0),i,1)}),t(".ok_but").click(function(){t(this).parents(".cpicker").css("background",t(".hex_picker").val()),t(this).parents(".cpicker").attr("data-color",t(".hex_picker").val()),r()}),n.inline||(e.after('<span class="minicolors-swatch"><a  class="del_clr">X</a><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),n.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0))}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(e){t("input.hex_picker").val(e.val());var n=e.parent(),i=n.find(".minicolors-panel"),o=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||n.hasClass("minicolors-inline")||n.hasClass("minicolors-focus")||(r(),n.addClass("minicolors-focus"),i.css({top:n.offset().top-t(".cpkr_div").offset().top+30,left:n.offset().left-t(".cpkr_div").offset().left}),i.stop(!0,!0).fadeIn(o.showSpeed,function(){o.show&&o.show.call(e.get(0))}))}function r(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),r=n.data("minicolors-settings");i.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(n.get(0)),e.removeClass("minicolors-focus")})}),t(".minicolors input[type='hidden']").data("minicolors-initialized",!1),t(".minicolors_active").addClass("minicolors_set").removeClass("minicolors_active")}function o(t,e,n){var i,r,o,a,l=t.parents(".minicolors").find(".minicolors-input"),u=l.data("minicolors-settings"),c=t.find("[class$=-picker]"),h=t.offset().left,d=t.offset().top,f=Math.round(e.pageX-h),p=Math.round(e.pageY-d),g=n?u.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-h,p=e.originalEvent.changedTouches[0].pageY-d),0>f&&(f=0),0>p&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(i=75-f,r=75-p,o=Math.sqrt(i*i+r*r),a=Math.atan2(r,i),0>a&&(a+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(a),p=75-75*Math.sin(a)),f=Math.round(f),p=Math.round(p)),t.is(".minicolors-grid")?c.stop(!0).animate({top:p+"px",left:f+"px"},g,u.animationEasing,function(){s(l,t)}):c.stop(!0).animate({top:p+"px"},g,u.animationEasing,function(){s(l,t)})}function s(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,r,o,s,a,u,c,d=t.val(),p=t.attr("data-opacity"),g=t.parent(),v=t.data("minicolors-settings"),y=g.find(".minicolors-swatch"),w=g.find(".minicolors-grid"),_=g.find(".minicolors-slider"),b=g.find(".minicolors-opacity-slider"),C=w.find("[class$=-picker]"),T=_.find("[class$=-picker]"),x=b.find("[class$=-picker]"),S=n(C,w),E=n(T,_),R=n(x,b);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":s=w.width()/2-S.x,a=w.height()/2-S.y,u=Math.sqrt(s*s+a*a),c=Math.atan2(a,s),0>c&&(c+=2*Math.PI),u>75&&(u=75,S.x=69-75*Math.cos(c),S.y=69-75*Math.sin(c)),r=f(u/.75,0,100),i=f(180*c/Math.PI,0,360),o=f(100-Math.floor(E.y*(100/_.height())),0,100),d=m({h:i,s:r,b:o}),_.css("backgroundColor",m({h:i,s:r,b:100}));break;case"saturation":i=f(parseInt(S.x*(360/w.width()),10),0,360),r=f(100-Math.floor(E.y*(100/_.height())),0,100),o=f(100-Math.floor(S.y*(100/w.height())),0,100),d=m({h:i,s:r,b:o}),_.css("backgroundColor",m({h:i,s:100,b:o})),g.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":i=f(parseInt(S.x*(360/w.width()),10),0,360),r=f(100-Math.floor(S.y*(100/w.height())),0,100),o=f(100-Math.floor(E.y*(100/_.height())),0,100),d=m({h:i,s:r,b:o}),_.css("backgroundColor",m({h:i,s:r,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:i=f(360-parseInt(E.y*(360/_.height()),10),0,360),r=f(Math.floor(S.x*(100/w.width())),0,100),o=f(100-Math.floor(S.y*(100/w.height())),0,100),d=m({h:i,s:r,b:o}),w.css("backgroundColor",m({h:i,s:100,b:100}))}t.val(h(d,v.letterCase))}e.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-R.y/b.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:d,opacity:p}),l(t,d,p)}function a(t,e){var n,i,r,o,s,a,u,c=t.parent(),p=t.data("minicolors-settings"),g=c.find(".minicolors-swatch"),y=c.find(".minicolors-grid"),w=c.find(".minicolors-slider"),_=c.find(".minicolors-opacity-slider"),b=y.find("[class$=-picker]"),C=w.find("[class$=-picker]"),T=_.find("[class$=-picker]");switch(n=h(d(t.val(),!0),p.letterCase),n||(n=h(d(p.defaultValue,!0),p.letterCase)),i=v(n),e||t.val(n),p.opacity&&(r=""===t.attr("data-opacity")?1:f(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),t.attr("data-opacity",r),g.find("SPAN").css("opacity",r),s=f(_.height()-_.height()*r,0,_.height()),T.css("top",s+"px")),g.find("SPAN").css("backgroundColor",n),p.control){case"wheel":a=f(Math.ceil(.75*i.s),0,y.height()/2),u=i.h*Math.PI/180,o=f(75-Math.cos(u)*a,0,y.width()),s=f(75-Math.sin(u)*a,0,y.height()),b.css({top:s+"px",left:o+"px"}),s=150-i.b/(100/y.height()),""===n&&(s=0),C.css("top",s+"px"),w.css("backgroundColor",m({h:i.h,s:i.s,b:100}));break;case"saturation":o=f(5*i.h/12,0,150),s=f(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-i.s*(w.height()/100),0,w.height()),C.css("top",s+"px"),w.css("backgroundColor",m({h:i.h,s:100,b:i.b})),c.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":o=f(5*i.h/12,0,150),s=f(y.height()-Math.ceil(i.s/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-i.b*(w.height()/100),0,w.height()),C.css("top",s+"px"),w.css("backgroundColor",m({h:i.h,s:i.s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:o=f(Math.ceil(i.s/(100/y.width())),0,y.width()),s=f(y.height()-Math.ceil(i.b/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-i.h/(360/w.height()),0,w.height()),C.css("top",s+"px"),y.css("backgroundColor",m({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&!e&&l(t,n,r)}function l(e,n,i){var r=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");o&&o.hex===n&&o.opacity===i||(e.data("minicolors-lastChange",{hex:n,opacity:i}),t("input.hex_picker").val(n),e.parents(".cpicker").css("background",n),e.parents(".cpicker").attr("data-color",n),r.change&&(r.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),n,i)},r.changeDelay))):r.change.call(e.get(0),n,i)),e.trigger("change").trigger("input"))}function u(e){var n=d(t(e).val(),!0),i=w(n),r=t(e).attr("data-opacity");return i?(void 0!==r&&t.extend(i,{a:parseFloat(r)}),i):null}function c(e,n){var i=d(t(e).val(),!0),r=w(i),o=t(e).attr("data-opacity");return r?(void 0===o&&(o=1),n?"rgba("+r.r+", "+r.g+", "+r.b+", "+parseFloat(o)+")":"rgb("+r.r+", "+r.g+", "+r.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function d(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function f(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}function p(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=r;else{var o=r,s=(255-i)*r/255,a=(o-s)*(n%60)/60;360===n&&(n=0),60>n?(e.r=o,e.b=s,e.g=s+a):120>n?(e.g=o,e.b=s,e.r=o-a):180>n?(e.g=o,e.r=s,e.b=s+a):240>n?(e.b=o,e.r=s,e.g=o-a):300>n?(e.b=o,e.g=s,e.r=s+a):360>n?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function m(t){return g(p(t))}function v(t){var e=y(w(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;return e.b=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function w(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(o,s){switch(o){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return r(),t(this);case"opacity":return void 0===s?t(this).attr("data-opacity"):(t(this).each(function(){a(t(this).attr("data-opacity",s))}),t(this));case"rgbObject":return u(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return c(t(this),"rgbaString"===o);case"settings":return void 0===s?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,s))}),t(this));case"show":return i(t(this).eq(0)),t(this);case"value":return void 0===s?t(this).val():(t(this).each(function(){a(t(this).val(s))}),t(this));default:return"create"!==o&&(s=o),t(this).each(function(){e(t(this),s)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(document).data("minicolors-target",n),o(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(document).data("minicolors-target");n&&o(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&i(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),n=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(d(e.val(),!0)),""===e.val()&&e.val(d(n.defaultValue,!0)),e.val(h(e.val(),n.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:r();break;case 13:case 27:r(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){a(e,!0)},1)})}(jQuery)},{}],mousetrap:[function(t,e,n){!function(t,n,i){function r(t,e,n){return t.addEventListener?void t.addEventListener(e,n,!1):void t.attachEvent("on"+e,n)}function o(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return y[t.which]?y[t.which]:w[t.which]?w[t.which]:String.fromCharCode(t.which).toLowerCase()}function s(t,e){return t.sort().join(",")===e.sort().join(",")}function a(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function l(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function u(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function c(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(){if(!v){v={};for(var t in y)t>95&&112>t||y.hasOwnProperty(t)&&(v[y[t]]=t)}return v}function d(t,e,n){return n||(n=h()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function f(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function p(t,e){var n,i,r,o=[];for(n=f(t),r=0;r<n.length;++r)i=n[r],b[i]&&(i=b[i]),e&&"keypress"!=e&&_[i]&&(i=_[i],o.push("shift")),c(i)&&o.push(i);return e=d(i,o,e),{key:i,modifiers:o,action:e}}function g(t,e){return null===t||t===n?!1:t===e?!0:g(t.parentNode,e)}function m(t){function e(t){t=t||{};var e,n=!1;for(e in _)t[e]?n=!0:_[e]=0;n||(T=!1)}function i(t,e,n,i,r,o){var a,l,u=[],h=n.type;if(!y._callbacks[t])return[];for("keyup"==h&&c(t)&&(e=[t]),a=0;a<y._callbacks[t].length;++a)if(l=y._callbacks[t][a],(i||!l.seq||_[l.seq]==l.level)&&h==l.action&&("keypress"==h&&!n.metaKey&&!n.ctrlKey||s(e,l.modifiers))){var d=!i&&l.combo==r,f=i&&l.seq==i&&l.level==o;(d||f)&&y._callbacks[t].splice(a,1),u.push(l)}return u}function h(t,e,n,i){y.stopCallback(e,e.target||e.srcElement,n,i)||t(e,n)===!1&&(l(e),u(e))}function d(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=o(t);if(e)return"keyup"==t.type&&b===e?void(b=!1):void y.handleKey(e,a(t),t)}function f(){clearTimeout(w),w=setTimeout(e,1e3)}function g(t,n,i,r){function s(e){return function(){T=e,++_[t],f()}}function a(n){h(i,n,t),"keyup"!==r&&(b=o(n)),setTimeout(e,10)}_[t]=0;for(var l=0;l<n.length;++l){var u=l+1===n.length,c=u?a:s(r||p(n[l+1]).action);v(n[l],c,r,t,l)}}function v(t,e,n,r,o){y._directMap[t+":"+n]=e,t=t.replace(/\s+/g," ");var s,a=t.split(" ");return a.length>1?void g(t,a,e,n):(s=p(t,n),y._callbacks[s.key]=y._callbacks[s.key]||[],i(s.key,s.modifiers,{type:s.action},r,t,o),void y._callbacks[s.key][r?"unshift":"push"]({callback:e,modifiers:s.modifiers,action:s.action,seq:r,level:o,combo:t}))}var y=this;if(t=t||n,!(y instanceof m))return new m(t);y.target=t,y._callbacks={},y._directMap={};var w,_={},b=!1,C=!1,T=!1;y._handleKey=function(t,n,r){var o,s=i(t,n,r),a={},l=0,u=!1;for(o=0;o<s.length;++o)s[o].seq&&(l=Math.max(l,s[o].level));for(o=0;o<s.length;++o)if(s[o].seq){if(s[o].level!=l)continue;u=!0,a[s[o].seq]=1,h(s[o].callback,r,s[o].combo,s[o].seq)}else u||h(s[o].callback,r,s[o].combo);var d="keypress"==r.type&&C;r.type!=T||c(t)||d||e(a),C=u&&"keydown"==r.type},y._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)v(t[i],e,n)},r(t,"keypress",d),r(t,"keydown",d),r(t,"keyup",d)}if(t){for(var v,y={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;20>C;++C)y[111+C]="f"+C;for(C=0;9>=C;++C)y[C+96]=C.toString();m.prototype.bind=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i._bindMultiple.call(i,t,e,n),i},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:g(e,n.target)?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName&&"copyPaste"===!e.name||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);v=null},m.init=function(){var t=m(n);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},t.Mousetrap=m,"undefined"!=typeof e&&e.exports&&(e.exports=m),"function"==typeof define&&define.amd&&define(function(){return m})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(t){var e,n=t.prototype.bind;t.prototype.bind=function(){var t=this;if(e=arguments,"string"==typeof e[0]||e[0]instanceof Array)return n.call(t,e[0],e[1],e[2]);for(var i in e[0])e[0].hasOwnProperty(i)&&n.call(t,i,e[0][i],e[1])},t.init()}(Mousetrap)},{}],"rangy-classapplier":[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(["./rangy-core"],i):"undefined"!=typeof e&&"object"==typeof n?e.exports=i(t("rangy")):i(r.rangy)}(function(t){return t.createModule("ClassApplier",["WrappedSelection"],function(t,e){function n(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(n,t[n])===!1)return!1;return!0}function r(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o(t,e){return!!t&&new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t)}function s(t,e){if("object"==typeof t.classList)return t.classList.contains(e);var n="string"==typeof t.className,i=n?t.className:t.getAttribute("class");return o(i,e)}function a(t,e){if("object"==typeof t.classList)t.classList.add(e);else{var n="string"==typeof t.className,i=n?t.className:t.getAttribute("class");i?o(i,e)||(i+=" "+e):i=e,n?t.className=i:t.setAttribute("class",i)}}function l(t){var e="string"==typeof t.className;
return e?t.className:t.getAttribute("class")}function u(t){return t&&t.split(/\s+/).sort().join(" ")}function c(t){return u(l(t))}function h(t,e){return c(t)==c(e)}function d(t,e){for(var n=e.split(/\s+/),i=0,o=n.length;o>i;++i)if(!s(t,r(n[i])))return!1;return!0}function f(t){var e=t.parentNode;return e&&1==e.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(e.nodeName)}function p(t,e,n,i,r){var o=t.node,s=t.offset,a=o,l=s;o==i&&s>r&&++l,o!=e||s!=n&&s!=n+1||(a=i,l+=r-n),o==e&&s>n+1&&--l,t.node=a,t.offset=l}function g(t,e,n){t.node==e&&t.offset>n&&--t.offset}function m(t,e,n,i){-1==n&&(n=e.childNodes.length);var r=t.parentNode,o=I.getNodeIndex(t);B(i,function(t){p(t,r,o,e,n)}),e.childNodes.length==n?e.appendChild(t):e.insertBefore(t,e.childNodes[n])}function v(t,e){var n=t.parentNode,i=I.getNodeIndex(t);B(e,function(t){g(t,n,i)}),I.removeNode(t)}function y(t,e,n,i,r){for(var o,s=[];o=t.firstChild;)m(o,e,n++,r),s.push(o);return i&&v(t,r),s}function w(t,e){return y(t,t.parentNode,I.getNodeIndex(t),!0,e)}function _(t,e){var n=t.cloneRange();n.selectNodeContents(e);var i=n.intersection(t),r=i?i.toString():"";return""!=r}function b(t){for(var e,n=t.getNodes([3]),i=0;(e=n[i])&&!_(t,e);)++i;for(var r=n.length-1;(e=n[r])&&!_(t,e);)--r;return n.slice(i,r+1)}function C(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,i,r,o=0,s=t.attributes.length;s>o;++o)if(n=t.attributes[o],r=n.name,"class"!=r){if(i=e.attributes.getNamedItem(r),null===n!=(null===i))return!1;if(n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function T(t,e){for(var n,i=0,r=t.attributes.length;r>i;++i)if(n=t.attributes[i].name,(!e||!W(e,n))&&t.attributes[i].specified&&"class"!=n)return!0;return!1}function x(t){var e;return t&&1==t.nodeType&&((e=t.parentNode)&&9==e.nodeType&&"on"==e.designMode||G(t)&&!G(t.parentNode))}function S(t){return(G(t)||1!=t.nodeType&&G(t.parentNode))&&!x(t)}function E(t){return t&&1==t.nodeType&&!X.test(Y(t,"display"))}function R(t){if(0==t.data.length)return!0;if(q.test(t.data))return!1;var e=Y(t.parentNode,"whiteSpace");switch(e){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(t.data))return!1}return E(t.previousSibling)||E(t.nextSibling)}function M(t){var e,n,i=[];for(e=0;n=t[e++];)i.push(new F(n.startContainer,n.startOffset),new F(n.endContainer,n.endOffset));return i}function k(t,e){for(var n,i,r,o=0,s=t.length;s>o;++o)n=t[o],i=e[2*o],r=e[2*o+1],n.setStartAndEnd(i.node,i.offset,r.node,r.offset)}function O(t,e){return I.isCharacterDataNode(t)?0==e?!!t.previousSibling:e==t.length?!!t.nextSibling:!0:e>0&&e<t.childNodes.length}function A(t,n,i,r){var o,s,a=0==i;if(I.isAncestorOf(n,t))return t;if(I.isCharacterDataNode(n)){var l=I.getNodeIndex(n);if(0==i)i=l;else{if(i!=n.length)throw e.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+i+" in "+n.data);i=l+1}n=n.parentNode}if(O(n,i)){o=n.cloneNode(!1),s=n.parentNode,o.id&&o.removeAttribute("id");for(var u,c=0;u=n.childNodes[i];)m(u,o,c++,r);return m(o,s,I.getNodeIndex(n)+1,r),n==t?o:A(t,s,I.getNodeIndex(o),r)}if(t!=n){o=n.parentNode;var h=I.getNodeIndex(n);return a||h++,A(t,o,h,r)}return t}function N(t,e){return t.namespaceURI==e.namespaceURI&&t.tagName.toLowerCase()==e.tagName.toLowerCase()&&h(t,e)&&C(t,e)&&"inline"==Y(t,"display")&&"inline"==Y(e,"display")}function P(t){var e=t?"nextSibling":"previousSibling";return function(n,i){var r=n.parentNode,o=n[e];if(o){if(o&&3==o.nodeType)return o}else if(i&&(o=r[e],o&&1==o.nodeType&&N(r,o))){var s=o[t?"firstChild":"lastChild"];if(s&&3==s.nodeType)return s}return null}}function D(t){this.isElementMerge=1==t.nodeType,this.textNodes=[];var e=this.isElementMerge?t.lastChild:t;e&&(this.textNodes[0]=e)}function L(t,e,i){var o,s,a,l,c=this;c.cssClass=c.className=t;var h=null,d={};if("object"==typeof e&&null!==e){for("undefined"!=typeof e.elementTagName&&(e.elementTagName=e.elementTagName.toLowerCase()),i=e.tagNames,h=e.elementProperties,d=e.elementAttributes,s=0;l=Z[s++];)e.hasOwnProperty(l)&&(c[l]=e[l]);o=e.normalize}else o=e;c.normalize="undefined"==typeof o?!0:o,c.attrExceptions=[];var f=document.createElement(c.elementTagName);c.elementProperties=c.copyPropertiesToElement(h,f,!0),n(d,function(t,e){c.attrExceptions.push(t),d[t]=""+e}),c.elementAttributes=d,c.elementSortedClassName=c.elementProperties.hasOwnProperty("className")?u(c.elementProperties.className+" "+t):t,c.applyToAnyTagName=!1;var p=typeof i;if("string"==p)"*"==i?c.applyToAnyTagName=!0:c.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==p&&"number"==typeof i.length)for(c.tagNames=[],s=0,a=i.length;a>s;++s)"*"==i[s]?c.applyToAnyTagName=!0:c.tagNames.push(i[s].toLowerCase());else c.tagNames=[c.elementTagName]}function H(t,e,n){return new L(t,e,n)}var I=t.dom,F=I.DomPosition,W=I.arrayContains,j=t.util,B=j.forEach,z="span",V=j.isHostMethod(document,"createElementNS"),U=function(){function t(t,e,n){return e&&n?" ":""}return function(e,n){if("object"==typeof e.classList)e.classList.remove(n);else{var i="string"==typeof e.className,r=i?e.className:e.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),t),i?e.className=r:e.setAttribute("class",r)}}}(),Y=I.getComputedStyleProperty,G=function(){var t=document.createElement("div");return"boolean"==typeof t.isContentEditable?function(t){return t&&1==t.nodeType&&t.isContentEditable}:function(t){return t&&1==t.nodeType&&"false"!=t.contentEditable?"true"==t.contentEditable||G(t.parentNode):!1}}(),X=/^inline(-block|-table)?$/i,q=/[^\r\n\t\f \u200B]/,$=P(!1),K=P(!0);D.prototype={doMerge:function(t){var e=this.textNodes,n=e[0];if(e.length>1){var i,r=I.getNodeIndex(n),o=[],s=0;B(e,function(e,a){i=e.parentNode,a>0&&(i.removeChild(e),i.hasChildNodes()||I.removeNode(i),t&&B(t,function(t){t.node==e&&(t.node=n,t.offset+=s),t.node==i&&t.offset>r&&(--t.offset,t.offset==r+1&&a<len-1&&(t.node=n,t.offset=s))})),o[a]=e.data,s+=e.data.length}),n.data=o.join("")}return n.data},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){var t=[];return B(this.textNodes,function(e,n){t[n]="'"+e.data+"'"}),"[Merge("+t.join(",")+")]"}};var Z=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Q={};L.prototype={elementTagName:z,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(t,e,n){var i,r,o,s,l,c,h={};for(var d in t)if(t.hasOwnProperty(d))if(s=t[d],l=e[d],"className"==d)a(e,s),a(e,this.className),e[d]=u(e[d]),n&&(h[d]=s);else if("style"==d){r=l,n&&(h[d]=o={});for(i in t[d])t[d].hasOwnProperty(i)&&(r[i]=s[i],n&&(o[i]=r[i]));this.attrExceptions.push(d)}else e[d]=s,n&&(h[d]=e[d],c=Q.hasOwnProperty(d)?Q[d]:d,this.attrExceptions.push(c));return n?h:""},copyAttributesToElement:function(t,e){for(var n in t)t.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&e.setAttribute(n,t[n])},appliesToElement:function(t){return W(this.tagNames,t.tagName.toLowerCase())},getEmptyElements:function(t){var e=this;return t.getNodes([1],function(t){return e.appliesToElement(t)&&!t.hasChildNodes()})},hasClass:function(t){return 1==t.nodeType&&(this.applyToAnyTagName||this.appliesToElement(t))&&s(t,this.className)},getSelfOrAncestorWithClass:function(t){for(;t;){if(this.hasClass(t))return t;t=t.parentNode}return null},isModifiable:function(t){return!this.applyToEditableOnly||S(t)},isIgnorableWhiteSpaceNode:function(t){return this.ignoreWhiteSpace&&t&&3==t.nodeType&&R(t)},postApply:function(t,e,n,r){var o,s,a=t[0],l=t[t.length-1],u=[],c=a,h=l,d=0,f=l.length;B(t,function(t){s=$(t,!r),s?(o||(o=new D(s),u.push(o)),o.textNodes.push(t),t===a&&(c=o.textNodes[0],d=c.length),t===l&&(h=o.textNodes[0],f=o.getLength())):o=null});var p=K(l,!r);if(p&&(o||(o=new D(l),u.push(o)),o.textNodes.push(p)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);e.setStartAndEnd(c,d,h,f)}},createContainer:function(t){var e,n=I.getDocument(t),i=V&&!I.isHtmlNamespace(t)&&(e=t.namespaceURI)?n.createElementNS(t.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,i,!1),this.copyAttributesToElement(this.elementAttributes,i),a(i,this.className),this.onElementCreate&&this.onElementCreate(i,this),i},elementHasProperties:function(t,e){var i=this;return n(e,function(e,n){if("className"==e)return d(t,n);if("object"==typeof n){if(!i.elementHasProperties(t[e],n))return!1}else if(t[e]!==n)return!1})},elementHasAttributes:function(t,e){return n(e,function(e,n){return t.getAttribute(e)!==n?!1:void 0})},applyToTextNode:function(t,e){if(f(t)){var n=t.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))a(n,this.className);else{var i=t.parentNode,r=this.createContainer(i);i.insertBefore(r,t),r.appendChild(t)}}},isRemovable:function(t){return t.tagName.toLowerCase()==this.elementTagName&&c(t)==this.elementSortedClassName&&this.elementHasProperties(t,this.elementProperties)&&!T(t,this.attrExceptions)&&this.elementHasAttributes(t,this.elementAttributes)&&this.isModifiable(t)},isEmptyContainer:function(t){var e=t.childNodes.length;return 1==t.nodeType&&this.isRemovable(t)&&(0==e||1==e&&this.isEmptyContainer(t.firstChild))},removeEmptyContainers:function(t){var e=this,n=t.getNodes([1],function(t){return e.isEmptyContainer(t)}),i=[t],r=M(i);B(n,function(t){v(t,r)}),k(i,r)},undoToTextNode:function(t,e,n,i){if(!e.containsNode(n)){var r=e.cloneRange();r.selectNode(n),r.isPointInRange(e.endContainer,e.endOffset)&&(A(n,e.endContainer,e.endOffset,i),e.setEndAfter(n)),r.isPointInRange(e.startContainer,e.startOffset)&&(n=A(n,e.startContainer,e.startOffset,i))}this.isRemovable(n)?w(n,i):U(n,this.className)},splitAncestorWithClass:function(t,e,n){var i=this.getSelfOrAncestorWithClass(t);i&&A(i,t,e,n)},undoToAncestor:function(t,e){this.isRemovable(t)?w(t,e):U(t,this.className)},applyToRange:function(t,e){var n=this;e=e||[];var i=M(e||[]);t.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(t);var r=b(t);if(r.length){B(r,function(t){n.isIgnorableWhiteSpaceNode(t)||n.getSelfOrAncestorWithClass(t)||!n.isModifiable(t)||n.applyToTextNode(t,i)});var o=r[r.length-1];t.setStartAndEnd(r[0],0,o,o.length),n.normalize&&n.postApply(r,t,i,!1),k(e,i)}var s=n.getEmptyElements(t);B(s,function(t){a(t,n.className)})},applyToRanges:function(t){for(var e=t.length;e--;)this.applyToRange(t[e],t);return t},applyToSelection:function(e){var n=t.getSelection(e);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(t,e){var n=this;e=e||[];var i=M(e);t.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(t,i);var r,o,s=b(t),a=s[s.length-1];if(s.length){n.splitAncestorWithClass(t.endContainer,t.endOffset,i),n.splitAncestorWithClass(t.startContainer,t.startOffset,i);for(var l=0,u=s.length;u>l;++l)r=s[l],o=n.getSelfOrAncestorWithClass(r),o&&n.isModifiable(r)&&n.undoToAncestor(o,i);t.setStartAndEnd(s[0],0,a,a.length),n.normalize&&n.postApply(s,t,i,!0),k(e,i)}var c=n.getEmptyElements(t);B(c,function(t){U(t,n.className)})},undoToRanges:function(t){for(var e=t.length;e--;)this.undoToRange(t[e],t);return t},undoToSelection:function(e){var n=t.getSelection(e),i=t.getSelection(e).getAllRanges();this.undoToRanges(i),n.setRanges(i)},isAppliedToRange:function(t){if(t.collapsed||""==t.toString())return!!this.getSelfOrAncestorWithClass(t.commonAncestorContainer);var e=t.getNodes([3]);if(e.length)for(var n,i=0;n=e[i++];)if(!this.isIgnorableWhiteSpaceNode(n)&&_(t,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(t){var e=t.length;if(0==e)return!1;for(;e--;)if(!this.isAppliedToRange(t[e]))return!1;return!0},isAppliedToSelection:function(e){var n=t.getSelection(e);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)},toggleSelection:function(t){this.isAppliedToSelection(t)?this.undoToSelection(t):this.applyToSelection(t)},getElementsWithClassIntersectingRange:function(t){var e=[],n=this;return t.getNodes([3],function(t){var i=n.getSelfOrAncestorWithClass(t);i&&!W(e,i)&&e.push(i)}),e},detach:function(){}},L.util={hasClass:s,addClass:a,removeClass:U,getClass:l,hasSameClasses:h,hasAllClasses:d,replaceWithOwnChildren:w,elementsHaveSameNonClassAttributes:C,elementHasNonClassAttributes:T,splitNodeAt:A,isEditableElement:G,isEditingHost:x,isEditable:S},t.CssClassApplier=t.ClassApplier=L,t.createClassApplier=H,j.createAliasForDeprecatedMethod(t,"createCssClassApplier","createClassApplier",e)}),t},this)},{rangy:"rangy"}],"rangy-selectionsavestore":[function(t,e,n){var i=t("rangy");i.createModule("SaveRestore",["WrappedRange"],function(t,e){function n(t,e){return(e||document).getElementById(t)}function i(t,e){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(t.startContainer),o=t.cloneRange();return o.collapse(e),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(v)),o.insertNode(n),n}function r(t,i,r,o){var s=n(r,t);s?(i[o?"setStartBefore":"setEndBefore"](s),g(s)):e.warn("Marker element has been removed. Cannot restore selection.")}function o(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function s(e,n){var r,o,s=t.DomRange.getRangeDocument(e),a=e.toString(),l=m(n);return e.collapsed?(o=i(e,!1),{document:s,markerId:o.id,collapsed:!0}):(o=i(e,!1),r=i(e,!0),{document:s,startMarkerId:r.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+a+"', new text: '"+e.toString()+"'"}})}function a(i,o){var s=i.document;"undefined"==typeof o&&(o=!0);var a=t.createRange(s);if(i.collapsed){var l=n(i.markerId,s);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(g(l),a.collapseToPoint(u,u.length)):(a.collapseBefore(l),g(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else r(s,a,i.startMarkerId,!0),r(s,a,i.endMarkerId,!1);return o&&a.normalizeBoundaries(),a}function l(e,i){var r,a,l=[],u=m(i);e=e.slice(0),e.sort(o);for(var c=0,h=e.length;h>c;++c)l[c]=s(e[c],u);for(c=h-1;c>=0;--c)r=e[c],a=t.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[c].markerId,a)):(r.setEndBefore(n(l[c].endMarkerId,a)),r.setStartAfter(n(l[c].startMarkerId,a)));return l}function u(n){if(!t.isSelectionValid(n))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=t.getSelection(n),r=i.getAllRanges(),o=1==r.length&&i.isBackward(),s=l(r,o);return o?i.setSingleRange(r[0],o):i.setRanges(r),{win:n,rangeInfos:s,restored:!1}}function c(t){for(var e=[],n=t.length,i=n-1;i>=0;i--)e[i]=a(t[i],!0);return e}function h(e,n){if(!e.restored){var i=e.rangeInfos,r=t.getSelection(e.win),o=c(i),s=i.length;1==s&&n&&t.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),e.restored=!0}}function d(t,e){var i=n(e,t);i&&g(i)}function f(t){for(var e,n=t.rangeInfos,i=0,r=n.length;r>i;++i)e=n[i],e.collapsed?d(t.doc,e.markerId):(d(t.doc,e.startMarkerId),d(t.doc,e.endMarkerId))}var p=t.dom,g=p.removeNode,m=t.Selection.isDirectionBackward,v="\ufeff";t.util.extend(t,{saveRange:s,restoreRange:a,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:h,removeMarkerElement:d,removeMarkers:f})})},{rangy:"rangy"}],rangy:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof e&&"object"==typeof n?e.exports=t():i.rangy=t()}(function(){function t(t,e){var n=typeof t[e];return n==_||!(n!=w||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=w||!t[e])}function n(t,e){return typeof t[e]!=b}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function r(t){return t&&E(t,S)&&M(t,x)}function o(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function s(e){typeof console!=b&&t(console,"log")&&console.log(e)}function a(t,e){A&&e?alert(t):s(t)}function l(t){P.initialized=!0,P.supported=!1,a("Rangy is not supported in this environment. Reason: "+t,P.config.alertOnFail)}function u(t){a("Rangy warning: "+t,P.config.alertOnWarn)}function c(t){return t.message||t.description||String(t)}function h(){if(A&&!P.initialized){var e,n=!1,i=!1;t(document,"createRange")&&(e=document.createRange(),E(e,T)&&M(e,C)&&(n=!0));var a=o(document);if(!a||"body"!=a.nodeName.toLowerCase())return void l("No body element found");if(a&&t(a,"createTextRange")&&(e=a.createTextRange(),r(e)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");P.initialized=!0,P.features={implementsDomRange:n,implementsTextRange:i};var u,h;for(var d in O)(u=O[d])instanceof g&&u.init(u,P);for(var f=0,p=H.length;p>f;++f)try{H[f](P)}catch(m){h="Rangy init listener threw an exception. Continuing. Detail: "+c(m),s(h)}}}function d(t,e,n){n&&(t+=" in module "+n.name),P.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function f(t,e,n,i){t[e]=function(){return d(e,n,i),t[n].apply(t,N.toArray(arguments))}}function p(t){t=t||window,h();for(var e=0,n=I.length;n>e;++e)I[e](t)}function g(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function m(t,e,n){var i=new g(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(P,e),e.supported=!0}catch(i){var r="Module '"+t+"' failed to load: "+c(i);s(r),i.stack&&s(i.stack)}}});return O[t]=i,i}function v(){}function y(){}var w="object",_="function",b="undefined",C=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],T=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],x=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],E=i(t),R=i(e),M=i(n),k=[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var n=0,i=t.length;i>n;++n)e(t[n],n)},O={},A=typeof window!=b&&typeof document!=b,N={isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:E,areHostObjects:R,areHostProperties:M,isTextRange:r,getBody:o,forEach:k},P={version:"1.3.1-dev",initialized:!1,isBrowser:A,supported:!0,util:N,features:{},modules:O,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==b?!0:rangyAutoInitialize}};P.fail=l,P.warn=u;var D;({}).hasOwnProperty?(N.extend=D=function(t,e,n){var i,r;for(var o in e)e.hasOwnProperty(o)&&(i=t[o],r=e[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&D(i,r,!0),t[o]=r);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},N.createOptions=function(t,e){var n={};return D(n,e),t&&D(n,t),n}):l("hasOwnProperty not supported"),A||l("Rangy can only run in a browser"),function(){var t;if(A){var e=document.createElement("div");e.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(t){return n.call(t,0)})}catch(i){}}t||(t=function(t){for(var e=[],n=0,i=t.length;i>n;++n)e[n]=t[n];return e}),N.toArray=t}();var L;A&&(t(document,"addEventListener")?L=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?L=function(t,e,n){t.attachEvent("on"+e,n)}:l("Document does not have required addEventListener or attachEvent method"),N.addListener=L);var H=[];N.deprecationNotice=d,N.createAliasForDeprecatedMethod=f,P.init=h,P.addInitListener=function(t){P.initialized?t(P):H.push(t)};var I=[];P.addShimListener=function(t){I.push(t)},A&&(P.shim=P.createMissingNativeApi=p,f(P,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var t,e,n=this.dependencies||[],i=0,r=n.length;r>i;++i){if(e=n[i],t=O[e],!(t&&t instanceof g))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){P.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){P.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},P.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var i=m(t,n,e);P.initialized&&P.supported&&i.init()},P.createCoreModule=function(t,e,n){m(t,e,n)},P.RangePrototype=v,P.rangePrototype=new v,P.selectionPrototype=new y,P.createCoreModule("DomUtil",[],function(t,e){function n(t){var e;return typeof t.namespaceURI==A||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function i(t){var e=t.parentNode;return 1==e.nodeType?e:null}function r(t){for(var e=0;t=t.previousSibling;)++e;return e}function o(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function s(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(H(i,n))return n;return null}function a(t,e,n){for(var i=n?e:e.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1}function l(t,e){return a(t,e,!0)}function u(t,e,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.parentNode,i===e)return r;r=i}return null}function c(t){var e=t.nodeType;return 3==e||4==e||8==e}function h(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function d(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function f(t,e,n){var i=t.cloneNode(!1);if(i.deleteData(0,e),t.deleteData(e,t.length-e),d(i,t),n)for(var o,s=0;o=n[s++];)o.node==t&&o.offset>e?(o.node=i,o.offset-=e):o.node==t.parentNode&&o.offset>r(t)&&++o.offset;return i}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=A)return t.ownerDocument;if(typeof t.document!=A)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function g(t){var n=p(t);if(typeof n.defaultView!=A)return n.defaultView;if(typeof n.parentWindow!=A)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function m(t){if(typeof t.contentDocument!=A)return t.contentDocument;if(typeof t.contentWindow!=A)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=A)return t.contentWindow;if(typeof t.contentDocument!=A)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&N.isHostMethod(t,"setTimeout")&&N.isHostObject(t,"document")}function w(t,e,n){var i;if(t?N.isHostProperty(t,"nodeType")?i=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?m(t):p(t):y(t)&&(i=t.document):i=document,!i)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return i}function _(t){for(var e;e=t.parentNode;)t=e;return t}function b(t,n,i,o){var a,l,c,h,d;if(t==i)return n===o?0:o>n?-1:1;if(a=u(i,t,!0))return n<=r(a)?-1:1;if(a=u(t,i,!0))return r(a)<o?-1:1;if(l=s(t,i),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=t===l?l:u(t,l,!0),h=i===l?l:u(i,l,!0),c===h)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=l.firstChild;d;){if(d===c)return-1;if(d===h)return 1;d=d.nextSibling}}function C(t){var e;try{return e=t.parentNode,!1}catch(n){return!0}}function T(t){if(!t)return"[No node]";if(I&&C(t))return"[Broken node]";if(c(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+r(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function x(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function S(t,e,n){var i=P(t),r=t.createElement("div");r.contentEditable=""+!!n,e&&(r.innerHTML=e);var o=i.firstChild;return o?i.insertBefore(r,o):i.appendChild(r),r}function E(t){return t.parentNode.removeChild(t)}function R(t){this.root=t,this._next=t}function M(t){return new R(t)}function k(t,e){this.node=t,this.offset=e}function O(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var A="undefined",N=t.util,P=N.getBody;N.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),N.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var D=document.createElement("div");N.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!N.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),N.isHostProperty(D,"innerHTML")||e.fail("Element is missing innerHTML property");var L=document.createTextNode("test");N.areHostMethods(L,["splitText","deleteData","insertData","appendData","cloneNode"]||!N.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!N.areHostProperties(L,["data"]))||e.fail("Incomplete Text Node implementation");var H=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},I=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var n=e.firstChild;e.innerHTML="<br />",I=C(n),t.features.crashyTextNodes=I}();var F;typeof window.getComputedStyle!=A?F=function(t,e){return g(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=A?F=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:e.fail("No means of obtaining computed style properties found"),R.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},k.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+T(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},O.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},O.prototype.toString=function(){return this.message},t.dom={arrayContains:H,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:s,isAncestorOf:a,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:h,insertAfter:d,splitDataNode:f,getDocument:p,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:P,isWindow:y,getContentDocument:w,getRootContainer:_,comparePoints:b,isBrokenNode:C,inspectNode:T,getComputedStyleProperty:F,createTestElement:S,removeNode:E,fragmentFromNodeChildren:x,createIterator:M,DomPosition:k},t.DOMException=O}),P.createCoreModule("DomRange",["DomUtil"],function(t,e){function n(t,e){return 3!=t.nodeType&&(B(t,e.startContainer)||B(t,e.endContainer))}function i(t){return t.document||z(t.startContainer)}function r(t){return q(t.startContainer)}function o(t){return new I(t.parentNode,j(t))}function s(t){return new I(t.parentNode,j(t)+1)}function a(t,e,n){var i=11==t.nodeType?t.firstChild:t;return W(e)?n==e.length?L.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:U(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function l(t,e,n){if(S(t),S(e),i(e)!=i(t))throw new F("WRONG_DOCUMENT_ERR");var r=V(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=V(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?0>=r&&o>=0:0>r&&o>0}function u(t){for(var e,n,r,o=i(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(r=t.getSubtreeIterator(),n.appendChild(u(r)),r.detach()),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function c(t,e,n){var i,r;n=n||{stop:!1};for(var o,s;o=t.next();)if(t.isPartiallySelectedSubtree()){if(e(o)===!1)return void(n.stop=!0);if(s=t.getSubtreeIterator(),c(s,e,n),s.detach(),n.stop)return}else for(i=L.createIterator(o);r=i.next();)if(e(r)===!1)return void(n.stop=!0)}function h(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),h(e),e.detach()):t.remove()}function d(t){for(var e,n,r=i(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(d(n)),n.detach()):t.remove(),10==e.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function f(t,e,n){var i,r=!(!e||!e.length),o=!!n;r&&(i=new RegExp("^("+e.join("|")+")$"));var s=[];return c(new g(t,!1),function(e){if((!r||i.test(e.nodeType))&&(!o||n(e))){var a=t.startContainer;if(e!=a||!W(a)||t.startOffset!=a.length){var l=t.endContainer;e==l&&W(l)&&0==t.endOffset||s.push(e)}}}),s}function p(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+L.inspectNode(t.startContainer)+":"+t.startOffset+", "+L.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function g(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&W(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||W(this.sc)?Y(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||W(this.ec)?Y(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(t){return function(e,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.nodeType,X(t,i))return r;r=r.parentNode}return null}}function v(t,e){if(rt(t,e))throw new F("INVALID_NODE_TYPE_ERR")}function y(t,e){if(!X(e,t.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function w(t,e){if(0>e||e>(W(t)?t.length:t.childNodes.length))throw new F("INDEX_SIZE_ERR")}function _(t,e){if(nt(t,!0)!==nt(e,!0))throw new F("WRONG_DOCUMENT_ERR")}function b(t){if(it(t,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function C(t,e){if(!t)throw new F(e)}function T(t,e){return e<=(W(t)?t.length:t.childNodes.length)}function x(t){return!!t.startContainer&&!!t.endContainer&&!($&&(L.isBrokenNode(t.startContainer)||L.isBrokenNode(t.endContainer)))&&q(t.startContainer)==q(t.endContainer)&&T(t.startContainer,t.startOffset)&&T(t.endContainer,t.endOffset)}function S(t){if(!x(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function E(t,e){S(t);var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,s=n===r;W(r)&&o>0&&o<r.length&&U(r,o,e),W(n)&&i>0&&i<n.length&&(n=U(n,i,e),s?(o-=i,r=n):r==n.parentNode&&o>=j(n)&&o++,i=0),t.setStartAndEnd(n,i,r,o)}function R(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function M(t){t.START_TO_START=ct,t.START_TO_END=ht,t.END_TO_END=dt,t.END_TO_START=ft,t.NODE_BEFORE=pt,t.NODE_AFTER=gt,t.NODE_BEFORE_AND_AFTER=mt,t.NODE_INSIDE=vt}function k(t){M(t),M(t.prototype)}function O(t,e){return function(){S(this);var n,i,r=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,l=new g(this,!0);r!==a&&(n=Y(r,a,!0),
i=s(n),r=i.node,o=i.offset),c(l,b),l.reset();var u=t(l);return l.detach(),e(this,r,o,r,o),u}}function A(e,i){function r(t,e){return function(n){y(n,Z),y(q(n),Q);var i=(t?o:s)(n);(e?a:l)(this,i.node,i.offset)}}function a(t,e,n){var r=t.endContainer,o=t.endOffset;e===t.startContainer&&n===t.startOffset||(q(e)==q(r)&&1!=V(e,n,r,o)||(r=e,o=n),i(t,e,n,r,o))}function l(t,e,n){var r=t.startContainer,o=t.startOffset;e===t.endContainer&&n===t.endOffset||(q(e)==q(r)&&-1!=V(e,n,r,o)||(r=e,o=n),i(t,r,o,e,n))}var u=function(){};u.prototype=t.rangePrototype,e.prototype=new u,H.extend(e.prototype,{setStart:function(t,e){v(t,!0),w(t,e),a(this,t,e)},setEnd:function(t,e){v(t,!0),w(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],r=e,o=n;switch(t.length){case 3:o=t[2];break;case 4:r=t[2],o=t[3]}i(this,e,n,r,o)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(t){S(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){v(t,!0),i(this,t,0,t,G(t))},selectNode:function(t){v(t,!1),y(t,Z);var e=o(t),n=s(t);i(this,e.node,e.offset,n.node,n.offset)},extractContents:O(d,i),deleteContents:O(h,i),canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},splitBoundaries:function(){E(this)},splitBoundariesPreservingPositions:function(t){E(this,t)},normalizeBoundaries:function(){S(this);var t,e=this.startContainer,n=this.startOffset,r=this.endContainer,o=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(r=t,o=t.length,t.appendData(e.data),K(e))},a=function(t){var i=t.previousSibling;if(i&&i.nodeType==t.nodeType){e=t;var s=t.length;if(n=i.length,t.insertData(0,i.data),K(i),e==r)o+=n,r=e;else if(r==t.parentNode){var a=j(t);o==a?(r=t,o=s):o>a&&o--}}},l=!0;if(W(r))o==r.length?s(r):0==o&&(t=r.previousSibling,t&&t.nodeType==r.nodeType&&(o=t.length,e==r&&(l=!1),t.appendData(r.data),K(r),r=t));else{if(o>0){var u=r.childNodes[o-1];u&&W(u)&&s(u)}l=!this.collapsed}if(l){if(W(e))0==n?a(e):n==e.length&&(t=e.nextSibling,t&&t.nodeType==e.nodeType&&(r==t&&(r=e,o+=e.length),e.appendData(t.data),K(t)));else if(n<e.childNodes.length){var c=e.childNodes[n];c&&W(c)&&a(c)}}else e=r,n=o;i(this,e,n,r,o)},collapseToPoint:function(t,e){v(t,!0),w(t,e),this.setStartAndEnd(t,e)}}),k(e)}function N(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:L.getCommonAncestor(t.startContainer,t.endContainer)}function P(t,e,n,i,r){t.startContainer=e,t.startOffset=n,t.endContainer=i,t.endOffset=r,t.document=L.getDocument(e),N(t)}function D(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,N(this)}var L=t.dom,H=t.util,I=L.DomPosition,F=t.DOMException,W=L.isCharacterDataNode,j=L.getNodeIndex,B=L.isOrIsAncestorOf,z=L.getDocument,V=L.comparePoints,U=L.splitDataNode,Y=L.getClosestAncestorIn,G=L.getNodeLength,X=L.arrayContains,q=L.getRootContainer,$=t.features.crashyTextNodes,K=L.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,W(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!W(n)||n!==this.sc&&n!==this.ec?n.parentNode&&K(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return n(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new D(i(this.range));var e=this._current,n=e,r=0,o=e,s=G(e);B(e,this.sc)&&(n=this.sc,r=this.so),B(e,this.ec)&&(o=this.ec,s=this.eo),P(t,n,r,o,s)}return new g(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],Q=[2,9,11],J=[5,6,10,12],tt=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],nt=m([9,11]),it=m(J),rt=m([6,10,12]),ot=document.createElement("style"),st=!1;try{ot.innerHTML="<b>x</b>",st=3==ot.firstChild.nodeType}catch(at){}t.features.htmlParsingConforms=st;var lt=st?function(t){var e=this.startContainer,n=z(e);if(!e)throw new F("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:W(e)&&(i=L.parentElement(e)),i=null===i||"HTML"==i.nodeName&&L.isHtmlNamespace(z(i).documentElement)&&L.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=t,L.fragmentFromNodeChildren(i)}:function(t){var e=i(this),n=e.createElement("body");return n.innerHTML=t,L.fragmentFromNodeChildren(n)},ut=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ct=0,ht=1,dt=2,ft=3,pt=0,gt=1,mt=2,vt=3;H.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){S(this),_(this.startContainer,e.startContainer);var n,i,r,o,s=t==ft||t==ct?"start":"end",a=t==ht||t==ct?"start":"end";return n=this[s+"Container"],i=this[s+"Offset"],r=e[a+"Container"],o=e[a+"Offset"],V(n,i,r,o)},insertNode:function(t){if(S(this),y(t,tt),b(this.startContainer),B(t,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var e=a(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){S(this);var t,e;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&W(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=i(this).createDocumentFragment(),e.appendChild(t),e;var n=new g(this,!0);return t=u(n),n.detach(),t},canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,et),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);a(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new D(i(this)),n=ut.length;n--;)t=ut[n],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&W(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new g(this,!0);return c(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,n=j(t);if(!e)throw new F("NOT_FOUND_ERR");var i=this.comparePoint(e,n),r=this.comparePoint(e,n+1);return 0>i?r>0?mt:pt:r>0?gt:vt},comparePoint:function(t,e){return S(this),C(t,"HIERARCHY_REQUEST_ERR"),_(t,this.startContainer),V(t,e,this.startContainer,this.startOffset)<0?-1:V(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:lt,toHtml:function(){return R(this)},intersectsNode:function(t,e){if(S(this),q(t)!=r(this))return!1;var n=t.parentNode,i=j(t);if(!n)return!0;var o=V(n,i,this.endContainer,this.endOffset),s=V(n,i+1,this.startContainer,this.startOffset);return e?0>=o&&s>=0:0>o&&s>0},isPointInRange:function(t,e){return S(this),C(t,"HIERARCHY_REQUEST_ERR"),_(t,this.startContainer),V(t,e,this.startContainer,this.startOffset)>=0&&V(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return l(this,t,!1)},intersectsOrTouchesRange:function(t){return l(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=V(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=V(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==V(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==V(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new F("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==vt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,G(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var i=n.pop();return e.setEnd(i,i.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),f(this,t,e)},getDocument:function(){return i(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var n=i(this),r=t.createRange(n);e=e||L.getBody(n),r.selectNodeContents(e);var o=this.intersection(r),s=0,a=0;return o&&(r.setEnd(o.startContainer,o.startOffset),s=r.toString().length,a=s+o.toString().length),{start:s,end:a,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var i,r,o,s,a=[e],l=!1,u=!1;!u&&(i=a.pop());)if(3==i.nodeType)r=n+i.length,!l&&t.start>=n&&t.start<=r&&(this.setStart(i,t.start-n),l=!0),l&&t.end>=n&&t.end<=r&&(this.setEnd(i,t.end-n),u=!0),n=r;else for(s=i.childNodes,o=s.length;o--;)a.push(s[o])},getName:function(){return"DomRange"},equals:function(t){return D.rangesEqual(this,t)},isValid:function(){return x(this)},inspect:function(){return p(this)},detach:function(){}}),A(D,P),H.extend(D,{rangeProperties:ut,RangeIterator:g,copyComparisonConstants:k,createPrototypeRange:A,inspect:p,toHtml:R,getRangeDocument:i,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=D}),P.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,i,r=t.dom,o=t.util,s=r.DomPosition,a=t.DomRange,l=r.getBody,u=r.getContentDocument,c=r.isCharacterDataNode;if(t.features.implementsDomRange&&!function(){function i(t){for(var e,n=d.length;n--;)e=d[n],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function s(t,e,n,i,r){var o=t.startContainer!==e||t.startOffset!=n,s=t.endContainer!==i||t.endOffset!=r,a=!t.equals(t.nativeRange);(o||s||a)&&(t.setEnd(i,r),t.setStart(e,n))}var c,h,d=a.rangeProperties;n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,i(this)},a.createPrototypeRange(n,s),c=n.prototype,c.selectNode=function(t){this.nativeRange.selectNode(t),i(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(t){this.nativeRange.surroundContents(t),i(this)},c.collapse=function(t){this.nativeRange.collapse(t),i(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){i(this)},c.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),c.setStart=function(t,e){this.nativeRange.setStart(t,e),i(this)},c.setEnd=function(t,e){this.nativeRange.setEnd(t,e),i(this)},h=function(t){return function(e){this.nativeRange[t](e),i(this)}}}catch(g){c.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}i(this)},c.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}i(this)},h=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(r){this.nativeRange[e](n),this.nativeRange[t](n)}i(this)}}}c.setStartBefore=h("setStartBefore","setEndBefore"),c.setStartAfter=h("setStartAfter","setEndAfter"),c.setEndBefore=h("setEndBefore","setStartBefore"),c.setEndAfter=h("setEndAfter","setStartAfter"),c.selectNodeContents=function(t){this.setStartAndEnd(t,0,r.getNodeLength(t))},p.selectNodeContents(f),p.setEnd(f,3);var m=document.createRange();m.selectNodeContents(f),m.setEnd(f,4),m.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,m)&&1==p.compareBoundaryPoints(p.END_TO_START,m)?c.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:c.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,w=l(document);w.appendChild(v),p.setStart(y,1),p.setEnd(y,2),p.deleteContents(),"13"==y.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},c.extractContents=function(){var t=this.nativeRange.extractContents();return i(this),t}),w.removeChild(v),w=null,o.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(f),c.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var h=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var i=n.parentElement();n=t.duplicate(),n.collapse(!1);var o=n.parentElement(),s=i==o?i:r.getCommonAncestor(i,o);return s==e?s:r.getCommonAncestor(e,s)},d=function(t){return 0==t.compareEndPoints("StartToEnd",t)},f=function(t,e,n,i,o){var a=t.duplicate();a.collapse(n);var l=a.parentElement();if(r.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var u=new s(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var h=r.getDocument(l).createElement("span");h.parentNode&&r.removeNode(h);for(var d,f,p,g,m,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,w=l.childNodes.length,_=w,b=_;;){if(b==w?l.appendChild(h):l.insertBefore(h,l.childNodes[b]),a.moveToElementText(h),d=a.compareEndPoints(v,t),0==d||y==_)break;if(-1==d){if(_==y+1)break;y=b}else _=_==y+1?y:b;b=Math.floor((y+_)/2),l.removeChild(h)}if(m=h.nextSibling,-1==d&&m&&c(m)){a.setEndPoint(n?"EndToStart":"EndToEnd",t);var C;if(/[\r\n]/.test(m.data)){var T=a.duplicate(),x=T.text.replace(/\r\n/g,"\r").length;for(C=T.moveStart("character",x);-1==(d=T.compareEndPoints("StartToEnd",T));)C++,T.moveStart("character",1)}else C=a.text.length;g=new s(m,C)}else f=(i||!n)&&h.previousSibling,p=(i||n)&&h.nextSibling,g=p&&c(p)?new s(p,0):f&&c(f)?new s(f,f.data.length):new s(l,r.getNodeIndex(h));return r.removeNode(h),{boundaryPosition:g,nodeInfo:{nodeIndex:b,containerElement:l}}},p=function(t,e){var n,i,o,s,a=t.offset,u=r.getDocument(t.node),h=l(u).createTextRange(),d=c(t.node);return d?(n=t.node,i=n.parentNode):(s=t.node.childNodes,n=a<s.length?s[a]:null,i=t.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),h.moveToElementText(o),h.collapse(!e),i.removeChild(o),d&&h[e?"moveStart":"moveEnd"]("character",a),h};i=function(t){this.textRange=t,this.refresh()},i.prototype=new a(document),i.prototype.refresh=function(){var t,e,n,i=h(this.textRange);d(this.textRange)?e=t=f(this.textRange,i,!0,!0).boundaryPosition:(n=f(this.textRange,i,!0,!1),t=n.boundaryPosition,e=f(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},i.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(i);var g=function(t){if(t.collapsed)return p(new s(t.startContainer,t.startOffset),!0);var e=p(new s(t.startContainer,t.startOffset),!0),n=p(new s(t.endContainer,t.endOffset),!1),i=l(a.getRangeDocument(t)).createTextRange();return i.setEndPoint("StartToStart",e),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=g,i.prototype.toTextRange=function(){return g(this)},t.WrappedTextRange=i,!t.features.implementsDomRange||t.config.preferTextRange){var m=function(t){return t("return this;")()}(Function);"undefined"==typeof m.Range&&(m.Range=i),t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=i}}t.createRange=function(n){return n=u(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=u(t,e,"createRangyRange"),new a(t)},o.createAliasForDeprecatedMethod(t,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(t,"createIframeRangyRange","createRangyRange"),t.addShimListener(function(e){var n=e.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),P.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function i(t,n){if(t){if(M.isWindow(t))return t;if(t instanceof v)return t.win;var i=M.getContentDocument(t,e,n);return M.getWindow(i)}return window}function r(t){return i(t,"getWinSelection").getSelection()}function o(t){return i(t,"getDocSelection").document.selection}function s(t){var e=!1;return t.anchorNode&&(e=1==M.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function a(t,e,n){var i=n?"end":"start",r=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function u(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function c(e){var n;return e instanceof A?(n=t.createNativeRange(e.getDocument()),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof N?n=e.nativeRange:L.implementsDomRange&&e instanceof M.getWindow(e.startContainer).Range&&(n=e),n}function h(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;n>e;++e)if(!M.isAncestorOf(t[0],t[e]))return!1;return!0}function d(t){var n=t.getNodes();if(!h(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function f(t){return!!t&&"undefined"!=typeof t.text}function p(t,e){var n=new N(e);t._ranges=[n],a(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function g(e){if(e._ranges.length=0,"None"==e.docSelection.type)u(e);else{var n=e.docSelection.createRange();if(f(n))p(e,n);else{e.rangeCount=n.length;for(var i,r=I(n.item(0)),o=0;o<e.rangeCount;++o)i=t.createRange(r),i.selectNode(n.item(o)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}}function m(t,n){for(var i=t.docSelection.createRange(),r=d(n),o=I(i.item(0)),s=F(o).createControlRange(),a=0,l=i.length;l>a;++a)s.add(i.item(a));try{s.add(r)}catch(u){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),g(t)}function v(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function w(t,e){for(var n,i,r=et.length;r--;)if(n=et[r],i=n.selection,"deleteAll"==e)y(i);else if(n.win==t)return"delete"==e?(et.splice(r,1),!0):i;return"deleteAll"==e&&(et.length=0),null}function _(t,n){for(var i,r=I(n[0].startContainer),o=F(r).createControlRange(),s=0,a=n.length;a>s;++s){i=d(n[s]);try{o.add(i)}catch(l){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),g(t)}function b(t,e){if(t.win.document!=I(e))throw new P("WRONG_DOCUMENT_ERR")}function C(e){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(e?"Start":"End")](n,i)):(r=t.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function T(t){var e=[],n=new D(t.anchorNode,t.anchorOffset),i=new D(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var o=0,s=t.rangeCount;s>o;++o)e[o]=A.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}t.config.checkSelectionRanges=!0;var x,S,E="boolean",R="number",M=t.dom,k=t.util,O=k.isHostMethod,A=t.DomRange,N=t.WrappedRange,P=t.DOMException,D=M.DomPosition,L=t.features,H="Control",I=M.getDocument,F=M.getBody,W=A.rangesEqual,j=O(window,"getSelection"),B=k.isHostObject(document,"selection");L.implementsWinGetSelection=j,L.implementsDocSelection=B;var z=B&&(!j||t.config.preferTextRange);if(z)x=o,t.isSelectionValid=function(t){var e=i(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||I(n.createRange().parentElement())==e};else{if(!j)return e.fail("Neither document.selection or window.getSelection() detected."),!1;x=r,t.isSelectionValid=function(){return!0}}t.getNativeSelection=x;var V=x();if(!V)return e.fail("Native selection was null (possibly issue 138?)"),!1;var U=t.createNativeRange(document),Y=F(document),G=k.areHostProperties(V,["anchorNode","focusNode","anchorOffset","focusOffset"]);L.selectionHasAnchorAndFocus=G;var X=O(V,"extend");L.selectionHasExtend=X;var q=typeof V.rangeCount==R;L.selectionHasRangeCount=q;var $=!1,K=!0,Z=X?function(e,n){var i=A.getRangeDocument(n),r=t.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),e.addRange(c(r)),e.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(V,["addRange","getRangeAt","removeAllRanges"])&&typeof V.rangeCount==R&&L.implementsDomRange&&!function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,i=n>1,r=[],o=s(e),a=0;n>a;++a)r[a]=e.getRangeAt(a);var l=M.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("   ")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),e.removeAllRanges(),e.addRange(c),K=1==e.rangeCount,e.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)$=!1;else{var d=c.cloneRange();c.setStart(u,0),d.setEnd(u,3),d.setStart(u,2),e.addRange(c),e.addRange(d),$=2==e.rangeCount}}for(M.removeNode(l),e.removeAllRanges(),a=0;n>a;++a)0==a&&o?Z?Z(e,r[a]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[a])):e.addRange(r[a])}}(),L.selectionSupportsMultipleRanges=$,L.collapsedNonEditableSelectionsSupported=K;var Q,J=!1;Y&&O(Y,"createControlRange")&&(Q=Y.createControlRange(),k.areHostProperties(Q,["item","add"])&&(J=!0)),L.implementsControlRange=J,S=G?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var tt;O(V,"getRangeAt")?tt=function(t,e){try{return t.getRangeAt(e)}catch(n){return null}}:G&&(tt=function(e){var n=I(e.anchorNode),i=t.createRange(n);return i.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),i}),v.prototype=t.selectionPrototype;var et=[],nt=function(t){if(t&&t instanceof v)return t.refresh(),t;t=i(t,"getNativeSelection");var e=w(t),n=x(t),r=B?o(t):null;return e?(e.nativeSelection=n,e.docSelection=r,e.refresh()):(e=new v(n,r,t),et.push({win:t,selection:e})),e};t.getSelection=nt,k.createAliasForDeprecatedMethod(t,"getIframeSelection","getSelection");var it=v.prototype;if(!z&&G&&k.areHostMethods(V,["removeAllRanges","addRange"])){it.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var rt=function(t,e){Z(t.nativeSelection,e),t.refresh()};q?it.addRange=function(e,i){if(J&&B&&this.docSelection.type==H)m(this,e);else if(n(i)&&X)rt(this,e);else{var r;$?r=this.rangeCount:(this.removeAllRanges(),r=0);var o=c(e).cloneRange();try{this.nativeSelection.addRange(o)}catch(s){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(t.config.checkSelectionRanges){var l=tt(this.nativeSelection,this.rangeCount-1);l&&!W(l,e)&&(e=new N(l))}this._ranges[this.rangeCount-1]=e,a(this,e,at(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:it.addRange=function(t,e){n(e)&&X?rt(this,t):(this.nativeSelection.addRange(c(t)),this.refresh())},it.setRanges=function(t){if(J&&B&&t.length>1)_(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(O(V,"empty")&&O(U,"select")&&J&&z))return e.fail("No means of selecting a Range or TextRange was found"),!1;it.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=I(this.anchorNode);else if(this.docSelection.type==H){var e=this.docSelection.createRange();e.length&&(t=I(e.item(0)))}if(t){var n=F(t).createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}u(this)},it.addRange=function(e){this.docSelection.type==H?m(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},it.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?_(this,t):e&&this.addRange(t[0])}}it.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new P("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var ot;if(z)ot=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=F(e.win.document).createTextRange(),n.collapse(!0)),e.docSelection.type==H?g(e):f(n)?p(e,n):u(e)};else if(O(V,"getRangeAt")&&typeof V.rangeCount==R)ot=function(e){if(J&&B&&e.docSelection.type==H)g(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,i=e.rangeCount;i>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));a(e,e._ranges[e.rangeCount-1],at(e.nativeSelection)),e.isCollapsed=S(e)}else u(e)};else{if(!G||typeof V.isCollapsed!=E||typeof U.collapsed!=E||!L.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ot=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=tt(n,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=S(t)):u(t)}}it.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(ot(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!W(e[r],this._ranges[r]))return!0;return!1}};var st=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var i=0,r=n.length;r>i;++i)W(e,n[i])||t.addRange(n[i]);t.rangeCount||u(t)};J&&B?it.removeRange=function(t){if(this.docSelection.type==H){for(var e,n=this.docSelection.createRange(),i=d(t),r=I(n.item(0)),o=F(r).createControlRange(),s=!1,a=0,l=n.length;l>a;++a)e=n.item(a),e!==i||s?o.add(n.item(a)):s=!0;o.select(),g(this)}else st(this,t)}:it.removeRange=function(t){st(this,t)};var at;!z&&G&&L.implementsDomRange?(at=s,it.isBackward=function(){return at(this)}):at=it.isBackward=function(){return!1},it.isBackwards=it.isBackward,it.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},it.collapse=function(e,n){b(this,e);var i=t.createRange(e);i.collapseToPoint(e,n),this.setSingleRange(i),this.isCollapsed=!0},it.collapseToStart=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},it.collapseToEnd=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},it.selectAllChildren=function(e){b(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},it.deleteFromDocument=function(){if(J&&B&&this.docSelection.type==H){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),M.removeNode(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}}},it.eachRange=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(t(this.getRangeAt(n)))return e},it.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},it.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},it.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(i){n.push(i[t].apply(i,e||[]))}),n},it.setStart=C(!0),it.setEnd=C(!1),t.rangePrototype.select=function(t){nt(this.getDocument()).setSingleRange(this,t)},it.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},it.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},it.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},it.moveToBookmark=function(e){for(var n,i,r=[],o=0;n=e.rangeBookmarks[o++];)i=t.createRange(this.win),i.moveToBookmark(n),r.push(i);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},it.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},it.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},it.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(A.toHtml(e))}),t.join("")},L.implementsTextRange&&(it.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(f(i))return i;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),it.getName=function(){return"WrappedSelection"},it.inspect=function(){return T(this)},it.detach=function(){w(this.win,"delete"),y(this)},v.detachAll=function(){w(null,"deleteAll")},v.inspect=T,v.isDirectionBackward=n,t.Selection=v,t.selectionPrototype=it,t.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return nt(t)}),t=null})});var F=!1,W=function(t){F||(F=!0,!P.initialized&&P.config.autoInitialize&&h())};return A&&("complete"==document.readyState?W():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",W,!1),L(window,"load",W))),P},this)},{}],topojson:[function(t,e,i){!function(){function t(t,e){function n(e){var n,i=t.arcs[0>e?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],0>e?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[0>t?~t:t]=1}),a.push(i)}}var r={},o={},s={},a=[],l=-1;return e.forEach(function(n,i){var r,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++l],e[l]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),a=r[0],l=r[1];if(e=s[a])if(delete s[e.end],e.push(t),e.end=l,i=o[l]){delete o[i.start];var u=i===e?e:e.concat(i);o[u.start=e.start]=s[u.end=i.end]=u}else o[e.start]=s[e.end]=e;else if(e=o[l])if(delete o[e.start],
e.unshift(t),e.start=a,i=s[a]){delete s[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=s[c.end=e.end]=c}else o[e.start]=s[e.end]=e;else e=[t],o[e.start=a]=s[e.end=l]=e}),i(s,o),i(o,s),e.forEach(function(t){r[0>t?~t:t]||a.push([t])}),a}function i(e,n,i){function r(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function o(t){t.forEach(r)}function s(t){t.forEach(o)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in h&&(u=t,h[t.type](t.arcs))}var l=[];if(arguments.length>1){var u,c=[],h={LineString:o,MultiLineString:s,Polygon:s,MultiPolygon:function(t){t.forEach(s)}};a(n),c.forEach(arguments.length<3?function(t){l.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&l.push(t[0].i)})}else for(var d=0,f=e.arcs.length;f>d;++d)l.push(d);return{type:"MultiLineString",arcs:t(e,l)}}function r(e,i){function r(t){t.forEach(function(e){e.forEach(function(e){(s[e=0>e?~e:e]||(s[e]=[])).push(t)})}),l.push(t)}function o(t){return d(a(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var s={},l=[],u=[];return i.forEach(function(t){"Polygon"===t.type?r(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(r)}),l.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,u.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),l.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:u.map(function(i){var r=[];if(i.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].length<2&&r.push(t)})})}),r=t(e,r),(n=r.length)>1)for(var a,l=o(i[0][0]),u=0;u<n;++u)if(l===o(r[u])){a=r[0],r[0]=r[u],r[u]=a;break}return r})}}function o(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:a(t,e)};return null==e.id&&delete n.id,n}function a(t,e){function n(t,e){e.length&&e.pop();for(var n,i=c[0>t?~t:t],r=0,o=i.length;o>r;++r)e.push(n=i[r].slice()),u(n,r);0>t&&l(e,o)}function i(t){return t=t.slice(),u(t,0),t}function r(t){for(var e=[],i=0,r=t.length;r>i;++i)n(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(o)}function a(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(a)}:e in h?{type:e,coordinates:h[e](t)}:null}var u=m(t.transform),c=t.arcs,h={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return r(t.arcs)},MultiLineString:function(t){return t.arcs.map(r)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return a(e)}function l(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function u(t,e){for(var n=0,i=t.length;i>n;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function c(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var r={},o=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var a in r)for(var l=r[a],c=l.length,h=0;c>h;++h)for(var d=h+1;c>d;++d){var f,p=l[h],g=l[d];(f=o[p])[a=u(f,g)]!==g&&f.splice(a,0,g),(f=o[g])[a=u(f,p)]!==p&&f.splice(a,0,p)}return o}function h(t,e){function n(t){s.remove(t),t[1][2]=e(t),s.push(t)}var i,r=m(t.transform),o=v(t.transform),s=g(),a=0;for(e||(e=f),t.arcs.forEach(function(t){var n=[];t.forEach(r);for(var o=1,a=t.length-1;a>o;++o)i=t.slice(o-1,o+2),i[1][2]=e(i),n.push(i),s.push(i);t[0][2]=t[a][2]=1/0;for(var o=0,a=n.length;a>o;++o)i=n[o],i.previous=n[o-1],i.next=n[o+1]});i=s.pop();){var l=i.previous,u=i.next;i[1][2]<a?i[1][2]=a:a=i[1][2],l&&(l.next=u,l[2]=i[2],n(l)),u&&(u.previous=l,u[0]=i[0],n(u))}return t.arcs.forEach(function(t){t.forEach(o)}),t}function d(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return.5*o}function f(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function p(t,e){return t[1][2]-e[1][2]}function g(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(p(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,s=e,a=i[s];if(r>o&&p(i[o],a)<0&&(a=i[s=o]),r>n&&p(i[n],a)<0&&(a=i[s=n]),s===e)break;i[a._=e]=a,i[t._=e=s]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(0>=r)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,s=n._;if(i[s]===n)return s!==--r&&(o=i[r],(p(o,n)<0?t:e)(i[o._=s]=o,s)),s},n}function m(t){if(!t)return y;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0),t[0]=(e+=t[0])*i+o,t[1]=(n+=t[1])*r+s}}function v(t){if(!t)return y;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var l=(t[0]-o)/i|0,u=(t[1]-s)/r|0;t[0]=l-e,t[1]=u-n,e=l,n=u}}function y(){}var w={version:"1.6.9",mesh:function(t){return a(t,i.apply(this,arguments))},meshArcs:i,merge:function(t){return a(t,r.apply(this,arguments))},mergeArcs:r,feature:o,neighbors:c,presimplify:h};"function"==typeof define&&define.amd?define(w):"object"==typeof e&&e.exports?e.exports=w:this.topojson=w}()},{}],undo:[function(t,e,n){(function(){function t(t,e){var n,i;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}var e,i=function(){},r=function(e,n){var r;return r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},i.prototype=e.prototype,r.prototype=new i,n&&t(r.prototype,n),r.prototype.constructor=r,r.__super__=e.prototype,r};e="undefined"!=typeof n?n:this.Undo={},e.Stack=function(){this.commands=[],this.stackPosition=-1,this.savePosition=-1,this.ignoreCommand=!1},t(e.Stack.prototype,{execute:function(t){this._clearRedo(),t.execute(),this.commands.push(t),this.stackPosition++,this.changed()},undo:function(){this.ignoreCommand=!0,this.commands[this.stackPosition].undo(),this.stackPosition--,this.changed(),this.ignoreCommand=!1},canUndo:function(){return this.stackPosition>=0},redo:function(){this.ignoreCommand=!0,this.stackPosition++,this.commands[this.stackPosition].redo(),this.changed(),this.ignoreCommand=!1},canRedo:function(){return this.stackPosition<this.commands.length-1},save:function(){this.savePosition=this.stackPosition,this.changed()},dirty:function(){return this.stackPosition!=this.savePosition},_clearRedo:function(){this.commands=this.commands.slice(0,this.stackPosition+1)},changed:function(){}}),e.Command=function(t){this.name=t};var o=new Error("override me!");t(e.Command.prototype,{execute:function(){this.timestamp=(new Date).getTime()},undo:function(){throw o},redo:function(){this.execute()},type:"default",timestamp:0}),e.Command.extend=function(t){var n=r(this,t);return n.extend=e.Command.extend,n}}).call(this)},{}]},{},["backbone","brick","chartist-plugin-tooltip","chartist","d3","datamaps","Draggable","DrawSVGPlugin","Dropzone","handsontable.full","jquery.classygradient","jquery.colorpicker","kdTree","medium","minicolors","mousetrap","rangy-classapplier","rangy-selectionsavestore","rangy","topojson","TweenMax","undo"]);